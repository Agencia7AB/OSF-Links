var z4=Object.defineProperty;var W4=(t,e,n)=>e in t?z4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xg=(t,e,n)=>W4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ti(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zI={exports:{}},pp={},WI={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),H4=Symbol.for("react.portal"),K4=Symbol.for("react.fragment"),q4=Symbol.for("react.strict_mode"),G4=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),Q4=Symbol.for("react.context"),X4=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Z4=Symbol.for("react.memo"),eV=Symbol.for("react.lazy"),tE=Symbol.iterator;function tV(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var HI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KI=Object.assign,qI={};function fl(t,e,n){this.props=t,this.context=e,this.refs=qI,this.updater=n||HI}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GI(){}GI.prototype=fl.prototype;function sw(t,e,n){this.props=t,this.context=e,this.refs=qI,this.updater=n||HI}var aw=sw.prototype=new GI;aw.constructor=sw;KI(aw,fl.prototype);aw.isPureReactComponent=!0;var nE=Array.isArray,YI=Object.prototype.hasOwnProperty,lw={current:null},QI={key:!0,ref:!0,__self:!0,__source:!0};function XI(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)YI.call(e,r)&&!QI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pc,type:t,key:o,ref:s,props:i,_owner:lw.current}}function nV(t,e){return{$$typeof:Pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pc}function rV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rE=/\/+/g;function Eg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rV(""+t.key):e.toString(36)}function hf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Pc:case H4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Eg(s,0):r,nE(i)?(n="",t!=null&&(n=t.replace(rE,"$&/")+"/"),hf(i,e,n,"",function(u){return u})):i!=null&&(uw(i)&&(i=nV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",nE(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Eg(o,a);s+=hf(o,e,n,l,i)}else if(l=tV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Eg(o,a++),s+=hf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ad(t,e,n){if(t==null)return t;var r=[],i=0;return hf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},pf={transition:null},oV={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:pf,ReactCurrentOwner:lw};function JI(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ad,forEach:function(t,e,n){Ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ad(t,function(){e++}),e},toArray:function(t){return Ad(t,function(e){return e})||[]},only:function(t){if(!uw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=fl;me.Fragment=K4;me.Profiler=G4;me.PureComponent=sw;me.StrictMode=q4;me.Suspense=J4;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oV;me.act=JI;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KI({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=lw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YI.call(e,l)&&!QI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pc,type:t.type,key:i,ref:o,props:r,_owner:s}};me.createContext=function(t){return t={$$typeof:Q4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y4,_context:t},t.Consumer=t};me.createElement=XI;me.createFactory=function(t){var e=XI.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:X4,render:t}};me.isValidElement=uw;me.lazy=function(t){return{$$typeof:eV,_payload:{_status:-1,_result:t},_init:iV}};me.memo=function(t,e){return{$$typeof:Z4,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};me.unstable_act=JI;me.useCallback=function(t,e){return yn.current.useCallback(t,e)};me.useContext=function(t){return yn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};me.useEffect=function(t,e){return yn.current.useEffect(t,e)};me.useId=function(){return yn.current.useId()};me.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return yn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};me.useRef=function(t){return yn.current.useRef(t)};me.useState=function(t){return yn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return yn.current.useTransition()};me.version="18.3.1";WI.exports=me;var x=WI.exports;const sV=ti(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV=x,lV=Symbol.for("react.element"),uV=Symbol.for("react.fragment"),cV=Object.prototype.hasOwnProperty,dV=aV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fV={key:!0,ref:!0,__self:!0,__source:!0};function ZI(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cV.call(e,r)&&!fV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lV,type:t,key:o,ref:s,props:i,_owner:dV.current}}pp.Fragment=uV;pp.jsx=ZI;pp.jsxs=ZI;zI.exports=pp;var m=zI.exports,eC={exports:{}},Qn={},tC={exports:{}},nC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var X=M.length;M.push(F);e:for(;0<X;){var se=X-1>>>1,G=M[se];if(0<i(G,F))M[se]=F,M[X]=G,X=se;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],X=M.pop();if(X!==F){M[0]=X;e:for(var se=0,G=M.length,he=G>>>1;se<he;){var ln=2*(se+1)-1,Ze=M[ln],yr=ln+1,vr=M[yr];if(0>i(Ze,X))yr<G&&0>i(vr,Ze)?(M[se]=vr,M[yr]=X,se=yr):(M[se]=Ze,M[ln]=X,se=ln);else if(yr<G&&0>i(vr,X))M[se]=vr,M[yr]=X,se=yr;else break e}}return F}function i(M,F){var X=M.sortIndex-F.sortIndex;return X!==0?X:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function C(M){if(w=!1,E(M),!y)if(n(l)!==null)y=!0,Y(k);else{var F=n(u);F!==null&&U(C,F.startTime-M)}}function k(M,F){y=!1,w&&(w=!1,v(A),A=-1),p=!0;var X=h;try{for(E(F),f=n(l);f!==null&&(!(f.expirationTime>F)||M&&!N());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var G=se(f.expirationTime<=F);F=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),E(F)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var ln=n(u);ln!==null&&U(C,ln.startTime-F),he=!1}return he}finally{f=null,h=X,p=!1}}var I=!1,S=null,A=-1,P=5,R=-1;function N(){return!(t.unstable_now()-R<P)}function j(){if(S!==null){var M=t.unstable_now();R=M;var F=!0;try{F=S(!0,M)}finally{F?D():(I=!1,S=null)}}else I=!1}var D;if(typeof b=="function")D=function(){b(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=j,D=function(){q.postMessage(null)}}else D=function(){g(j,0)};function Y(M){S=M,I||(I=!0,D())}function U(M,F){A=g(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Y(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var X=h;h=F;try{return M()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=h;h=M;try{return F()}finally{h=X}},t.unstable_scheduleCallback=function(M,F,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,M={id:c++,callback:F,priorityLevel:M,startTime:X,expirationTime:G,sortIndex:-1},X>se?(M.sortIndex=X,e(u,M),n(l)===null&&M===n(u)&&(w?(v(A),A=-1):w=!0,U(C,X-se))):(M.sortIndex=G,e(l,M),y||p||(y=!0,Y(k))),M},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(M){var F=h;return function(){var X=h;h=F;try{return M.apply(this,arguments)}finally{h=X}}}})(nC);tC.exports=nC;var hV=tC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV=x,Hn=hV;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,zu={};function Ws(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(zu[t]=e,t=0;t<e.length;t++)rC.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zy=Object.prototype.hasOwnProperty,mV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iE={},oE={};function gV(t){return zy.call(oE,t)?!0:zy.call(iE,t)?!1:mV.test(t)?oE[t]=!0:(iE[t]=!0,!1)}function yV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vV(t,e,n,r){if(e===null||typeof e>"u"||yV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cw=/[\-:]([a-z])/g;function dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cw,dw);zt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cw,dw);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cw,dw);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fw(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vV(e,n,i,r)&&(n=null),r||i===null?gV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=pV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),ha=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Ky=Symbol.for("react.suspense_list"),mw=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),sC=Symbol.for("react.offscreen"),sE=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=sE&&t[sE]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Tg;function fu(t){if(Tg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tg=e&&e[1]||""}return`
`+Tg+t}var Sg=!1;function Ag(t,e){if(!t||Sg)return"";Sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Sg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function wV(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function qy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case ha:return"Portal";case Wy:return"Profiler";case hw:return"StrictMode";case Hy:return"Suspense";case Ky:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oC:return(t.displayName||"Context")+".Consumer";case iC:return(t._context.displayName||"Context")+".Provider";case pw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mw:return e=t.displayName||null,e!==null?e:qy(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return qy(t(e))}catch{}}return null}function _V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qy(e);case 8:return e===hw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bV(t){var e=aC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Id(t){t._valueTracker||(t._valueTracker=bV(t))}function lC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gy(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uC(t,e){e=e.checked,e!=null&&fw(t,"checked",e,!1)}function Yy(t,e){uC(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qy(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qy(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hu=Array.isArray;function Ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(hu(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function cC(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cd,fC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xV=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){xV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function hC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function pC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EV=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zy(t,e){if(e){if(EV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ev(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=null;function gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nv=null,ka=null,Oa=null;function dE(t){if(t=kc(t)){if(typeof nv!="function")throw Error(K(280));var e=t.stateNode;e&&(e=wp(e),nv(t.stateNode,t.type,e))}}function mC(t){ka?Oa?Oa.push(t):Oa=[t]:ka=t}function gC(){if(ka){var t=ka,e=Oa;if(Oa=ka=null,dE(t),e)for(t=0;t<e.length;t++)dE(e[t])}}function yC(t,e){return t(e)}function vC(){}var Pg=!1;function wC(t,e,n){if(Pg)return t(e,n);Pg=!0;try{return yC(t,e,n)}finally{Pg=!1,(ka!==null||Oa!==null)&&(vC(),gC())}}function Hu(t,e){var n=t.stateNode;if(n===null)return null;var r=wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var rv=!1;if(Ti)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){rv=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{rv=!1}function TV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tu=!1,Bf=null,zf=!1,iv=null,SV={onError:function(t){Tu=!0,Bf=t}};function AV(t,e,n,r,i,o,s,a,l){Tu=!1,Bf=null,TV.apply(SV,arguments)}function PV(t,e,n,r,i,o,s,a,l){if(AV.apply(this,arguments),Tu){if(Tu){var u=Bf;Tu=!1,Bf=null}else throw Error(K(198));zf||(zf=!0,iv=u)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _C(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fE(t){if(Hs(t)!==t)throw Error(K(188))}function IV(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fE(i),t;if(o===r)return fE(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function bC(t){return t=IV(t),t!==null?xC(t):null}function xC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xC(t);if(e!==null)return e;t=t.sibling}return null}var EC=Hn.unstable_scheduleCallback,hE=Hn.unstable_cancelCallback,CV=Hn.unstable_shouldYield,kV=Hn.unstable_requestPaint,ut=Hn.unstable_now,OV=Hn.unstable_getCurrentPriorityLevel,yw=Hn.unstable_ImmediatePriority,TC=Hn.unstable_UserBlockingPriority,Wf=Hn.unstable_NormalPriority,NV=Hn.unstable_LowPriority,SC=Hn.unstable_IdlePriority,mp=null,Wr=null;function RV(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(mp,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:MV,DV=Math.log,jV=Math.LN2;function MV(t){return t>>>=0,t===0?32:31-(DV(t)/jV|0)|0}var kd=64,Od=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=pu(a):(o&=s,o!==0&&(r=pu(o)))}else s=n&~i,s!==0?r=pu(s):o!==0&&(r=pu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function LV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ov(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AC(){var t=kd;return kd<<=1,!(kd&4194240)&&(kd=64),t}function Ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function $V(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function vw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function PC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IC,ww,CC,kC,OC,sv=!1,Nd=[],po=null,mo=null,go=null,Ku=new Map,qu=new Map,no=[],UV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pE(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(e.pointerId)}}function Ql(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kc(e),e!==null&&ww(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FV(t,e,n,r,i){switch(e){case"focusin":return po=Ql(po,t,e,n,r,i),!0;case"dragenter":return mo=Ql(mo,t,e,n,r,i),!0;case"mouseover":return go=Ql(go,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ku.set(o,Ql(Ku.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qu.set(o,Ql(qu.get(o)||null,t,e,n,r,i)),!0}return!1}function NC(t){var e=us(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=_C(n),e!==null){t.blockedOn=e,OC(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=av(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tv=r,n.target.dispatchEvent(r),tv=null}else return e=kc(n),e!==null&&ww(e),t.blockedOn=n,!1;e.shift()}return!0}function mE(t,e,n){mf(t)&&n.delete(e)}function BV(){sv=!1,po!==null&&mf(po)&&(po=null),mo!==null&&mf(mo)&&(mo=null),go!==null&&mf(go)&&(go=null),Ku.forEach(mE),qu.forEach(mE)}function Xl(t,e){t.blockedOn===e&&(t.blockedOn=null,sv||(sv=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,BV)))}function Gu(t){function e(i){return Xl(i,t)}if(0<Nd.length){Xl(Nd[0],t);for(var n=1;n<Nd.length;n++){var r=Nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&Xl(po,t),mo!==null&&Xl(mo,t),go!==null&&Xl(go,t),Ku.forEach(e),qu.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)NC(n),n.blockedOn===null&&no.shift()}var Na=Vi.ReactCurrentBatchConfig,Kf=!0;function zV(t,e,n,r){var i=Oe,o=Na.transition;Na.transition=null;try{Oe=1,_w(t,e,n,r)}finally{Oe=i,Na.transition=o}}function WV(t,e,n,r){var i=Oe,o=Na.transition;Na.transition=null;try{Oe=4,_w(t,e,n,r)}finally{Oe=i,Na.transition=o}}function _w(t,e,n,r){if(Kf){var i=av(t,e,n,r);if(i===null)Vg(t,e,r,qf,n),pE(t,r);else if(FV(i,t,e,n,r))r.stopPropagation();else if(pE(t,r),e&4&&-1<UV.indexOf(t)){for(;i!==null;){var o=kc(i);if(o!==null&&IC(o),o=av(t,e,n,r),o===null&&Vg(t,e,r,qf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vg(t,e,r,null,n)}}var qf=null;function av(t,e,n,r){if(qf=null,t=gw(r),t=us(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_C(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qf=t,null}function RC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OV()){case yw:return 1;case TC:return 4;case Wf:case NV:return 16;case SC:return 536870912;default:return 16}default:return 16}}var co=null,bw=null,gf=null;function DC(){if(gf)return gf;var t,e=bw,n=e.length,r,i="value"in co?co.value:co.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gf=i.slice(t,1<r?1-r:void 0)}function yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rd(){return!0}function gE(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rd:gE,this.isPropagationStopped=gE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xw=Xn(hl),Cc=Xe({},hl,{view:0,detail:0}),HV=Xn(Cc),Cg,kg,Jl,gp=Xe({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ew,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(Cg=t.screenX-Jl.screenX,kg=t.screenY-Jl.screenY):kg=Cg=0,Jl=t),Cg)},movementY:function(t){return"movementY"in t?t.movementY:kg}}),yE=Xn(gp),KV=Xe({},gp,{dataTransfer:0}),qV=Xn(KV),GV=Xe({},Cc,{relatedTarget:0}),Og=Xn(GV),YV=Xe({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),QV=Xn(YV),XV=Xe({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JV=Xn(XV),ZV=Xe({},hl,{data:0}),vE=Xn(ZV),e3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n3[t])?!!e[t]:!1}function Ew(){return r3}var i3=Xe({},Cc,{key:function(t){if(t.key){var e=e3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ew,charCode:function(t){return t.type==="keypress"?yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o3=Xn(i3),s3=Xe({},gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wE=Xn(s3),a3=Xe({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ew}),l3=Xn(a3),u3=Xe({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),c3=Xn(u3),d3=Xe({},gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f3=Xn(d3),h3=[9,13,27,32],Tw=Ti&&"CompositionEvent"in window,Su=null;Ti&&"documentMode"in document&&(Su=document.documentMode);var p3=Ti&&"TextEvent"in window&&!Su,jC=Ti&&(!Tw||Su&&8<Su&&11>=Su),_E=" ",bE=!1;function MC(t,e){switch(t){case"keyup":return h3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function m3(t,e){switch(t){case"compositionend":return LC(e);case"keypress":return e.which!==32?null:(bE=!0,_E);case"textInput":return t=e.data,t===_E&&bE?null:t;default:return null}}function g3(t,e){if(ma)return t==="compositionend"||!Tw&&MC(t,e)?(t=DC(),gf=bw=co=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jC&&e.locale!=="ko"?null:e.data;default:return null}}var y3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y3[t.type]:e==="textarea"}function VC(t,e,n,r){mC(r),e=Gf(e,"onChange"),0<e.length&&(n=new xw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Au=null,Yu=null;function v3(t){YC(t,0)}function yp(t){var e=va(t);if(lC(e))return t}function w3(t,e){if(t==="change")return e}var $C=!1;if(Ti){var Ng;if(Ti){var Rg="oninput"in document;if(!Rg){var EE=document.createElement("div");EE.setAttribute("oninput","return;"),Rg=typeof EE.oninput=="function"}Ng=Rg}else Ng=!1;$C=Ng&&(!document.documentMode||9<document.documentMode)}function TE(){Au&&(Au.detachEvent("onpropertychange",UC),Yu=Au=null)}function UC(t){if(t.propertyName==="value"&&yp(Yu)){var e=[];VC(e,Yu,t,gw(t)),wC(v3,e)}}function _3(t,e,n){t==="focusin"?(TE(),Au=e,Yu=n,Au.attachEvent("onpropertychange",UC)):t==="focusout"&&TE()}function b3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yp(Yu)}function x3(t,e){if(t==="click")return yp(e)}function E3(t,e){if(t==="input"||t==="change")return yp(e)}function T3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:T3;function Qu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zy.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var n=SE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SE(n)}}function FC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BC(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function Sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S3(t){var e=BC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FC(n.ownerDocument.documentElement,n)){if(r!==null&&Sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=AE(n,o);var s=AE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A3=Ti&&"documentMode"in document&&11>=document.documentMode,ga=null,lv=null,Pu=null,uv=!1;function PE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uv||ga==null||ga!==Ff(r)||(r=ga,"selectionStart"in r&&Sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&Qu(Pu,r)||(Pu=r,r=Gf(lv,"onSelect"),0<r.length&&(e=new xw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function Dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},Dg={},zC={};Ti&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function vp(t){if(Dg[t])return Dg[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zC)return Dg[t]=e[n];return t}var WC=vp("animationend"),HC=vp("animationiteration"),KC=vp("animationstart"),qC=vp("transitionend"),GC=new Map,IE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){GC.set(t,e),Ws(e,[t])}for(var jg=0;jg<IE.length;jg++){var Mg=IE[jg],P3=Mg.toLowerCase(),I3=Mg[0].toUpperCase()+Mg.slice(1);Fo(P3,"on"+I3)}Fo(WC,"onAnimationEnd");Fo(HC,"onAnimationIteration");Fo(KC,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(qC,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function CE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PV(r,e,void 0,t),t.currentTarget=null}function YC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;CE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;CE(i,a,u),o=l}}}if(zf)throw t=iv,zf=!1,iv=null,t}function Fe(t,e){var n=e[pv];n===void 0&&(n=e[pv]=new Set);var r=t+"__bubble";n.has(r)||(QC(e,t,2,!1),n.add(r))}function Lg(t,e,n){var r=0;e&&(r|=4),QC(n,t,r,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[jd]){t[jd]=!0,rC.forEach(function(n){n!=="selectionchange"&&(C3.has(n)||Lg(n,!1,t),Lg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,Lg("selectionchange",!1,e))}}function QC(t,e,n,r){switch(RC(e)){case 1:var i=zV;break;case 4:i=WV;break;default:i=_w}n=i.bind(null,e,n,t),i=void 0,!rv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=us(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}wC(function(){var u=o,c=gw(n),f=[];e:{var h=GC.get(t);if(h!==void 0){var p=xw,y=t;switch(t){case"keypress":if(yf(n)===0)break e;case"keydown":case"keyup":p=o3;break;case"focusin":y="focus",p=Og;break;case"focusout":y="blur",p=Og;break;case"beforeblur":case"afterblur":p=Og;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=l3;break;case WC:case HC:case KC:p=QV;break;case qC:p=c3;break;case"scroll":p=HV;break;case"wheel":p=f3;break;case"copy":case"cut":case"paste":p=JV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wE}var w=(e&4)!==0,g=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,v!==null&&(C=Hu(b,v),C!=null&&w.push(Ju(b,C,E)))),g)break;b=b.return}0<w.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==tv&&(y=n.relatedTarget||n.fromElement)&&(us(y)||y[Si]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?us(y):null,y!==null&&(g=Hs(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=yE,C="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=wE,C="onPointerLeave",v="onPointerEnter",b="pointer"),g=p==null?h:va(p),E=y==null?h:va(y),h=new w(C,b+"leave",p,n,c),h.target=g,h.relatedTarget=E,C=null,us(c)===u&&(w=new w(v,b+"enter",y,n,c),w.target=E,w.relatedTarget=g,C=w),g=C,p&&y)t:{for(w=p,v=y,b=0,E=w;E;E=sa(E))b++;for(E=0,C=v;C;C=sa(C))E++;for(;0<b-E;)w=sa(w),b--;for(;0<E-b;)v=sa(v),E--;for(;b--;){if(w===v||v!==null&&w===v.alternate)break t;w=sa(w),v=sa(v)}w=null}else w=null;p!==null&&kE(f,h,p,w,!1),y!==null&&g!==null&&kE(f,g,y,w,!0)}}e:{if(h=u?va(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=w3;else if(xE(h))if($C)k=E3;else{k=b3;var I=_3}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=x3);if(k&&(k=k(t,u))){VC(f,k,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Qy(h,"number",h.value)}switch(I=u?va(u):window,t){case"focusin":(xE(I)||I.contentEditable==="true")&&(ga=I,lv=u,Pu=null);break;case"focusout":Pu=lv=ga=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,PE(f,n,c);break;case"selectionchange":if(A3)break;case"keydown":case"keyup":PE(f,n,c)}var S;if(Tw)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ma?MC(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(jC&&n.locale!=="ko"&&(ma||A!=="onCompositionStart"?A==="onCompositionEnd"&&ma&&(S=DC()):(co=c,bw="value"in co?co.value:co.textContent,ma=!0)),I=Gf(u,A),0<I.length&&(A=new vE(A,t,null,n,c),f.push({event:A,listeners:I}),S?A.data=S:(S=LC(n),S!==null&&(A.data=S)))),(S=p3?m3(t,n):g3(t,n))&&(u=Gf(u,"onBeforeInput"),0<u.length&&(c=new vE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}YC(f,e)})}function Ju(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hu(t,n),o!=null&&r.unshift(Ju(t,o,i)),o=Hu(t,e),o!=null&&r.push(Ju(t,o,i))),t=t.return}return r}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hu(n,o),l!=null&&s.unshift(Ju(n,l,a))):i||(l=Hu(n,o),l!=null&&s.push(Ju(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var k3=/\r\n?/g,O3=/\u0000|\uFFFD/g;function OE(t){return(typeof t=="string"?t:""+t).replace(k3,`
`).replace(O3,"")}function Md(t,e,n){if(e=OE(e),OE(t)!==e&&n)throw Error(K(425))}function Yf(){}var cv=null,dv=null;function fv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(t){return NE.resolve(null).then(t).catch(D3)}:hv;function D3(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gu(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+pl,Zu="__reactProps$"+pl,Si="__reactContainer$"+pl,pv="__reactEvents$"+pl,j3="__reactListeners$"+pl,M3="__reactHandles$"+pl;function us(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RE(t);t!==null;){if(n=t[Fr])return n;t=RE(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[Fr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function wp(t){return t[Zu]||null}var mv=[],wa=-1;function Bo(t){return{current:t}}function ze(t){0>wa||(t.current=mv[wa],mv[wa]=null,wa--)}function $e(t,e){wa++,mv[wa]=t.current,t.current=e}var Oo={},sn=Bo(Oo),Sn=Bo(!1),As=Oo;function Ba(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function Qf(){ze(Sn),ze(sn)}function DE(t,e,n){if(sn.current!==Oo)throw Error(K(168));$e(sn,e),$e(Sn,n)}function XC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,_V(t)||"Unknown",i));return Xe({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,As=sn.current,$e(sn,t),$e(Sn,Sn.current),!0}function jE(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=XC(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,ze(Sn),ze(sn),$e(sn,t)):ze(Sn),$e(Sn,n)}var li=null,_p=!1,Ug=!1;function JC(t){li===null?li=[t]:li.push(t)}function L3(t){_p=!0,JC(t)}function zo(){if(!Ug&&li!==null){Ug=!0;var t=0,e=Oe;try{var n=li;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}li=null,_p=!1}catch(i){throw li!==null&&(li=li.slice(t+1)),EC(yw,zo),i}finally{Oe=e,Ug=!1}}return null}var _a=[],ba=0,Jf=null,Zf=0,nr=[],rr=0,Ps=null,di=1,fi="";function rs(t,e){_a[ba++]=Zf,_a[ba++]=Jf,Jf=t,Zf=e}function ZC(t,e,n){nr[rr++]=di,nr[rr++]=fi,nr[rr++]=Ps,Ps=t;var r=di;t=fi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,di=1<<32-Pr(e)+i|n<<i|r,fi=o+t}else di=1<<o|n<<i|r,fi=t}function Aw(t){t.return!==null&&(rs(t,1),ZC(t,1,0))}function Pw(t){for(;t===Jf;)Jf=_a[--ba],_a[ba]=null,Zf=_a[--ba],_a[ba]=null;for(;t===Ps;)Ps=nr[--rr],nr[rr]=null,fi=nr[--rr],nr[rr]=null,di=nr[--rr],nr[rr]=null}var Bn=null,$n=null,He=!1,Er=null;function ek(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ME(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,$n=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,$n=null,!0):!1;default:return!1}}function gv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yv(t){if(He){var e=$n;if(e){var n=e;if(!ME(t,e)){if(gv(t))throw Error(K(418));e=yo(n.nextSibling);var r=Bn;e&&ME(t,e)?ek(r,n):(t.flags=t.flags&-4097|2,He=!1,Bn=t)}}else{if(gv(t))throw Error(K(418));t.flags=t.flags&-4097|2,He=!1,Bn=t}}}function LE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Ld(t){if(t!==Bn)return!1;if(!He)return LE(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fv(t.type,t.memoizedProps)),e&&(e=$n)){if(gv(t))throw tk(),Error(K(418));for(;e;)ek(t,e),e=yo(e.nextSibling)}if(LE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Bn?yo(t.stateNode.nextSibling):null;return!0}function tk(){for(var t=$n;t;)t=yo(t.nextSibling)}function za(){$n=Bn=null,He=!1}function Iw(t){Er===null?Er=[t]:Er.push(t)}var V3=Vi.ReactCurrentBatchConfig;function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Vd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VE(t){var e=t._init;return e(t._payload)}function nk(t){function e(v,b){if(t){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=bo(v,b),v.index=0,v.sibling=null,v}function o(v,b,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=2,b):E):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,E,C){return b===null||b.tag!==6?(b=qg(E,v.mode,C),b.return=v,b):(b=i(b,E),b.return=v,b)}function l(v,b,E,C){var k=E.type;return k===pa?c(v,b,E.props.children,C,E.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ji&&VE(k)===b.type)?(C=i(b,E.props),C.ref=Zl(v,b,E),C.return=v,C):(C=Tf(E.type,E.key,E.props,null,v.mode,C),C.ref=Zl(v,b,E),C.return=v,C)}function u(v,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Gg(E,v.mode,C),b.return=v,b):(b=i(b,E.children||[]),b.return=v,b)}function c(v,b,E,C,k){return b===null||b.tag!==7?(b=ws(E,v.mode,C,k),b.return=v,b):(b=i(b,E),b.return=v,b)}function f(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qg(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pd:return E=Tf(b.type,b.key,b.props,null,v.mode,E),E.ref=Zl(v,null,b),E.return=v,E;case ha:return b=Gg(b,v.mode,E),b.return=v,b;case Ji:var C=b._init;return f(v,C(b._payload),E)}if(hu(b)||Gl(b))return b=ws(b,v.mode,E,null),b.return=v,b;Vd(v,b)}return null}function h(v,b,E,C){var k=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(v,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:return E.key===k?l(v,b,E,C):null;case ha:return E.key===k?u(v,b,E,C):null;case Ji:return k=E._init,h(v,b,k(E._payload),C)}if(hu(E)||Gl(E))return k!==null?null:c(v,b,E,C,null);Vd(v,E)}return null}function p(v,b,E,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(E)||null,a(b,v,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pd:return v=v.get(C.key===null?E:C.key)||null,l(b,v,C,k);case ha:return v=v.get(C.key===null?E:C.key)||null,u(b,v,C,k);case Ji:var I=C._init;return p(v,b,E,I(C._payload),k)}if(hu(C)||Gl(C))return v=v.get(E)||null,c(b,v,C,k,null);Vd(b,C)}return null}function y(v,b,E,C){for(var k=null,I=null,S=b,A=b=0,P=null;S!==null&&A<E.length;A++){S.index>A?(P=S,S=null):P=S.sibling;var R=h(v,S,E[A],C);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(v,S),b=o(R,b,A),I===null?k=R:I.sibling=R,I=R,S=P}if(A===E.length)return n(v,S),He&&rs(v,A),k;if(S===null){for(;A<E.length;A++)S=f(v,E[A],C),S!==null&&(b=o(S,b,A),I===null?k=S:I.sibling=S,I=S);return He&&rs(v,A),k}for(S=r(v,S);A<E.length;A++)P=p(S,v,A,E[A],C),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?A:P.key),b=o(P,b,A),I===null?k=P:I.sibling=P,I=P);return t&&S.forEach(function(N){return e(v,N)}),He&&rs(v,A),k}function w(v,b,E,C){var k=Gl(E);if(typeof k!="function")throw Error(K(150));if(E=k.call(E),E==null)throw Error(K(151));for(var I=k=null,S=b,A=b=0,P=null,R=E.next();S!==null&&!R.done;A++,R=E.next()){S.index>A?(P=S,S=null):P=S.sibling;var N=h(v,S,R.value,C);if(N===null){S===null&&(S=P);break}t&&S&&N.alternate===null&&e(v,S),b=o(N,b,A),I===null?k=N:I.sibling=N,I=N,S=P}if(R.done)return n(v,S),He&&rs(v,A),k;if(S===null){for(;!R.done;A++,R=E.next())R=f(v,R.value,C),R!==null&&(b=o(R,b,A),I===null?k=R:I.sibling=R,I=R);return He&&rs(v,A),k}for(S=r(v,S);!R.done;A++,R=E.next())R=p(S,v,A,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?A:R.key),b=o(R,b,A),I===null?k=R:I.sibling=R,I=R);return t&&S.forEach(function(j){return e(v,j)}),He&&rs(v,A),k}function g(v,b,E,C){if(typeof E=="object"&&E!==null&&E.type===pa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:e:{for(var k=E.key,I=b;I!==null;){if(I.key===k){if(k=E.type,k===pa){if(I.tag===7){n(v,I.sibling),b=i(I,E.props.children),b.return=v,v=b;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ji&&VE(k)===I.type){n(v,I.sibling),b=i(I,E.props),b.ref=Zl(v,I,E),b.return=v,v=b;break e}n(v,I);break}else e(v,I);I=I.sibling}E.type===pa?(b=ws(E.props.children,v.mode,C,E.key),b.return=v,v=b):(C=Tf(E.type,E.key,E.props,null,v.mode,C),C.ref=Zl(v,b,E),C.return=v,v=C)}return s(v);case ha:e:{for(I=E.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(v,b.sibling),b=i(b,E.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=Gg(E,v.mode,C),b.return=v,v=b}return s(v);case Ji:return I=E._init,g(v,b,I(E._payload),C)}if(hu(E))return y(v,b,E,C);if(Gl(E))return w(v,b,E,C);Vd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,E),b.return=v,v=b):(n(v,b),b=qg(E,v.mode,C),b.return=v,v=b),s(v)):n(v,b)}return g}var Wa=nk(!0),rk=nk(!1),eh=Bo(null),th=null,xa=null,Cw=null;function kw(){Cw=xa=th=null}function Ow(t){var e=eh.current;ze(eh),t._currentValue=e}function vv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ra(t,e){th=t,Cw=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(Cw!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(th===null)throw Error(K(308));xa=t,th.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var cs=null;function Nw(t){cs===null?cs=[t]:cs.push(t)}function ik(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function Rw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ok(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Nw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}function $E(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nh(t,e,n,r){var i=t.updateQueue;Zi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Xe({},f,h);break e;case 2:Zi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=f}}function UE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Oc={},Hr=Bo(Oc),ec=Bo(Oc),tc=Bo(Oc);function ds(t){if(t===Oc)throw Error(K(174));return t}function Dw(t,e){switch($e(tc,e),$e(ec,t),$e(Hr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jy(e,t)}ze(Hr),$e(Hr,e)}function Ha(){ze(Hr),ze(ec),ze(tc)}function sk(t){ds(tc.current);var e=ds(Hr.current),n=Jy(e,t.type);e!==n&&($e(ec,t),$e(Hr,n))}function jw(t){ec.current===t&&(ze(Hr),ze(ec))}var Ye=Bo(0);function rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fg=[];function Mw(){for(var t=0;t<Fg.length;t++)Fg[t]._workInProgressVersionPrimary=null;Fg.length=0}var wf=Vi.ReactCurrentDispatcher,Bg=Vi.ReactCurrentBatchConfig,Is=0,Qe=null,bt=null,Ct=null,ih=!1,Iu=!1,nc=0,$3=0;function Yt(){throw Error(K(321))}function Lw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Vw(t,e,n,r,i,o){if(Is=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=t===null||t.memoizedState===null?z3:W3,t=n(r,i),Iu){o=0;do{if(Iu=!1,nc=0,25<=o)throw Error(K(301));o+=1,Ct=bt=null,e.updateQueue=null,wf.current=H3,t=n(r,i)}while(Iu)}if(wf.current=oh,e=bt!==null&&bt.next!==null,Is=0,Ct=bt=Qe=null,ih=!1,e)throw Error(K(300));return t}function $w(){var t=nc!==0;return nc=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Qe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function dr(){if(bt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ct===null?Qe.memoizedState:Ct.next;if(e!==null)Ct=e,bt=t;else{if(t===null)throw Error(K(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ct===null?Qe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function rc(t,e){return typeof e=="function"?e(t):e}function zg(t){var e=dr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Qe.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Or(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qe.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wg(t){var e=dr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Or(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ak(){}function lk(t,e){var n=Qe,r=dr(),i=e(),o=!Or(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,Uw(dk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,ic(9,ck.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(K(349));Is&30||uk(n,e,i)}return i}function uk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ck(t,e,n,r){e.value=n,e.getSnapshot=r,fk(e)&&hk(t)}function dk(t,e,n){return n(function(){fk(e)&&hk(t)})}function fk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function hk(t){var e=Ai(t,1);e!==null&&Ir(e,t,1,-1)}function FE(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=B3.bind(null,Qe,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pk(){return dr().memoizedState}function _f(t,e,n,r){var i=$r();Qe.flags|=t,i.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function bp(t,e,n,r){var i=dr();r=r===void 0?null:r;var o=void 0;if(bt!==null){var s=bt.memoizedState;if(o=s.destroy,r!==null&&Lw(r,s.deps)){i.memoizedState=ic(e,n,o,r);return}}Qe.flags|=t,i.memoizedState=ic(1|e,n,o,r)}function BE(t,e){return _f(8390656,8,t,e)}function Uw(t,e){return bp(2048,8,t,e)}function mk(t,e){return bp(4,2,t,e)}function gk(t,e){return bp(4,4,t,e)}function yk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vk(t,e,n){return n=n!=null?n.concat([t]):null,bp(4,4,yk.bind(null,e,t),n)}function Fw(){}function wk(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _k(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bk(t,e,n){return Is&21?(Or(n,e)||(n=AC(),Qe.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function U3(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Bg.transition;Bg.transition={};try{t(!1),e()}finally{Oe=n,Bg.transition=r}}function xk(){return dr().memoizedState}function F3(t,e,n){var r=_o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ek(t))Tk(e,n);else if(n=ik(t,e,n,r),n!==null){var i=pn();Ir(n,t,r,i),Sk(n,e,r)}}function B3(t,e,n){var r=_o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ek(t))Tk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,s)){var l=e.interleaved;l===null?(i.next=i,Nw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ik(t,e,i,r),n!==null&&(i=pn(),Ir(n,t,r,i),Sk(n,e,r))}}function Ek(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function Tk(t,e){Iu=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}var oh={readContext:cr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},z3={readContext:cr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:BE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_f(4194308,4,yk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _f(4194308,4,t,e)},useInsertionEffect:function(t,e){return _f(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F3.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:FE,useDebugValue:Fw,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=FE(!1),e=t[0];return t=U3.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=$r();if(He){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Nt===null)throw Error(K(349));Is&30||uk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,BE(dk.bind(null,r,o,t),[t]),r.flags|=2048,ic(9,ck.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$r(),e=Nt.identifierPrefix;if(He){var n=fi,r=di;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W3={readContext:cr,useCallback:wk,useContext:cr,useEffect:Uw,useImperativeHandle:vk,useInsertionEffect:mk,useLayoutEffect:gk,useMemo:_k,useReducer:zg,useRef:pk,useState:function(){return zg(rc)},useDebugValue:Fw,useDeferredValue:function(t){var e=dr();return bk(e,bt.memoizedState,t)},useTransition:function(){var t=zg(rc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:ak,useSyncExternalStore:lk,useId:xk,unstable_isNewReconciler:!1},H3={readContext:cr,useCallback:wk,useContext:cr,useEffect:Uw,useImperativeHandle:vk,useInsertionEffect:mk,useLayoutEffect:gk,useMemo:_k,useReducer:Wg,useRef:pk,useState:function(){return Wg(rc)},useDebugValue:Fw,useDeferredValue:function(t){var e=dr();return bt===null?e.memoizedState=t:bk(e,bt.memoizedState,t)},useTransition:function(){var t=Wg(rc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:ak,useSyncExternalStore:lk,useId:xk,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xp={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=_o(t),o=vi(r,i);o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Ir(e,t,i,r),vf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=_o(t),o=vi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Ir(e,t,i,r),vf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=_o(t),i=vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=vo(t,i,r),e!==null&&(Ir(e,t,r,n),vf(e,t,r))}};function zE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Qu(n,r)||!Qu(i,o):!0}function Ak(t,e,n){var r=!1,i=Oo,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=An(e)?As:sn.current,r=e.contextTypes,o=(r=r!=null)?Ba(t,i):Oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function WE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xp.enqueueReplaceState(e,e.state,null)}function _v(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=An(e)?As:sn.current,i.context=Ba(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xp.enqueueReplaceState(i,i.state,null),nh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ka(t,e){try{var n="",r=e;do n+=wV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K3=typeof WeakMap=="function"?WeakMap:Map;function Pk(t,e,n){n=vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ah||(ah=!0,Ov=r),bv(t,e)},n}function Ik(t,e,n){n=vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function HE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s$.bind(null,t,e,n),e.then(t,t))}function KE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vi(-1,1),e.tag=2,vo(n,e,1))),n.lanes|=1),t)}var q3=Vi.ReactCurrentOwner,En=!1;function fn(t,e,n,r){e.child=t===null?rk(e,null,n,r):Wa(e,t.child,n,r)}function GE(t,e,n,r,i){n=n.render;var o=e.ref;return Ra(e,i),r=Vw(t,e,n,r,o,i),n=$w(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(He&&n&&Aw(e),e.flags|=1,fn(t,e,r,i),e.child)}function YE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Yw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ck(t,e,o,r,i)):(t=Tf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qu,n(s,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=bo(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ck(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qu(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return xv(t,e,n,r,i)}function kk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ta,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Ta,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Ta,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,$e(Ta,Nn),Nn|=r;return fn(t,e,i,n),e.child}function Ok(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,n,r,i){var o=An(n)?As:sn.current;return o=Ba(e,o),Ra(e,i),n=Vw(t,e,n,r,o,i),r=$w(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(He&&r&&Aw(e),e.flags|=1,fn(t,e,n,i),e.child)}function QE(t,e,n,r,i){if(An(n)){var o=!0;Xf(e)}else o=!1;if(Ra(e,i),e.stateNode===null)bf(t,e),Ak(e,n,r),_v(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=An(n)?As:sn.current,u=Ba(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&WE(e,s,r,u),Zi=!1;var h=e.memoizedState;s.state=h,nh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Sn.current||Zi?(typeof c=="function"&&(wv(e,n,c,r),l=e.memoizedState),(a=Zi||zE(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ok(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=An(n)?As:sn.current,l=Ba(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&WE(e,s,r,l),Zi=!1,h=e.memoizedState,s.state=h,nh(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||Sn.current||Zi?(typeof p=="function"&&(wv(e,n,p,r),y=e.memoizedState),(u=Zi||zE(e,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ev(t,e,n,r,o,i)}function Ev(t,e,n,r,i,o){Ok(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jE(e,n,!1),Pi(t,e,o);r=e.stateNode,q3.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Wa(e,t.child,null,o),e.child=Wa(e,null,a,o)):fn(t,e,a,o),e.memoizedState=r.state,i&&jE(e,n,!0),e.child}function Nk(t){var e=t.stateNode;e.pendingContext?DE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DE(t,e.context,!1),Dw(t,e.containerInfo)}function XE(t,e,n,r,i){return za(),Iw(i),e.flags|=256,fn(t,e,n,r),e.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Sv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rk(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Ye,i&1),t===null)return yv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Sp(s,r,0,null),t=ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sv(n),e.memoizedState=Tv,t):Bw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G3(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=bo(a,o):(o=ws(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Sv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Tv,r}return o=t.child,t=o.sibling,r=bo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bw(t,e){return e=Sp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $d(t,e,n,r){return r!==null&&Iw(r),Wa(e,t.child,null,n),t=Bw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G3(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hg(Error(K(422))),$d(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Sp({mode:"visible",children:r.children},i,0,null),o=ws(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Wa(e,t.child,null,s),e.child.memoizedState=Sv(s),e.memoizedState=Tv,o);if(!(e.mode&1))return $d(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(K(419)),r=Hg(o,r,void 0),$d(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(t,i),Ir(r,t,i,-1))}return Gw(),r=Hg(Error(K(421))),$d(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$n=yo(i.nextSibling),Bn=e,He=!0,Er=null,t!==null&&(nr[rr++]=di,nr[rr++]=fi,nr[rr++]=Ps,di=t.id,fi=t.overflow,Ps=e),e=Bw(e,r.children),e.flags|=4096,e)}function JE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vv(t.return,e,n)}function Kg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JE(t,n,e);else if(t.tag===19)JE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kg(e,!0,n,null,o);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y3(t,e,n){switch(e.tag){case 3:Nk(e),za();break;case 5:sk(e);break;case 1:An(e.type)&&Xf(e);break;case 4:Dw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?Rk(t,e,n):($e(Ye,Ye.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,kk(t,e,n)}return Pi(t,e,n)}var jk,Av,Mk,Lk;jk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Av=function(){};Mk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ds(Hr.current);var o=null;switch(n){case"input":i=Gy(t,i),r=Gy(t,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=Xy(t,i),r=Xy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yf)}Zy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Lk=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q3(t,e,n){var r=e.pendingProps;switch(Pw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return An(e.type)&&Qf(),Qt(e),null;case 3:return r=e.stateNode,Ha(),ze(Sn),ze(sn),Mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Dv(Er),Er=null))),Av(t,e),Qt(e),null;case 5:jw(e);var i=ds(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)Mk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Qt(e),null}if(t=ds(Hr.current),Ld(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fr]=e,r[Zu]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)Fe(mu[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":aE(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":uE(r,o),Fe("invalid",r)}Zy(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Md(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Md(r.textContent,a,t),i=["children",""+a]):zu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Id(r),lE(r,o,!0);break;case"textarea":Id(r),cE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Fr]=e,t[Zu]=r,jk(t,e,!1,!1),e.stateNode=t;e:{switch(s=ev(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)Fe(mu[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":aE(t,r),i=Gy(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":uE(t,r),i=Xy(t,r),Fe("invalid",t);break;default:i=r}Zy(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?pC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wu(t,l):typeof l=="number"&&Wu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",t):l!=null&&fw(t,o,l,s))}switch(n){case"input":Id(t),lE(t,r,!1);break;case"textarea":Id(t),cE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ca(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)Lk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ds(tc.current),ds(Hr.current),Ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(o=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Md(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Qt(e),null;case 13:if(ze(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&$n!==null&&e.mode&1&&!(e.flags&128))tk(),za(),e.flags|=98560,o=!1;else if(o=Ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[Fr]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else Er!==null&&(Dv(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?xt===0&&(xt=3):Gw())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ha(),Av(t,e),t===null&&Xu(e.stateNode.containerInfo),Qt(e),null;case 10:return Ow(e.type._context),Qt(e),null;case 17:return An(e.type)&&Qf(),Qt(e),null;case 19:if(ze(Ye),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)eu(o,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rh(t),s!==null){for(e.flags|=128,eu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>qa&&(e.flags|=128,r=!0,eu(o,!1),e.lanes=4194304)}else{if(!r)if(t=rh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return Qt(e),null}else 2*ut()-o.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,r=!0,eu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=Ye.current,$e(Ye,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return qw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function X3(t,e){switch(Pw(e),e.tag){case 1:return An(e.type)&&Qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(),ze(Sn),ze(sn),Mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jw(e),null;case 13:if(ze(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ye),null;case 4:return Ha(),null;case 10:return Ow(e.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var Ud=!1,en=!1,J3=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Pv(t,e,n){try{n()}catch(r){tt(t,e,r)}}var ZE=!1;function Z3(t,e){if(cv=Kf,t=BC(),Sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dv={focusedElem:t,selectionRange:n},Kf=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,g=y.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:br(e.type,w),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return y=ZE,ZE=!1,y}function Cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pv(e,n,o)}i=i.next}while(i!==r)}}function Ep(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Iv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vk(t){var e=t.alternate;e!==null&&(t.alternate=null,Vk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Zu],delete e[pv],delete e[j3],delete e[M3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $k(t){return t.tag===5||t.tag===3||t.tag===4}function eT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yf));else if(r!==4&&(t=t.child,t!==null))for(Cv(t,e,n),t=t.sibling;t!==null;)Cv(t,e,n),t=t.sibling}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}var $t=null,xr=!1;function Gi(t,e,n){for(n=n.child;n!==null;)Uk(t,e,n),n=n.sibling}function Uk(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(mp,n)}catch{}switch(n.tag){case 5:en||Ea(n,e);case 6:var r=$t,i=xr;$t=null,Gi(t,e,n),$t=r,xr=i,$t!==null&&(xr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(xr?(t=$t,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Gu(t)):$g($t,n.stateNode));break;case 4:r=$t,i=xr,$t=n.stateNode.containerInfo,xr=!0,Gi(t,e,n),$t=r,xr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Pv(n,e,s),i=i.next}while(i!==r)}Gi(t,e,n);break;case 1:if(!en&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Gi(t,e,n);break;case 21:Gi(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Gi(t,e,n),en=r):Gi(t,e,n);break;default:Gi(t,e,n)}}function tT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J3),e.forEach(function(r){var i=l$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,xr=!1;break e;case 3:$t=a.stateNode.containerInfo,xr=!0;break e;case 4:$t=a.stateNode.containerInfo,xr=!0;break e}a=a.return}if($t===null)throw Error(K(160));Uk(o,s,i),$t=null,xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fk(e,t),e=e.sibling}function Fk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_r(e,t),Vr(t),r&4){try{Cu(3,t,t.return),Ep(3,t)}catch(w){tt(t,t.return,w)}try{Cu(5,t,t.return)}catch(w){tt(t,t.return,w)}}break;case 1:_r(e,t),Vr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(_r(e,t),Vr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{Wu(i,"")}catch(w){tt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&uC(i,o),ev(a,s);var u=ev(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?pC(i,f):c==="dangerouslySetInnerHTML"?fC(i,f):c==="children"?Wu(i,f):fw(i,c,f,u)}switch(a){case"input":Yy(i,o);break;case"textarea":cC(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ca(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ca(i,!!o.multiple,o.defaultValue,!0):Ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zu]=o}catch(w){tt(t,t.return,w)}}break;case 6:if(_r(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){tt(t,t.return,w)}}break;case 3:if(_r(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gu(e.containerInfo)}catch(w){tt(t,t.return,w)}break;case 4:_r(e,t),Vr(t);break;case 13:_r(e,t),Vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hw=ut())),r&4&&tT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||c,_r(e,t),en=u):_r(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(f=ee=c;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:Cu(4,h,h.return);break;case 1:Ea(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){tt(r,n,w)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){rT(f);continue}}p!==null?(p.return=h,ee=p):rT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hC("display",s))}catch(w){tt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){tt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_r(e,t),Vr(t),r&4&&tT(t);break;case 21:break;default:_r(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($k(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wu(i,""),r.flags&=-33);var o=eT(t);kv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eT(t);Cv(t,a,s);break;default:throw Error(K(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e$(t,e,n){ee=t,Bk(t)}function Bk(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ud;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=Ud;var u=en;if(Ud=s,(en=l)&&!u)for(ee=i;ee!==null;)s=ee,l=s.child,s.tag===22&&s.memoizedState!==null?iT(i):l!==null?(l.return=s,ee=l):iT(i);for(;o!==null;)ee=o,Bk(o),o=o.sibling;ee=i,Ud=a,en=u}nT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):nT(t)}}function nT(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Ep(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&UE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}en||e.flags&512&&Iv(e)}catch(h){tt(e,e.return,h)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function rT(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function iT(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ep(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var o=e.return;try{Iv(e)}catch(l){tt(e,o,l)}break;case 5:var s=e.return;try{Iv(e)}catch(l){tt(e,s,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var t$=Math.ceil,sh=Vi.ReactCurrentDispatcher,zw=Vi.ReactCurrentOwner,lr=Vi.ReactCurrentBatchConfig,xe=0,Nt=null,pt=null,Bt=0,Nn=0,Ta=Bo(0),xt=0,oc=null,Cs=0,Tp=0,Ww=0,ku=null,bn=null,Hw=0,qa=1/0,ai=null,ah=!1,Ov=null,wo=null,Fd=!1,fo=null,lh=0,Ou=0,Nv=null,xf=-1,Ef=0;function pn(){return xe&6?ut():xf!==-1?xf:xf=ut()}function _o(t){return t.mode&1?xe&2&&Bt!==0?Bt&-Bt:V3.transition!==null?(Ef===0&&(Ef=AC()),Ef):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:RC(t.type)),t):1}function Ir(t,e,n,r){if(50<Ou)throw Ou=0,Nv=null,Error(K(185));Ic(t,n,r),(!(xe&2)||t!==Nt)&&(t===Nt&&(!(xe&2)&&(Tp|=n),xt===4&&ro(t,Bt)),Pn(t,r),n===1&&xe===0&&!(e.mode&1)&&(qa=ut()+500,_p&&zo()))}function Pn(t,e){var n=t.callbackNode;VV(t,e);var r=Hf(t,t===Nt?Bt:0);if(r===0)n!==null&&hE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hE(n),e===1)t.tag===0?L3(oT.bind(null,t)):JC(oT.bind(null,t)),R3(function(){!(xe&6)&&zo()}),n=null;else{switch(PC(r)){case 1:n=yw;break;case 4:n=TC;break;case 16:n=Wf;break;case 536870912:n=SC;break;default:n=Wf}n=Qk(n,zk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zk(t,e){if(xf=-1,Ef=0,xe&6)throw Error(K(327));var n=t.callbackNode;if(Da()&&t.callbackNode!==n)return null;var r=Hf(t,t===Nt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uh(t,r);else{e=r;var i=xe;xe|=2;var o=Hk();(Nt!==t||Bt!==e)&&(ai=null,qa=ut()+500,vs(t,e));do try{i$();break}catch(a){Wk(t,a)}while(!0);kw(),sh.current=o,xe=i,pt!==null?e=0:(Nt=null,Bt=0,e=xt)}if(e!==0){if(e===2&&(i=ov(t),i!==0&&(r=i,e=Rv(t,i))),e===1)throw n=oc,vs(t,0),ro(t,r),Pn(t,ut()),n;if(e===6)ro(t,r);else{if(i=t.current.alternate,!(r&30)&&!n$(i)&&(e=uh(t,r),e===2&&(o=ov(t),o!==0&&(r=o,e=Rv(t,o))),e===1))throw n=oc,vs(t,0),ro(t,r),Pn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:is(t,bn,ai);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=Hw+500-ut(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hv(is.bind(null,t,bn,ai),e);break}is(t,bn,ai);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t$(r/1960))-r,10<r){t.timeoutHandle=hv(is.bind(null,t,bn,ai),r);break}is(t,bn,ai);break;case 5:is(t,bn,ai);break;default:throw Error(K(329))}}}return Pn(t,ut()),t.callbackNode===n?zk.bind(null,t):null}function Rv(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=uh(t,e),t!==2&&(e=bn,bn=n,e!==null&&Dv(e)),t}function Dv(t){bn===null?bn=t:bn.push.apply(bn,t)}function n$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Ww,e&=~Tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function oT(t){if(xe&6)throw Error(K(327));Da();var e=Hf(t,0);if(!(e&1))return Pn(t,ut()),null;var n=uh(t,e);if(t.tag!==0&&n===2){var r=ov(t);r!==0&&(e=r,n=Rv(t,r))}if(n===1)throw n=oc,vs(t,0),ro(t,e),Pn(t,ut()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,bn,ai),Pn(t,ut()),null}function Kw(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(qa=ut()+500,_p&&zo())}}function ks(t){fo!==null&&fo.tag===0&&!(xe&6)&&Da();var e=xe;xe|=1;var n=lr.transition,r=Oe;try{if(lr.transition=null,Oe=1,t)return t()}finally{Oe=r,lr.transition=n,xe=e,!(xe&6)&&zo()}}function qw(){Nn=Ta.current,ze(Ta)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N3(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Pw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qf();break;case 3:Ha(),ze(Sn),ze(sn),Mw();break;case 5:jw(r);break;case 4:Ha();break;case 13:ze(Ye);break;case 19:ze(Ye);break;case 10:Ow(r.type._context);break;case 22:case 23:qw()}n=n.return}if(Nt=t,pt=t=bo(t.current,null),Bt=Nn=e,xt=0,oc=null,Ww=Tp=Cs=0,bn=ku=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}cs=null}return t}function Wk(t,e){do{var n=pt;try{if(kw(),wf.current=oh,ih){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}if(Is=0,Ct=bt=Qe=null,Iu=!1,nc=0,zw.current=null,n===null||n.return===null){xt=1,oc=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=KE(s);if(p!==null){p.flags&=-257,qE(p,s,a,o,e),p.mode&1&&HE(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){HE(o,u,e),Gw();break e}l=Error(K(426))}}else if(He&&a.mode&1){var g=KE(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),qE(g,s,a,o,e),Iw(Ka(l,a));break e}}o=l=Ka(l,a),xt!==4&&(xt=2),ku===null?ku=[o]:ku.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Pk(o,l,e);$E(o,v);break e;case 1:a=l;var b=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(wo===null||!wo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=Ik(o,a,e);$E(o,C);break e}}o=o.return}while(o!==null)}qk(n)}catch(k){e=k,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function Hk(){var t=sh.current;return sh.current=oh,t===null?oh:t}function Gw(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(Cs&268435455)&&!(Tp&268435455)||ro(Nt,Bt)}function uh(t,e){var n=xe;xe|=2;var r=Hk();(Nt!==t||Bt!==e)&&(ai=null,vs(t,e));do try{r$();break}catch(i){Wk(t,i)}while(!0);if(kw(),xe=n,sh.current=r,pt!==null)throw Error(K(261));return Nt=null,Bt=0,xt}function r$(){for(;pt!==null;)Kk(pt)}function i$(){for(;pt!==null&&!CV();)Kk(pt)}function Kk(t){var e=Yk(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?qk(t):pt=e,zw.current=null}function qk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X3(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,pt=null;return}}else if(n=Q3(n,e,Nn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);xt===0&&(xt=5)}function is(t,e,n){var r=Oe,i=lr.transition;try{lr.transition=null,Oe=1,o$(t,e,n,r)}finally{lr.transition=i,Oe=r}return null}function o$(t,e,n,r){do Da();while(fo!==null);if(xe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($V(t,o),t===Nt&&(pt=Nt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fd||(Fd=!0,Qk(Wf,function(){return Da(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Oe;Oe=1;var a=xe;xe|=4,zw.current=null,Z3(t,n),Fk(n,t),S3(dv),Kf=!!cv,dv=cv=null,t.current=n,e$(n),kV(),xe=a,Oe=s,lr.transition=o}else t.current=n;if(Fd&&(Fd=!1,fo=t,lh=i),o=t.pendingLanes,o===0&&(wo=null),RV(n.stateNode),Pn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,t=Ov,Ov=null,t;return lh&1&&t.tag!==0&&Da(),o=t.pendingLanes,o&1?t===Nv?Ou++:(Ou=0,Nv=t):Ou=0,zo(),null}function Da(){if(fo!==null){var t=PC(lh),e=lr.transition,n=Oe;try{if(lr.transition=null,Oe=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,lh=0,xe&6)throw Error(K(331));var i=xe;for(xe|=4,ee=t.current;ee!==null;){var o=ee,s=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:Cu(8,c,o)}var f=c.child;if(f!==null)f.return=c,ee=f;else for(;ee!==null;){c=ee;var h=c.sibling,p=c.return;if(Vk(c),c===u){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var g=w.sibling;w.sibling=null,w=g}while(w!==null)}}ee=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ee=s;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ee=v;break e}ee=o.return}}var b=t.current;for(ee=b;ee!==null;){s=ee;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ee=E;else e:for(s=b;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ep(9,a)}}catch(k){tt(a,a.return,k)}if(a===s){ee=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ee=C;break e}ee=a.return}}if(xe=i,zo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(mp,t)}catch{}r=!0}return r}finally{Oe=n,lr.transition=e}}return!1}function sT(t,e,n){e=Ka(n,e),e=Pk(t,e,1),t=vo(t,e,1),e=pn(),t!==null&&(Ic(t,1,e),Pn(t,e))}function tt(t,e,n){if(t.tag===3)sT(t,t,n);else for(;e!==null;){if(e.tag===3){sT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=Ka(n,t),t=Ik(e,t,1),e=vo(e,t,1),t=pn(),e!==null&&(Ic(e,1,t),Pn(e,t));break}}e=e.return}}function s$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Bt&n)===n&&(xt===4||xt===3&&(Bt&130023424)===Bt&&500>ut()-Hw?vs(t,0):Ww|=n),Pn(t,e)}function Gk(t,e){e===0&&(t.mode&1?(e=Od,Od<<=1,!(Od&130023424)&&(Od=4194304)):e=1);var n=pn();t=Ai(t,e),t!==null&&(Ic(t,e,n),Pn(t,n))}function a$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gk(t,n)}function l$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),Gk(t,n)}var Yk;Yk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,Y3(t,e,n);En=!!(t.flags&131072)}else En=!1,He&&e.flags&1048576&&ZC(e,Zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bf(t,e),t=e.pendingProps;var i=Ba(e,sn.current);Ra(e,n),i=Vw(null,e,r,t,i,n);var o=$w();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(o=!0,Xf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rw(e),i.updater=xp,e.stateNode=i,i._reactInternals=e,_v(e,r,t,n),e=Ev(null,e,r,!0,o,n)):(e.tag=0,He&&o&&Aw(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c$(r),t=br(r,t),i){case 0:e=xv(null,e,r,t,n);break e;case 1:e=QE(null,e,r,t,n);break e;case 11:e=GE(null,e,r,t,n);break e;case 14:e=YE(null,e,r,br(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),xv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),QE(t,e,r,i,n);case 3:e:{if(Nk(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ok(t,e),nh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ka(Error(K(423)),e),e=XE(t,e,r,n,i);break e}else if(r!==i){i=Ka(Error(K(424)),e),e=XE(t,e,r,n,i);break e}else for($n=yo(e.stateNode.containerInfo.firstChild),Bn=e,He=!0,Er=null,n=rk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===i){e=Pi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return sk(e),t===null&&yv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fv(r,i)?s=null:o!==null&&fv(r,o)&&(e.flags|=32),Ok(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&yv(e),null;case 13:return Rk(t,e,n);case 4:return Dw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wa(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),GE(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,$e(eh,r._currentValue),r._currentValue=s,o!==null)if(Or(o.value,s)){if(o.children===i.children&&!Sn.current){e=Pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(K(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ra(e,n),i=cr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),YE(t,e,r,i,n);case 15:return Ck(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),bf(t,e),e.tag=1,An(r)?(t=!0,Xf(e)):t=!1,Ra(e,n),Ak(e,r,i),_v(e,r,i,n),Ev(null,e,r,!0,t,n);case 19:return Dk(t,e,n);case 22:return kk(t,e,n)}throw Error(K(156,e.tag))};function Qk(t,e){return EC(t,e)}function u$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new u$(t,e,n,r)}function Yw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c$(t){if(typeof t=="function")return Yw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pw)return 11;if(t===mw)return 14}return 2}function bo(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Yw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case pa:return ws(n.children,i,o,e);case hw:s=8,i|=8;break;case Wy:return t=sr(12,n,e,i|2),t.elementType=Wy,t.lanes=o,t;case Hy:return t=sr(13,n,e,i),t.elementType=Hy,t.lanes=o,t;case Ky:return t=sr(19,n,e,i),t.elementType=Ky,t.lanes=o,t;case sC:return Sp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iC:s=10;break e;case oC:s=9;break e;case pw:s=11;break e;case mw:s=14;break e;case Ji:s=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ws(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Sp(t,e,n,r){return t=sr(22,t,r,e),t.elementType=sC,t.lanes=n,t.stateNode={isHidden:!1},t}function qg(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Gg(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ig(0),this.expirationTimes=Ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qw(t,e,n,r,i,o,s,a,l){return t=new d$(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rw(o),t}function f$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xk(t){if(!t)return Oo;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(An(n))return XC(t,n,e)}return e}function Jk(t,e,n,r,i,o,s,a,l){return t=Qw(n,r,!0,t,i,o,s,a,l),t.context=Xk(null),n=t.current,r=pn(),i=_o(n),o=vi(r,i),o.callback=e??null,vo(n,o,i),t.current.lanes=i,Ic(t,i,r),Pn(t,r),t}function Ap(t,e,n,r){var i=e.current,o=pn(),s=_o(i);return n=Xk(n),e.context===null?e.context=n:e.pendingContext=n,e=vi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vo(i,e,s),t!==null&&(Ir(t,i,s,o),vf(t,i,s)),s}function ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xw(t,e){aT(t,e),(t=t.alternate)&&aT(t,e)}function h$(){return null}var Zk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jw(t){this._internalRoot=t}Pp.prototype.render=Jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Ap(t,e,null,null)};Pp.prototype.unmount=Jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){Ap(null,t,null,null)}),e[Si]=null}};function Pp(t){this._internalRoot=t}Pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=kC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&NC(t)}};function Zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lT(){}function p$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ch(s);o.call(u)}}var s=Jk(e,r,t,0,null,!1,!1,"",lT);return t._reactRootContainer=s,t[Si]=s.current,Xu(t.nodeType===8?t.parentNode:t),ks(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ch(l);a.call(u)}}var l=Qw(t,0,!1,null,null,!1,!1,"",lT);return t._reactRootContainer=l,t[Si]=l.current,Xu(t.nodeType===8?t.parentNode:t),ks(function(){Ap(e,l,n,r)}),l}function Cp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ch(s);a.call(l)}}Ap(e,s,t,i)}else s=p$(n,e,t,i,r);return ch(s)}IC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(vw(e,n|1),Pn(e,ut()),!(xe&6)&&(qa=ut()+500,zo()))}break;case 13:ks(function(){var r=Ai(t,1);if(r!==null){var i=pn();Ir(r,t,1,i)}}),Xw(t,1)}};ww=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=pn();Ir(e,t,134217728,n)}Xw(t,134217728)}};CC=function(t){if(t.tag===13){var e=_o(t),n=Ai(t,e);if(n!==null){var r=pn();Ir(n,t,e,r)}Xw(t,e)}};kC=function(){return Oe};OC=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};nv=function(t,e,n){switch(e){case"input":if(Yy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wp(r);if(!i)throw Error(K(90));lC(r),Yy(r,i)}}}break;case"textarea":cC(t,n);break;case"select":e=n.value,e!=null&&Ca(t,!!n.multiple,e,!1)}};yC=Kw;vC=ks;var m$={usingClientEntryPoint:!1,Events:[kc,va,wp,mC,gC,Kw]},tu={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g$={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bC(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||h$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{mp=Bd.inject(g$),Wr=Bd}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m$;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zw(e))throw Error(K(200));return f$(t,e,null,n)};Qn.createRoot=function(t,e){if(!Zw(t))throw Error(K(299));var n=!1,r="",i=Zk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qw(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Xu(t.nodeType===8?t.parentNode:t),new Jw(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=bC(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return ks(t)};Qn.hydrate=function(t,e,n){if(!Ip(e))throw Error(K(200));return Cp(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Zw(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Zk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Jk(e,null,t,1,n??null,i,!1,o,s),t[Si]=e.current,Xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pp(e)};Qn.render=function(t,e,n){if(!Ip(e))throw Error(K(200));return Cp(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Ip(t))throw Error(K(40));return t._reactRootContainer?(ks(function(){Cp(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Qn.unstable_batchedUpdates=Kw;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ip(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Cp(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function eO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eO)}catch(t){console.error(t)}}eO(),eC.exports=Qn;var tO=eC.exports,nO,uT=tO;nO=uT.createRoot,uT.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cT="popstate";function y$(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return jv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sc(i)}return w$(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v$(){return Math.random().toString(36).substring(2,10)}function dT(t,e){return{usr:t.state,key:t.key,idx:e}}function jv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:n,key:e&&e.key||r||v$()}}function sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){a="POP";let g=c(),v=g==null?null:g-u;u=g,l&&l({action:a,location:w.location,delta:v})}function h(g,v){a="PUSH";let b=jv(w.location,g,v);u=c()+1;let E=dT(b,u),C=w.createHref(b);try{s.pushState(E,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(C)}o&&l&&l({action:a,location:w.location,delta:1})}function p(g,v){a="REPLACE";let b=jv(w.location,g,v);u=c();let E=dT(b,u),C=w.createHref(b);s.replaceState(E,"",C),o&&l&&l({action:a,location:w.location,delta:0})}function y(g){return _$(g)}let w={get action(){return a},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cT,f),l=g,()=>{i.removeEventListener(cT,f),l=null}},createHref(g){return e(i,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(g){return s.go(g)}};return w}function _$(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rO(t,e,n="/"){return b$(t,e,n,!1)}function b$(t,e,n,r){let i=typeof e=="string"?ml(e):e,o=Ii(i.pathname||"/",n);if(o==null)return null;let s=iO(t);x$(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=R$(o);a=O$(s[l],u,r)}return a}function iO(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=wi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),iO(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:C$(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of oO(o.path))i(o,s,l)}),e}function oO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=oO(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E$=/^:[\w-]+$/,T$=3,S$=2,A$=1,P$=10,I$=-2,fT=t=>t==="*";function C$(t,e){let n=t.split("/"),r=n.length;return n.some(fT)&&(r+=I$),e&&(r+=S$),n.filter(i=>!fT(i)).reduce((i,o)=>i+(E$.test(o)?T$:o===""?A$:P$),r)}function k$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O$(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:wi([o,f.pathname]),pathnameBase:L$(wi([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=wi([o,f.pathnameBase]))}return s}function dh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let y=a[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function N$(t,e=!1,n=!0){Nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ml(t):t;return{pathname:n?n.startsWith("/")?n:j$(n,e):e,search:V$(r),hash:$$(i)}}function j$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e_(t){let e=M$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function t_(t,e,n,r=!1){let i;typeof t=="string"?i=ml(t):(i={...t},qe(!i.pathname||!i.pathname.includes("?"),Yg("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),Yg("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),Yg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=D$(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var wi=t=>t.join("/").replace(/\/\/+/g,"/"),L$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sO=["POST","PUT","PATCH","DELETE"];new Set(sO);var F$=["GET",...sO];new Set(F$);var gl=x.createContext(null);gl.displayName="DataRouter";var kp=x.createContext(null);kp.displayName="DataRouterState";x.createContext(!1);var aO=x.createContext({isTransitioning:!1});aO.displayName="ViewTransition";var B$=x.createContext(new Map);B$.displayName="Fetchers";var z$=x.createContext(null);z$.displayName="Await";var jr=x.createContext(null);jr.displayName="Navigation";var Nc=x.createContext(null);Nc.displayName="Location";var ni=x.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var n_=x.createContext(null);n_.displayName="RouteError";function W$(t,{relative:e}={}){qe(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(jr),{hash:i,pathname:o,search:s}=Rc(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:wi([n,o])),r.createHref({pathname:a,search:s,hash:i})}function yl(){return x.useContext(Nc)!=null}function Wo(){return qe(yl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Nc).location}var lO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uO(t){x.useContext(jr).static||x.useLayoutEffect(t)}function cO(){let{isDataRoute:t}=x.useContext(ni);return t?rU():H$()}function H$(){qe(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(gl),{basename:e,navigator:n}=x.useContext(jr),{matches:r}=x.useContext(ni),{pathname:i}=Wo(),o=JSON.stringify(e_(r)),s=x.useRef(!1);return uO(()=>{s.current=!0}),x.useCallback((l,u={})=>{if(Nr(s.current,lO),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=t_(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:wi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}x.createContext(null);function Rc(t,{relative:e}={}){let{matches:n}=x.useContext(ni),{pathname:r}=Wo(),i=JSON.stringify(e_(n));return x.useMemo(()=>t_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function K$(t,e){return dO(t,e)}function dO(t,e,n,r){var v;qe(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(jr),{matches:o}=x.useContext(ni),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let b=c&&c.path||"";fO(l,!c||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Wo(),h;if(e){let b=typeof e=="string"?ml(e):e;qe(u==="/"||((v=b.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),h=b}else h=f;let p=h.pathname||"/",y=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=rO(t,{pathname:y});Nr(c||w!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Nr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=X$(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:wi([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:wi([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&g?x.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},g):g}function q$(){let t=nU(),e=U$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}var G$=x.createElement(q$,null),Y$=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(ni.Provider,{value:this.props.routeContext},x.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q$({routeContext:t,match:e,children:n}){let r=x.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(ni.Provider,{value:t},n)}function X$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:f}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,h=!1,p=null,y=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||G$,s&&(a<0&&c===0?(fO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):a===c&&(h=!0,y=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,c+1)),g=()=>{let v;return f?v=p:h?v=y:u.route.Component?v=x.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,x.createElement(Q$,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?x.createElement(Y$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}function r_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J$(t){let e=x.useContext(gl);return qe(e,r_(t)),e}function Z$(t){let e=x.useContext(kp);return qe(e,r_(t)),e}function eU(t){let e=x.useContext(ni);return qe(e,r_(t)),e}function i_(t){let e=eU(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tU(){return i_("useRouteId")}function nU(){var r;let t=x.useContext(n_),e=Z$("useRouteError"),n=i_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function rU(){let{router:t}=J$("useNavigate"),e=i_("useNavigate"),n=x.useRef(!1);return uO(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{Nr(n.current,lO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var hT={};function fO(t,e,n){!e&&!hT[t]&&(hT[t]=!0,Nr(!1,n))}x.memo(iU);function iU({routes:t,future:e,state:n}){return dO(t,void 0,n,e)}function oU({to:t,replace:e,state:n,relative:r}){qe(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(jr);Nr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(ni),{pathname:s}=Wo(),a=cO(),l=t_(t,e_(o),s,r==="path"),u=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Sf(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){qe(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ml(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:h="default"}=n,p=x.useMemo(()=>{let y=Ii(l,s);return y==null?null:{location:{pathname:y,search:u,hash:c,state:f,key:h},navigationType:r}},[s,l,u,c,f,h,r]);return Nr(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:x.createElement(jr.Provider,{value:a},x.createElement(Nc.Provider,{children:e,value:p}))}function aU({children:t,location:e}){return K$(Mv(t),e)}function Mv(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Mv(r.props.children,o));return}qe(r.type===Sf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Mv(r.props.children,o)),n.push(s)}),n}var Af="get",Pf="application/x-www-form-urlencoded";function Op(t){return t!=null&&typeof t.tagName=="string"}function lU(t){return Op(t)&&t.tagName.toLowerCase()==="button"}function uU(t){return Op(t)&&t.tagName.toLowerCase()==="form"}function cU(t){return Op(t)&&t.tagName.toLowerCase()==="input"}function dU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fU(t,e){return t.button===0&&(!e||e==="_self")&&!dU(t)}var zd=null;function hU(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var pU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(t){return t!=null&&!pU.has(t)?(Nr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function mU(t,e){let n,r,i,o,s;if(uU(t)){let a=t.getAttribute("action");r=a?Ii(a,e):null,n=t.getAttribute("method")||Af,i=Qg(t.getAttribute("enctype"))||Pf,o=new FormData(t)}else if(lU(t)||cU(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ii(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Af,i=Qg(t.getAttribute("formenctype"))||Qg(a.getAttribute("enctype"))||Pf,o=new FormData(a,t),!hU()){let{name:u,type:c,value:f}=t;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,f)}}else{if(Op(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,r=null,i=Pf,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gU(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wU(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await yU(o,n);return s.links?s.links():[]}return[]}));return EU(r.flat(1).filter(vU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pT(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function _U(t,e,{includeHydrateFallback:n}={}){return bU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bU(t){return[...new Set(t)]}function xU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(xU(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function hO(){let t=x.useContext(gl);return o_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TU(){let t=x.useContext(kp);return o_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var s_=x.createContext(void 0);s_.displayName="FrameworkContext";function pO(){let t=x.useContext(s_);return o_(t,"You must render this element inside a <HydratedRouter> element"),t}function SU(t,e){let n=x.useContext(s_),[r,i]=x.useState(!1),[o,s]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,h=x.useRef(null);x.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=v=>{v.forEach(b=>{s(b.isIntersecting)})},g=new IntersectionObserver(w,{threshold:.5});return h.current&&g.observe(h.current),()=>{g.disconnect()}}},[t]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let p=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:nu(a,p),onBlur:nu(l,y),onMouseEnter:nu(u,p),onMouseLeave:nu(c,y),onTouchStart:nu(f,p)}]:[!1,h,{}]}function nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AU({page:t,...e}){let{router:n}=hO(),r=x.useMemo(()=>rO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(IU,{page:t,matches:r,...e}):null}function PU(t){let{manifest:e,routeModules:n}=pO(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return wU(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function IU({page:t,matches:e,...n}){let r=Wo(),{manifest:i,routeModules:o}=pO(),{basename:s}=hO(),{loaderData:a,matches:l}=TU(),u=x.useMemo(()=>pT(t,e,l,i,r,"data"),[t,e,l,i,r]),c=x.useMemo(()=>pT(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(v=>{var E;let b=i.routes[v.route.id];!b||!b.hasLoader||(!u.some(C=>C.route.id===v.route.id)&&v.route.id in a&&((E=o[v.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?w=!0:y.add(v.route.id))}),y.size===0)return[];let g=gU(t,s,"data");return w&&y.size>0&&g.searchParams.set("_routes",e.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[s,a,r,i,u,e,t,o]),h=x.useMemo(()=>_U(c,i),[c,i]),p=PU(c);return x.createElement(x.Fragment,null,f.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:w})=>x.createElement("link",{key:y,...w})))}function CU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mO&&(window.__reactRouterVersion="7.7.0")}catch{}function kU({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=y$({window:n,v5Compat:!0}));let i=r.current,[o,s]=x.useState({action:i.action,location:i.location}),a=x.useCallback(l=>{x.startTransition(()=>s(l))},[s]);return x.useLayoutEffect(()=>i.listen(a),[i,a]),x.createElement(sU,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var gO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yO=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...h},p){let{basename:y}=x.useContext(jr),w=typeof u=="string"&&gO.test(u),g,v=!1;if(typeof u=="string"&&w&&(g=u,mO))try{let P=new URL(window.location.href),R=u.startsWith("//")?new URL(P.protocol+u):new URL(u),N=Ii(R.pathname,y);R.origin===P.origin&&N!=null?u=N+R.search+R.hash:v=!0}catch{Nr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=W$(u,{relative:i}),[E,C,k]=SU(r,h),I=DU(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function S(P){e&&e(P),P.defaultPrevented||I(P)}let A=x.createElement("a",{...h,...k,href:g||b,onClick:v||o?e:S,ref:CU(p,C),target:l,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?x.createElement(x.Fragment,null,A,x.createElement(AU,{page:b})):A});yO.displayName="Link";var OU=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let f=Rc(s,{relative:u.relative}),h=Wo(),p=x.useContext(kp),{navigator:y,basename:w}=x.useContext(jr),g=p!=null&&$U(f)&&a===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,b=h.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),E=E?E.toLowerCase():null,v=v.toLowerCase()),E&&w&&(E=Ii(E,w)||E);const C=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=b===v||!i&&b.startsWith(v)&&b.charAt(C)==="/",I=E!=null&&(E===v||!i&&E.startsWith(v)&&E.charAt(v.length)==="/"),S={isActive:k,isPending:I,isTransitioning:g},A=k?e:void 0,P;typeof r=="function"?P=r(S):P=[r,k?"active":null,I?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(S):o;return x.createElement(yO,{...u,"aria-current":A,className:P,ref:c,style:R,to:s,viewTransition:a},typeof l=="function"?l(S):l)});OU.displayName="NavLink";var NU=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Af,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...h},p)=>{let y=LU(),w=VU(a,{relative:u}),g=s.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&gO.test(a),b=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,k=(C==null?void 0:C.getAttribute("formmethod"))||s;y(C||E.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return x.createElement("form",{ref:p,method:g,action:w,onSubmit:r?l:b,...h,"data-discover":!v&&t==="render"?"true":void 0})});NU.displayName="Form";function RU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(t){let e=x.useContext(gl);return qe(e,RU(t)),e}function DU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=cO(),l=Wo(),u=Rc(t,{relative:o});return x.useCallback(c=>{if(fU(c,e)){c.preventDefault();let f=n!==void 0?n:sc(l)===sc(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var jU=0,MU=()=>`__${String(++jU)}__`;function LU(){let{router:t}=vO("useSubmit"),{basename:e}=x.useContext(jr),n=tU();return x.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=mU(r,e);if(i.navigate===!1){let c=i.fetcherKey||MU();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function VU(t,{relative:e}={}){let{basename:n}=x.useContext(jr),r=x.useContext(ni);qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Rc(t||".",{relative:e})},s=Wo();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:wi([n,o.pathname])),sc(o)}function $U(t,e={}){let n=x.useContext(aO);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vO("useViewTransitionState"),i=Rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dh(i.pathname,s)!=null||dh(i.pathname,o)!=null}const UU=()=>{};var mT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new BU;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zU=function(t){const e=wO(t);return _O.encodeByteArray(e,!0)},fh=function(t){return zU(t).replace(/\./g,"")},bO=function(t){try{return _O.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=()=>WU().__FIREBASE_DEFAULTS__,KU=()=>{if(typeof process>"u"||typeof mT>"u")return;const t=mT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bO(t[1]);return e&&JSON.parse(e)},Np=()=>{try{return UU()||HU()||KU()||qU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xO=t=>{var e,n;return(n=(e=Np())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},EO=t=>{const e=xO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TO=()=>{var t;return(t=Np())==null?void 0:t.config},SO=t=>{var e;return(e=Np())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fh(JSON.stringify(n)),fh(JSON.stringify(s)),""].join(".")}const Nu={};function YU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function QU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gT=!1;function l_(t,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Nu[t]===e||Nu[t]||gT)return;Nu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=YU().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{gT=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=QU(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),g=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;a(E),c(g,w);const C=u();l(b,v),E.append(b,y,g,C),document.body.appendChild(E)}o?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function JU(){var e;const t=(e=Np())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n6(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r6(){return!JU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i6(){try{return typeof indexedDB=="object"}catch{return!1}}function o6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s6,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ri(i,a,r)}}function a6(t,e){return t.replace(l6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l6=/\{\$([^}]+)}/g;function u6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Os(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(yT(o)&&yT(s)){if(!Os(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c6(t,e){const n=new d6(t,e);return n.subscribe.bind(n)}class d6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class No{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m6(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p6(t){return t===os?void 0:t}function m6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const y6={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},v6=ge.INFO,w6={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},_6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=w6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=_6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const b6=(t,e)=>e.some(n=>t instanceof n);let vT,wT;function x6(){return vT||(vT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E6(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PO=new WeakMap,Lv=new WeakMap,IO=new WeakMap,Jg=new WeakMap,c_=new WeakMap;function T6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&PO.set(n,t)}).catch(()=>{}),c_.set(e,t),e}function S6(t){if(Lv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Lv.set(t,e)}let Vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A6(t){Vv=t(Vv)}function P6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zg(this),e,...n);return IO.set(r,e.sort?e.sort():[e]),xo(r)}:E6().includes(t)?function(...e){return t.apply(Zg(this),e),xo(PO.get(this))}:function(...e){return xo(t.apply(Zg(this),e))}}function I6(t){return typeof t=="function"?P6(t):(t instanceof IDBTransaction&&S6(t),b6(t,x6())?new Proxy(t,Vv):t)}function xo(t){if(t instanceof IDBRequest)return T6(t);if(Jg.has(t))return Jg.get(t);const e=I6(t);return e!==t&&(Jg.set(t,e),c_.set(e,t)),e}const Zg=t=>c_.get(t);function C6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const k6=["get","getKey","getAll","getAllKeys","count"],O6=["put","add","delete","clear"],ey=new Map;function _T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=O6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ey.set(e,o),o}A6(t=>({...t,get:(e,n,r)=>_T(e,n)||t.get(e,n,r),has:(e,n)=>!!_T(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $v="@firebase/app",bT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new u_("@firebase/app"),D6="@firebase/app-compat",j6="@firebase/analytics-compat",M6="@firebase/analytics",L6="@firebase/app-check-compat",V6="@firebase/app-check",$6="@firebase/auth",U6="@firebase/auth-compat",F6="@firebase/database",B6="@firebase/data-connect",z6="@firebase/database-compat",W6="@firebase/functions",H6="@firebase/functions-compat",K6="@firebase/installations",q6="@firebase/installations-compat",G6="@firebase/messaging",Y6="@firebase/messaging-compat",Q6="@firebase/performance",X6="@firebase/performance-compat",J6="@firebase/remote-config",Z6="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/ai",iF="@firebase/firestore-compat",oF="firebase",sF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="[DEFAULT]",aF={[$v]:"fire-core",[D6]:"fire-core-compat",[M6]:"fire-analytics",[j6]:"fire-analytics-compat",[V6]:"fire-app-check",[L6]:"fire-app-check-compat",[$6]:"fire-auth",[U6]:"fire-auth-compat",[F6]:"fire-rtdb",[B6]:"fire-data-connect",[z6]:"fire-rtdb-compat",[W6]:"fire-fn",[H6]:"fire-fn-compat",[K6]:"fire-iid",[q6]:"fire-iid-compat",[G6]:"fire-fcm",[Y6]:"fire-fcm-compat",[Q6]:"fire-perf",[X6]:"fire-perf-compat",[J6]:"fire-rc",[Z6]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[iF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[oF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,lF=new Map,Fv=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(Fv.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,t);for(const n of hh.values())xT(n,t);for(const n of lF.values())xT(n,t);return!0}function Rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Dc("app","Firebase",uF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=sF;function CO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Uv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=TO()),!n)throw Eo.create("no-options");const o=hh.get(i);if(o){if(Os(n,o.options)&&Os(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const s=new g6(i);for(const l of Fv.values())s.addComponent(l);const a=new cF(n,r,s);return hh.set(i,a),a}function d_(t=Uv){const e=hh.get(t);if(!e&&t===Uv&&TO())return CO();if(!e)throw Eo.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=aF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(s.join(" "));return}Ns(new No(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="firebase-heartbeat-database",fF=1,ac="firebase-heartbeat-store";let ty=null;function kO(){return ty||(ty=C6(dF,fF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),ty}async function hF(t){try{const n=(await kO()).transaction(ac),r=await n.objectStore(ac).get(OO(t));return await n.done,r}catch(e){if(e instanceof ri)Ci.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function ET(t,e){try{const r=(await kO()).transaction(ac,"readwrite");await r.objectStore(ac).put(e,OO(t)),await r.done}catch(n){if(n instanceof ri)Ci.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function OO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1024,mF=30;class gF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mF){const s=wF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TT(),{heartbeatsToSend:r,unsentEntries:i}=yF(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function TT(){return new Date().toISOString().substring(0,10)}function yF(t,e=pF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ST(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ST(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i6()?o6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ET(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ET(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ST(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}function wF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){Ns(new No("platform-logger",e=>new N6(e),"PRIVATE")),Ns(new No("heartbeat",e=>new gF(e),"PRIVATE")),Kr($v,bT,t),Kr($v,bT,"esm2020"),Kr("fire-js","")}_F("");function NO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bF=NO,RO=new Dc("auth","Firebase",NO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new u_("@firebase/auth");function xF(t,...e){ph.logLevel<=ge.WARN&&ph.warn(`Auth (${Ks}): ${t}`,...e)}function If(t,...e){ph.logLevel<=ge.ERROR&&ph.error(`Auth (${Ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw f_(t,...e)}function qr(t,...e){return f_(t,...e)}function DO(t,e,n){const r={...bF(),[e]:n};return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return DO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RO.create(t,...e)}function ae(t,e,...n){if(!t)throw f_(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function ki(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EF(){return AT()==="http:"||AT()==="https:"}function AT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EF()||e6()||"connection"in navigator)?navigator.onLine:!0}function SF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=XU()||t6()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IF=new Mc(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ko(t,e,n,r,i={}){return MO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=jc({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return ZU()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ho(t.emulatorConfig.host)&&(u.credentials="include"),jO.fetch()(await LO(t,t.config.apiHost,n,a),u)})}async function MO(t,e,n){t._canInitEmulator=!1;const r={...AF,...e};try{const i=new kF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Wd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DO(t,c,u);Rr(t,c)}}catch(i){if(i instanceof ri)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function Dp(t,e,n,r,i={}){const o=await Ko(t,e,n,r,i);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function LO(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?h_(t.config,i):`${t.config.apiScheme}://${i}`;return PF.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function CF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),IF.get())})}}function Wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}function PT(t){return t!==void 0&&t.enterprise!==void 0}class OF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NF(t,e){return Ko(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){return Ko(t,"POST","/v1/accounts:delete",e)}async function mh(t,e){return Ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DF(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=p_(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ru(ny(i.auth_time)),issuedAtTime:Ru(ny(i.iat)),expirationTime:Ru(ny(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ny(t){return Number(t)*1e3}function p_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const i=bO(n);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IT(t){const e=p_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&jF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await lc(t,mh(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?VO(i.providerUserInfo):[],s=VF(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function LF(t){const e=Ge(t);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e){const n=await MO(t,{},async()=>{const r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await LO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ho(t.emulatorConfig.host)&&(l.credentials="include"),jO.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UF(t,e){return Ko(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=IT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await $F(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ja;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new MF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DF(this,e)}reload(){return LF(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await lc(this,RF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:y,stsTokenManager:w}=n;ae(f&&w,e,"internal-error");const g=ja.fromJSON(this.name,w);ae(typeof f=="string",e,"internal-error"),Yi(r,e.name),Yi(i,e.name),ae(typeof h=="boolean",e,"internal-error"),ae(typeof p=="boolean",e,"internal-error"),Yi(o,e.name),Yi(s,e.name),Yi(a,e.name),Yi(l,e.name),Yi(u,e.name),Yi(c,e.name);const v=new Ar({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:g,createdAt:u,lastLoginAt:c});return y&&Array.isArray(y)&&(v.providerData=y.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new ja;i.updateFromServerResponse(n);const o=new Ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?VO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ja;a.updateFromIdToken(r);const l=new Ar({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;function pi(t){ki(t instanceof Function,"Expected a class definition");let e=CT.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$O.type="NONE";const kT=$O;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Cf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ma(pi(kT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||pi(kT);const s=Cf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await mh(e,{idToken:c}).catch(()=>{});if(!h)break;f=await Ar._fromGetAccountInfoResponse(e,h,c)}else f=Ar._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ma(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ma(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HO(e))return"Blackberry";if(KO(e))return"Webos";if(FO(e))return"Safari";if((e.includes("chrome/")||BO(e))&&!e.includes("edge/"))return"Chrome";if(WO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UO(t=an()){return/firefox\//i.test(t)}function FO(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BO(t=an()){return/crios\//i.test(t)}function zO(t=an()){return/iemobile/i.test(t)}function WO(t=an()){return/android/i.test(t)}function HO(t=an()){return/blackberry/i.test(t)}function KO(t=an()){return/webos/i.test(t)}function m_(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FF(t=an()){var e;return m_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BF(){return n6()&&document.documentMode===10}function qO(t=an()){return m_(t)||WO(t)||KO(t)||HO(t)||/windows phone/i.test(t)||zO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e=[]){let n;switch(t){case"Browser":n=OT(an());break;case"Worker":n=`${OT(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e={}){return Ko(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=6;class KF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new zF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(To(this));const n=e?Ge(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WF(this),n=new KF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vl(t){return Ge(t)}class NT{constructor(e){this.auth=e,this.observer=null,this.addObserver=c6(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){jp=t}function YO(t){return jp.loadJS(t)}function YF(){return jp.recaptchaEnterpriseScript}function QF(){return jp.gapiScript}function XF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JF{constructor(){this.enterprise=new ZF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eB="recaptcha-enterprise",QO="NO_RECAPTCHA";class tB{constructor(e){this.type=eB,this.auth=vl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{NF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OF(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;PT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(QO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JF().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&PT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YF();l.length!==0&&(l+=a),YO(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function RT(t,e,n,r=!1,i=!1){const o=new tB(t);let s;if(i)s=QO;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function DT(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await RT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e){const n=Rp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Os(o,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function rB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iB(t,e,n){const r=vl(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=XO(e),{host:s,port:a}=oB(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Os(u,r.config.emulator)&&Os(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Ho(s)?(a_(`${o}//${s}${l}`),l_("Auth",!0)):sB()}function XO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oB(t){const e=XO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jT(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:jT(s)}}}function jT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function aB(t,e){return Ko(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e){return Dp(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function cB(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends g_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DT(e,n,"signInWithPassword",lB);case"emailLink":return uB(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DT(e,r,"signUpPassword",aB);case"emailLink":return cB(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return Dp(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="http://localhost";class Rs extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Rs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:dB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hB(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,r=gu(yu(t)).deep_link_id;return(r?gu(yu(r)).link:null)||r||n||e||t}class y_{constructor(e){const n=gu(yu(e)),r=n.apiKey??null,i=n.oobCode??null,o=fB(n.mode??null);ae(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hB(e);try{return new y_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y_.parseLink(n);return ae(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends JO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Lc{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.GOOGLE_SIGN_IN_METHOD="google.com";oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Lc{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ar._fromIdTokenResponse(e,r,i),s=MT(r);return new Ga({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MT(r);return new Ga({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends ri{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yh(e,n,r,i)}}function ZO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,o,e,r):o})}async function pB(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(To(r));const i="reauthenticate";try{const o=await lc(t,ZO(r,i,e,t),n);ae(o.idToken,r,"internal-error");const s=p_(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),Ga._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e,n=!1){if(or(t.app))return Promise.reject(To(t));const r="signIn",i=await ZO(t,r,e),o=await Ga._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function gB(t,e){return eN(vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t){const e=vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function vB(t,e,n){return or(t.app)?Promise.reject(To(t)):gB(Ge(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yB(t),r})}function wB(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function _B(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function bB(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function xB(t){return Ge(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=1e3,TB=10;class nN extends tN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);BF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nN.type="LOCAL";const SB=nN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends tN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rN.type="SESSION";const iN=rN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await AB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=v_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function IB(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function CB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function OB(){return oN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebaseLocalStorageDb",NB=1,wh="firebaseLocalStorage",aN="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(t,e){return t.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function RB(){const t=indexedDB.deleteDatabase(sN);return new Vc(t).toPromise()}function Wv(){const t=indexedDB.open(sN,NB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wh,{keyPath:aN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await RB(),e(await Wv()))})})}async function LT(t,e,n){const r=Lp(t,!0).put({[aN]:e,value:n});return new Vc(r).toPromise()}async function DB(t,e){const n=Lp(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function VT(t,e){const n=Lp(t,!0).delete(e);return new Vc(n).toPromise()}const jB=800,MB=3;class lN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(OB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await CB(),!this.activeServiceWorker)return;this.sender=new PB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await LT(e,vh,"1"),await VT(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Lp(i,!1).getAll();return new Vc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lN.type="LOCAL";const LB=lN;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t,e){return e?pi(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $B(t){return eN(t.auth,new w_(t),t.bypassAuthState)}function UB(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),mB(n,new w_(t),t.bypassAuthState)}async function FB(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),pB(n,new w_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $B;case"linkViaPopup":case"linkViaRedirect":return FB;case"reauthViaPopup":case"reauthViaRedirect":return UB;default:Rr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new Mc(2e3,1e4);class Sa extends uN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BB.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="pendingRedirect",kf=new Map;class WB extends uN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const r=await HB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HB(t,e){const n=GB(e),r=qB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function KB(t,e){kf.set(t._key(),e)}function qB(t){return pi(t._redirectPersistence)}function GB(t){return Cf(zB,t.config.apiKey,t.name)}async function YB(t,e,n=!1){if(or(t.app))return Promise.reject(To(t));const r=vl(t),i=VB(r,e),s=await new WB(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=10*60*1e3;class XB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QB&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}}function $T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZB(t,e={}){return Ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t5=/^https?/;async function n5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZB(t);for(const n of e)try{if(r5(n))return}catch{}Rr(t,"unauthorized-domain")}function r5(t){const e=Bv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!t5.test(n))return!1;if(e5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Mc(3e4,6e4);function UT(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o5(t){return new Promise((e,n)=>{var i,o,s;function r(){UT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UT(),n(qr(t,"network-request-failed"))},timeout:i5.get()})}if((o=(i=Gr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Gr().gapi)!=null&&s.load)r();else{const a=XF("iframefcb");return Gr()[a]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},YO(`${QF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Of=null,e})}let Of=null;function s5(t){return Of=Of||o5(t),Of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new Mc(5e3,15e3),l5="__/auth/iframe",u5="emulator/auth/iframe",c5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f5(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,u5):`https://${t.config.authDomain}/${l5}`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=d5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jc(r).slice(1)}`}async function h5(t){const e=await s5(t),n=Gr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:f5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=qr(t,"network-request-failed"),a=Gr().setTimeout(()=>{o(s)},a5.get());function l(){Gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m5=500,g5=600,y5="_blank",v5="http://localhost";class FT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w5(t,e,n,r=m5,i=g5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...p5,width:r.toString(),height:i.toString(),top:o,left:s},u=an().toLowerCase();n&&(a=BO(u)?y5:n),UO(u)&&(e=e||v5,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(FF(u)&&a!=="_self")return _5(e||"",a),new FT(null);const f=window.open(e||"",a,c);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new FT(f)}function _5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="__/auth/handler",x5="emulator/auth/handler",E5=encodeURIComponent("fac");async function BT(t,e,n,r,i,o){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof JO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",u6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Lc){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${E5}=${encodeURIComponent(l)}`:"";return`${T5(t)}?${jc(a).slice(1)}${u}`}function T5({config:t}){return t.emulator?h_(t,x5):`https://${t.authDomain}/${b5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class S5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iN,this._completeRedirectFn=YB,this._overrideRedirectResult=KB}async _openPopup(e,n,r,i){var s;ki((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await BT(e,n,r,Bv(),i);return w5(e,o,v_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await BT(e,n,r,Bv(),i);return IB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h5(e),r=new XB(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[ry];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qO()||FO()||m_()}}const A5=S5;var zT="@firebase/auth",WT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C5(t){Ns(new No("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GO(t)},u=new qF(r,i,o,l);return rB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new No("auth-internal",e=>{const n=vl(e.getProvider("auth").getImmediate());return(r=>new P5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(zT,WT,I5(t)),Kr(zT,WT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=5*60,O5=SO("authIdTokenMaxAge")||k5;let HT=null;const N5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O5)return;const i=n==null?void 0:n.token;HT!==i&&(HT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R5(t=d_()){const e=Rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nB(t,{popupRedirectResolver:A5,persistence:[LB,SB,iN]}),r=SO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=N5(o.toString());_B(n,s,()=>s(n.currentUser)),wB(n,a=>s(a))}}const i=xO("auth");return i&&iB(n,`http://${i}`),n}function D5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",D5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C5("Browser");var j5="firebase",M5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(j5,M5,"app");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,dN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function P(){}P.prototype=A.prototype,S.D=A.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(R,N,j){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return A.prototype[N].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,P){P||(P=0);var R=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)R[N]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(N=0;16>N;++N)R[N]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=S.g[0],P=S.g[1],N=S.g[2];var j=S.g[3],D=A+(j^P&(N^j))+R[0]+3614090360&4294967295;A=P+(D<<7&4294967295|D>>>25),D=j+(N^A&(P^N))+R[1]+3905402710&4294967295,j=A+(D<<12&4294967295|D>>>20),D=N+(P^j&(A^P))+R[2]+606105819&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(A^N&(j^A))+R[3]+3250441966&4294967295,P=N+(D<<22&4294967295|D>>>10),D=A+(j^P&(N^j))+R[4]+4118548399&4294967295,A=P+(D<<7&4294967295|D>>>25),D=j+(N^A&(P^N))+R[5]+1200080426&4294967295,j=A+(D<<12&4294967295|D>>>20),D=N+(P^j&(A^P))+R[6]+2821735955&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(A^N&(j^A))+R[7]+4249261313&4294967295,P=N+(D<<22&4294967295|D>>>10),D=A+(j^P&(N^j))+R[8]+1770035416&4294967295,A=P+(D<<7&4294967295|D>>>25),D=j+(N^A&(P^N))+R[9]+2336552879&4294967295,j=A+(D<<12&4294967295|D>>>20),D=N+(P^j&(A^P))+R[10]+4294925233&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(A^N&(j^A))+R[11]+2304563134&4294967295,P=N+(D<<22&4294967295|D>>>10),D=A+(j^P&(N^j))+R[12]+1804603682&4294967295,A=P+(D<<7&4294967295|D>>>25),D=j+(N^A&(P^N))+R[13]+4254626195&4294967295,j=A+(D<<12&4294967295|D>>>20),D=N+(P^j&(A^P))+R[14]+2792965006&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(A^N&(j^A))+R[15]+1236535329&4294967295,P=N+(D<<22&4294967295|D>>>10),D=A+(N^j&(P^N))+R[1]+4129170786&4294967295,A=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(A^P))+R[6]+3225465664&4294967295,j=A+(D<<9&4294967295|D>>>23),D=N+(A^P&(j^A))+R[11]+643717713&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^A&(N^j))+R[0]+3921069994&4294967295,P=N+(D<<20&4294967295|D>>>12),D=A+(N^j&(P^N))+R[5]+3593408605&4294967295,A=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(A^P))+R[10]+38016083&4294967295,j=A+(D<<9&4294967295|D>>>23),D=N+(A^P&(j^A))+R[15]+3634488961&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^A&(N^j))+R[4]+3889429448&4294967295,P=N+(D<<20&4294967295|D>>>12),D=A+(N^j&(P^N))+R[9]+568446438&4294967295,A=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(A^P))+R[14]+3275163606&4294967295,j=A+(D<<9&4294967295|D>>>23),D=N+(A^P&(j^A))+R[3]+4107603335&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^A&(N^j))+R[8]+1163531501&4294967295,P=N+(D<<20&4294967295|D>>>12),D=A+(N^j&(P^N))+R[13]+2850285829&4294967295,A=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(A^P))+R[2]+4243563512&4294967295,j=A+(D<<9&4294967295|D>>>23),D=N+(A^P&(j^A))+R[7]+1735328473&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^A&(N^j))+R[12]+2368359562&4294967295,P=N+(D<<20&4294967295|D>>>12),D=A+(P^N^j)+R[5]+4294588738&4294967295,A=P+(D<<4&4294967295|D>>>28),D=j+(A^P^N)+R[8]+2272392833&4294967295,j=A+(D<<11&4294967295|D>>>21),D=N+(j^A^P)+R[11]+1839030562&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^A)+R[14]+4259657740&4294967295,P=N+(D<<23&4294967295|D>>>9),D=A+(P^N^j)+R[1]+2763975236&4294967295,A=P+(D<<4&4294967295|D>>>28),D=j+(A^P^N)+R[4]+1272893353&4294967295,j=A+(D<<11&4294967295|D>>>21),D=N+(j^A^P)+R[7]+4139469664&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^A)+R[10]+3200236656&4294967295,P=N+(D<<23&4294967295|D>>>9),D=A+(P^N^j)+R[13]+681279174&4294967295,A=P+(D<<4&4294967295|D>>>28),D=j+(A^P^N)+R[0]+3936430074&4294967295,j=A+(D<<11&4294967295|D>>>21),D=N+(j^A^P)+R[3]+3572445317&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^A)+R[6]+76029189&4294967295,P=N+(D<<23&4294967295|D>>>9),D=A+(P^N^j)+R[9]+3654602809&4294967295,A=P+(D<<4&4294967295|D>>>28),D=j+(A^P^N)+R[12]+3873151461&4294967295,j=A+(D<<11&4294967295|D>>>21),D=N+(j^A^P)+R[15]+530742520&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^A)+R[2]+3299628645&4294967295,P=N+(D<<23&4294967295|D>>>9),D=A+(N^(P|~j))+R[0]+4096336452&4294967295,A=P+(D<<6&4294967295|D>>>26),D=j+(P^(A|~N))+R[7]+1126891415&4294967295,j=A+(D<<10&4294967295|D>>>22),D=N+(A^(j|~P))+R[14]+2878612391&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~A))+R[5]+4237533241&4294967295,P=N+(D<<21&4294967295|D>>>11),D=A+(N^(P|~j))+R[12]+1700485571&4294967295,A=P+(D<<6&4294967295|D>>>26),D=j+(P^(A|~N))+R[3]+2399980690&4294967295,j=A+(D<<10&4294967295|D>>>22),D=N+(A^(j|~P))+R[10]+4293915773&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~A))+R[1]+2240044497&4294967295,P=N+(D<<21&4294967295|D>>>11),D=A+(N^(P|~j))+R[8]+1873313359&4294967295,A=P+(D<<6&4294967295|D>>>26),D=j+(P^(A|~N))+R[15]+4264355552&4294967295,j=A+(D<<10&4294967295|D>>>22),D=N+(A^(j|~P))+R[6]+2734768916&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~A))+R[13]+1309151649&4294967295,P=N+(D<<21&4294967295|D>>>11),D=A+(N^(P|~j))+R[4]+4149444226&4294967295,A=P+(D<<6&4294967295|D>>>26),D=j+(P^(A|~N))+R[11]+3174756917&4294967295,j=A+(D<<10&4294967295|D>>>22),D=N+(A^(j|~P))+R[2]+718787259&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~A))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var P=A-this.blockSize,R=this.B,N=this.h,j=0;j<A;){if(N==0)for(;j<=P;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<A;)if(R[N++]=S.charCodeAt(j++),N==this.blockSize){i(this,R),N=0;break}}else for(;j<A;)if(R[N++]=S[j++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var P=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=P&255,P/=256;for(this.u(S),S=Array(16),A=P=0;4>A;++A)for(var R=0;32>R;R+=8)S[P++]=this.g[A]>>>R&255;return S};function o(S,A){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=A(S)}function s(S,A){this.h=A;for(var P=[],R=!0,N=S.length-1;0<=N;N--){var j=S[N]|0;R&&j==A||(P[N]=j,R=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?o(S,function(A){return new s([A|0],0>A?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return g(u(-S));for(var A=[],P=1,R=0;S>=P;R++)A[R]=S/P|0,P*=4294967296;return new s(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return g(c(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(A,8)),R=f,N=0;N<S.length;N+=8){var j=Math.min(8,S.length-N),D=parseInt(S.substring(N,N+j),A);8>j?(j=u(Math.pow(A,j)),R=R.j(j).add(u(D))):(R=R.j(P),R=R.add(u(D)))}return R}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-g(this).m();for(var S=0,A=1,P=0;P<this.g.length;P++){var R=this.i(P);S+=(0<=R?R:4294967296+R)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(w(this))return"-"+g(this).toString(S);for(var A=u(Math.pow(S,6)),P=this,R="";;){var N=C(P,A).g;P=v(P,N.j(A));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=N,y(P))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=v(this,S),w(S)?-1:y(S)?0:1};function g(S){for(var A=S.g.length,P=[],R=0;R<A;R++)P[R]=~S.g[R];return new s(P,~S.h).add(h)}t.abs=function(){return w(this)?g(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],R=0,N=0;N<=A;N++){var j=R+(this.i(N)&65535)+(S.i(N)&65535),D=(j>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=D>>>16,j&=65535,D&=65535,P[N]=D<<16|j}return new s(P,P[P.length-1]&-2147483648?-1:0)};function v(S,A){return S.add(g(A))}t.j=function(S){if(y(this)||y(S))return f;if(w(this))return w(S)?g(this).j(g(S)):g(g(this).j(S));if(w(S))return g(this.j(g(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,P=[],R=0;R<2*A;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<S.g.length;N++){var j=this.i(R)>>>16,D=this.i(R)&65535,W=S.i(N)>>>16,q=S.i(N)&65535;P[2*R+2*N]+=D*q,b(P,2*R+2*N),P[2*R+2*N+1]+=j*q,b(P,2*R+2*N+1),P[2*R+2*N+1]+=D*W,b(P,2*R+2*N+1),P[2*R+2*N+2]+=j*W,b(P,2*R+2*N+2)}for(R=0;R<A;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=A;R<2*A;R++)P[R]=0;return new s(P,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function E(S,A){this.g=S,this.h=A}function C(S,A){if(y(A))throw Error("division by zero");if(y(S))return new E(f,f);if(w(S))return A=C(g(S),A),new E(g(A.g),g(A.h));if(w(A))return A=C(S,g(A)),new E(g(A.g),A.h);if(30<S.g.length){if(w(S)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var P=h,R=A;0>=R.l(S);)P=k(P),R=k(R);var N=I(P,1),j=I(R,1);for(R=I(R,2),P=I(P,2);!y(R);){var D=j.add(R);0>=D.l(S)&&(N=N.add(P),j=D),R=I(R,1),P=I(P,1)}return A=v(S,N.j(A)),new E(N,A)}for(N=f;0<=S.l(A);){for(P=Math.max(1,Math.floor(S.m()/A.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=u(P),D=j.j(A);w(D)||0<D.l(S);)P-=R,j=u(P),D=j.j(A);y(j)&&(j=h),N=N.add(j),S=v(S,D)}return new E(N,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],R=0;R<A;R++)P[R]=this.i(R)&S.i(R);return new s(P,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],R=0;R<A;R++)P[R]=this.i(R)|S.i(R);return new s(P,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],R=0;R<A;R++)P[R]=this.i(R)^S.i(R);return new s(P,this.h^S.h)};function k(S){for(var A=S.g.length+1,P=[],R=0;R<A;R++)P[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(P,S.h)}function I(S,A){var P=A>>5;A%=32;for(var R=S.g.length-P,N=[],j=0;j<R;j++)N[j]=0<A?S.i(j+P)>>>A|S.i(j+P+1)<<32-A:S.i(j+P);return new s(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,So=s}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fN,vu,hN,Nf,Hv,pN,mN,gN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var T=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var L=d[O];if(!(L in T))break e;T=T[L]}d=d[d.length-1],O=T[d],_=_(O),_!=O&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,O=!1,L={next:function(){if(!O&&T<d.length){var $=T++;return{value:_($,d[$]),done:!1}}return O=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function c(d,_,T){return d.call.apply(d.bind,arguments)}function f(d,_,T){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,O),d.apply(_,L)}}return function(){return d.apply(_,arguments)}}function h(d,_,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function y(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(O,L,$){for(var Q=Array(arguments.length-2),De=2;De<arguments.length;De++)Q[De-2]=arguments[De];return _.prototype[L].apply(O,Q)}}function w(d){const _=d.length;if(0<_){const T=Array(_);for(let O=0;O<_;O++)T[O]=d[O];return T}return[]}function g(d,_){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(l(O)){const L=d.length||0,$=O.length||0;d.length=L+$;for(let Q=0;Q<$;Q++)d[L+Q]=O[Q]}else d.push(O)}}class v{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var k=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(d,_,T){for(const O in d)_.call(T,d[O],O,d)}function S(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function A(d){const _={};for(const T in d)_[T]=d[T];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,_){let T,O;for(let L=1;L<arguments.length;L++){O=arguments[L];for(T in O)d[T]=O[T];for(let $=0;$<P.length;$++)T=P[$],Object.prototype.hasOwnProperty.call(O,T)&&(d[T]=O[T])}}function N(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function j(d){a.setTimeout(()=>{throw d},0)}function D(){var d=F;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,T){const O=q.get();O.set(_,T),this.h?this.h.next=O:this.g=O,this.h=O}}var q=new v(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let U,M=!1,F=new W,X=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(se)}};var se=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(T){j(T)}var _=q;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}M=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ln=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return d}();function Ze(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(k){e:{try{C(_.nodeName);var L=!0;break e}catch{}L=!1}L||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yr[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ze.aa.h.call(this)}}y(Ze,he);var yr={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var vr="closure_listenable_"+(1e6*Math.random()|0),ng=0;function re(d,_,T,O,L){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!O,this.ha=L,this.key=++ng,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,_,T,O,L){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var Q=At(d,_,O,L);return-1<Q?(_=d[Q],T||(_.fa=!1)):(_=new re(_,this.src,$,!!O,L),_.fa=T,d.push(_)),_};function H(d,_){var T=_.type;if(T in d.g){var O=d.g[T],L=Array.prototype.indexOf.call(O,_,void 0),$;($=0<=L)&&Array.prototype.splice.call(O,L,1),$&&(fe(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function At(d,_,T,O){for(var L=0;L<d.length;++L){var $=d[L];if(!$.da&&$.listener==_&&$.capture==!!T&&$.ha==O)return L}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Mt={};function Ht(d,_,T,O,L){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Ht(d,_[$],T,O,L);return null}return T=o1(T),d&&d[vr]?d.K(_,T,u(O)?!!O.capture:!!O,L):ii(d,_,T,!1,O,L)}function ii(d,_,T,O,L,$){if(!_)throw Error("Invalid event type");var Q=u(L)?!!L.capture:!!L,De=ig(d);if(De||(d[Pe]=De=new pe(d)),T=De.add(_,T,O,Q,$),T.proxy)return T;if(O=ud(),T.proxy=O,O.src=d,O.listener=T,d.addEventListener)ln||(L=Q),L===void 0&&(L=!1),d.addEventListener(_.toString(),O,L);else if(d.attachEvent)d.attachEvent(i1(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ud(){function d(T){return _.call(d.src,d.listener,T)}const _=g4;return d}function r1(d,_,T,O,L){if(Array.isArray(_))for(var $=0;$<_.length;$++)r1(d,_[$],T,O,L);else O=u(O)?!!O.capture:!!O,T=o1(T),d&&d[vr]?(d=d.i,_=String(_).toString(),_ in d.g&&($=d.g[_],T=At($,T,O,L),-1<T&&(fe($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete d.g[_],d.h--)))):d&&(d=ig(d))&&(_=d.g[_.toString()],d=-1,_&&(d=At(_,T,O,L)),(T=-1<d?_[d]:null)&&rg(T))}function rg(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[vr])H(_.i,d);else{var T=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(T,O,d.capture):_.detachEvent?_.detachEvent(i1(T),O):_.addListener&&_.removeListener&&_.removeListener(O),(T=ig(_))?(H(T,d),T.h==0&&(T.src=null,_[Pe]=null)):fe(d)}}}function i1(d){return d in Mt?Mt[d]:Mt[d]="on"+d}function g4(d,_){if(d.da)d=!0;else{_=new Ze(_,this);var T=d.listener,O=d.ha||d.src;d.fa&&rg(d),d=T.call(O,_)}return d}function ig(d){return d=d[Pe],d instanceof pe?d:null}var og="__closure_events_fn_"+(1e9*Math.random()>>>0);function o1(d){return typeof d=="function"?d:(d[og]||(d[og]=function(_){return d.handleEvent(_)}),d[og])}function Kt(){G.call(this),this.i=new pe(this),this.M=this,this.F=null}y(Kt,G),Kt.prototype[vr]=!0,Kt.prototype.removeEventListener=function(d,_,T,O){r1(this,d,_,T,O)};function un(d,_){var T,O=d.F;if(O)for(T=[];O;O=O.F)T.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var L=_;_=new he(O,d),R(_,L)}if(L=!0,T)for(var $=T.length-1;0<=$;$--){var Q=_.g=T[$];L=cd(Q,O,!0,_)&&L}if(Q=_.g=d,L=cd(Q,O,!0,_)&&L,L=cd(Q,O,!1,_)&&L,T)for($=0;$<T.length;$++)Q=_.g=T[$],L=cd(Q,O,!1,_)&&L}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],O=0;O<T.length;O++)fe(T[O]);delete d.g[_],d.h--}}this.F=null},Kt.prototype.K=function(d,_,T,O){return this.i.add(String(d),_,!1,T,O)},Kt.prototype.L=function(d,_,T,O){return this.i.add(String(d),_,!0,T,O)};function cd(d,_,T,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var L=!0,$=0;$<_.length;++$){var Q=_[$];if(Q&&!Q.da&&Q.capture==T){var De=Q.listener,Lt=Q.ha||Q.src;Q.fa&&H(d.i,Q),L=De.call(Lt,O)!==!1&&L}}return L&&!O.defaultPrevented}function s1(d,_,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function a1(d){d.g=s1(()=>{d.g=null,d.i&&(d.i=!1,a1(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class y4 extends G{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:a1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jl(d){G.call(this),this.h=d,this.g={}}y(jl,G);var l1=[];function u1(d){I(d.g,function(_,T){this.g.hasOwnProperty(T)&&rg(_)},d),d.g={}}jl.prototype.N=function(){jl.aa.N.call(this),u1(this)},jl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sg=a.JSON.stringify,v4=a.JSON.parse,w4=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ag(){}ag.prototype.h=null;function c1(d){return d.h||(d.h=d.i())}function d1(){}var Ml={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lg(){he.call(this,"d")}y(lg,he);function ug(){he.call(this,"c")}y(ug,he);var Zo={},f1=null;function dd(){return f1=f1||new Kt}Zo.La="serverreachability";function h1(d){he.call(this,Zo.La,d)}y(h1,he);function Ll(d){const _=dd();un(_,new h1(_))}Zo.STAT_EVENT="statevent";function p1(d,_){he.call(this,Zo.STAT_EVENT,d),this.stat=_}y(p1,he);function cn(d){const _=dd();un(_,new p1(_,d))}Zo.Ma="timingevent";function m1(d,_){he.call(this,Zo.Ma,d),this.size=_}y(m1,he);function Vl(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function $l(){this.g=!0}$l.prototype.xa=function(){this.g=!1};function _4(d,_,T,O,L,$){d.info(function(){if(d.g)if($)for(var Q="",De=$.split("&"),Lt=0;Lt<De.length;Lt++){var Ee=De[Lt].split("=");if(1<Ee.length){var qt=Ee[0];Ee=Ee[1];var Gt=qt.split("_");Q=2<=Gt.length&&Gt[1]=="type"?Q+(qt+"="+Ee+"&"):Q+(qt+"=redacted&")}}else Q=null;else Q=$;return"XMLHTTP REQ ("+O+") [attempt "+L+"]: "+_+`
`+T+`
`+Q})}function b4(d,_,T,O,L,$,Q){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+L+"]: "+_+`
`+T+`
`+$+" "+Q})}function na(d,_,T,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+E4(d,T)+(O?" "+O:"")})}function x4(d,_){d.info(function(){return"TIMEOUT: "+_})}$l.prototype.info=function(){};function E4(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var O=T[d];if(!(2>O.length)){var L=O[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return sg(T)}catch{return _}}var fd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cg;function hd(){}y(hd,ag),hd.prototype.g=function(){return new XMLHttpRequest},hd.prototype.i=function(){return{}},cg=new hd;function Hi(d,_,T,O){this.j=d,this.i=_,this.l=T,this.R=O||1,this.U=new jl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y1}function y1(){this.i=null,this.g="",this.h=!1}var v1={},dg={};function fg(d,_,T){d.L=1,d.v=yd(oi(_)),d.m=T,d.P=!0,w1(d,null)}function w1(d,_){d.F=Date.now(),pd(d),d.A=oi(d.v);var T=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),R1(T.i,"t",O),d.C=0,T=d.j.J,d.h=new y1,d.g=X1(d.j,T?_:null,!d.m),0<d.O&&(d.M=new y4(h(d.Y,d,d.g),d.O)),_=d.U,T=d.g,O=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(l1[0]=L.toString()),L=l1);for(var $=0;$<L.length;$++){var Q=Ht(T,L[$],O||_.handleEvent,!1,_.h||_);if(!Q)break;_.g[Q.key]=Q}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ll(),_4(d.i,d.u,d.A,d.l,d.R,d.m)}Hi.prototype.ca=function(d){d=d.target;const _=this.M;_&&si(d)==3?_.j():this.Y(d)},Hi.prototype.Y=function(d){try{if(d==this.g)e:{const Gt=si(this.g);var _=this.g.Ba();const oa=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||U1(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=oa?Ll(3):Ll(2)),hg(this);var T=this.g.Z();this.X=T;t:if(_1(this)){var O=U1(this.g);d="";var L=O.length,$=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Ul(this);var Q="";break t}this.h.i=new a.TextDecoder}for(_=0;_<L;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!($&&_==L-1)});O.length=0,this.h.g+=d,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=T==200,b4(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Lt=this.g;if((De=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(De)){var Ee=De;break t}}Ee=null}if(T=Ee)na(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pg(this,T);else{this.o=!1,this.s=3,cn(12),es(this),Ul(this);break e}}if(this.P){T=!0;let wr;for(;!this.J&&this.C<Q.length;)if(wr=T4(this,Q),wr==dg){Gt==4&&(this.s=4,cn(14),T=!1),na(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==v1){this.s=4,cn(15),na(this.i,this.l,Q,"[Invalid Chunk]"),T=!1;break}else na(this.i,this.l,wr,null),pg(this,wr);if(_1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Q.length!=0||this.h.h||(this.s=1,cn(16),T=!1),this.o=this.o&&T,!T)na(this.i,this.l,Q,"[Invalid Chunked Response]"),es(this),Ul(this);else if(0<Q.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),_g(qt),qt.M=!0,cn(11))}}else na(this.i,this.l,Q,null),pg(this,Q);Gt==4&&es(this),this.o&&!this.J&&(Gt==4?q1(this.j,this):(this.o=!1,pd(this)))}else F4(this.g),T==400&&0<Q.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),es(this),Ul(this)}}}catch{}finally{}};function _1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function T4(d,_){var T=d.C,O=_.indexOf(`
`,T);return O==-1?dg:(T=Number(_.substring(T,O)),isNaN(T)?v1:(O+=1,O+T>_.length?dg:(_=_.slice(O,O+T),d.C=O+T,_)))}Hi.prototype.cancel=function(){this.J=!0,es(this)};function pd(d){d.S=Date.now()+d.I,b1(d,d.I)}function b1(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Vl(h(d.ba,d),_)}function hg(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Hi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(x4(this.i,this.A),this.L!=2&&(Ll(),cn(17)),es(this),this.s=2,Ul(this)):b1(this,this.S-d)};function Ul(d){d.j.G==0||d.J||q1(d.j,d)}function es(d){hg(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,u1(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function pg(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||mg(T.h,d))){if(!d.K&&mg(T.h,d)&&T.G==3){try{var O=T.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var L=O;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Ed(T),bd(T);else break e;wg(T),cn(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=Vl(h(T.Za,T),6e3));if(1>=T1(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ns(T,11)}else if((d.K||T.g==d)&&Ed(T),!b(_))for(L=T.Da.g.parse(_),_=0;_<L.length;_++){let Ee=L[_];if(T.T=Ee[0],Ee=Ee[1],T.G==2)if(Ee[0]=="c"){T.K=Ee[1],T.ia=Ee[2];const qt=Ee[3];qt!=null&&(T.la=qt,T.j.info("VER="+T.la));const Gt=Ee[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const oa=Ee[5];oa!=null&&typeof oa=="number"&&0<oa&&(O=1.5*oa,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const wr=d.g;if(wr){const Sd=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var $=O.h;$.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(gg($,$.h),$.h=null))}if(O.D){const bg=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;bg&&(O.ya=bg,Ue(O.I,O.D,bg))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var Q=d;if(O.qa=Q1(O,O.J?O.ia:null,O.W),Q.K){S1(O.h,Q);var De=Q,Lt=O.L;Lt&&(De.I=Lt),De.B&&(hg(De),pd(De)),O.g=Q}else H1(O);0<T.i.length&&xd(T)}else Ee[0]!="stop"&&Ee[0]!="close"||ns(T,7);else T.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ns(T,7):vg(T):Ee[0]!="noop"&&T.l&&T.l.ta(Ee),T.v=0)}}Ll(4)}catch{}}var S4=class{constructor(d,_){this.g=d,this.map=_}};function x1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function T1(d){return d.h?1:d.g?d.g.size:0}function mg(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function gg(d,_){d.g?d.g.add(_):d.h=_}function S1(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}x1.prototype.cancel=function(){if(this.i=A1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function A1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return w(d.i)}function A4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],T=d.length,O=0;O<T;O++)_.push(d[O]);return _}_=[],T=0;for(O in d)_[T++]=d[O];return _}function P4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const O in d)_[T++]=O;return _}}}function P1(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=P4(d),O=A4(d),L=O.length,$=0;$<L;$++)_.call(void 0,O[$],T&&T[$],d)}var I1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I4(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var O=d[T].indexOf("="),L=null;if(0<=O){var $=d[T].substring(0,O);L=d[T].substring(O+1)}else $=d[T];_($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ts(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ts){this.h=d.h,md(this,d.j),this.o=d.o,this.g=d.g,gd(this,d.s),this.l=d.l;var _=d.i,T=new zl;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),C1(this,T),this.m=d.m}else d&&(_=String(d).match(I1))?(this.h=!1,md(this,_[1]||"",!0),this.o=Fl(_[2]||""),this.g=Fl(_[3]||"",!0),gd(this,_[4]),this.l=Fl(_[5]||"",!0),C1(this,_[6]||"",!0),this.m=Fl(_[7]||"")):(this.h=!1,this.i=new zl(null,this.h))}ts.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Bl(_,k1,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Bl(_,k1,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Bl(T,T.charAt(0)=="/"?O4:k4,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Bl(T,R4)),d.join("")};function oi(d){return new ts(d)}function md(d,_,T){d.j=T?Fl(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function gd(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function C1(d,_,T){_ instanceof zl?(d.i=_,D4(d.i,d.h)):(T||(_=Bl(_,N4)),d.i=new zl(_,d.h))}function Ue(d,_,T){d.i.set(_,T)}function yd(d){return Ue(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fl(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bl(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,C4),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function C4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var k1=/[#\/\?@]/g,k4=/[#\?:]/g,O4=/[#\?]/g,N4=/[#\?@]/g,R4=/#/g;function zl(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ki(d){d.g||(d.g=new Map,d.h=0,d.i&&I4(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=zl.prototype,t.add=function(d,_){Ki(this),this.i=null,d=ra(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function O1(d,_){Ki(d),_=ra(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function N1(d,_){return Ki(d),_=ra(d,_),d.g.has(_)}t.forEach=function(d,_){Ki(this),this.g.forEach(function(T,O){T.forEach(function(L){d.call(_,L,O,this)},this)},this)},t.na=function(){Ki(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let O=0;O<_.length;O++){const L=d[O];for(let $=0;$<L.length;$++)T.push(_[O])}return T},t.V=function(d){Ki(this);let _=[];if(typeof d=="string")N1(this,d)&&(_=_.concat(this.g.get(ra(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},t.set=function(d,_){return Ki(this),this.i=null,d=ra(this,d),N1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function R1(d,_,T){O1(d,_),0<T.length&&(d.i=null,d.g.set(ra(d,_),w(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var O=_[T];const $=encodeURIComponent(String(O)),Q=this.V(O);for(O=0;O<Q.length;O++){var L=$;Q[O]!==""&&(L+="="+encodeURIComponent(String(Q[O]))),d.push(L)}}return this.i=d.join("&")};function ra(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function D4(d,_){_&&!d.j&&(Ki(d),d.i=null,d.g.forEach(function(T,O){var L=O.toLowerCase();O!=L&&(O1(this,O),R1(this,L,T))},d)),d.j=_}function j4(d,_){const T=new $l;if(a.Image){const O=new Image;O.onload=p(qi,T,"TestLoadImage: loaded",!0,_,O),O.onerror=p(qi,T,"TestLoadImage: error",!1,_,O),O.onabort=p(qi,T,"TestLoadImage: abort",!1,_,O),O.ontimeout=p(qi,T,"TestLoadImage: timeout",!1,_,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function M4(d,_){const T=new $l,O=new AbortController,L=setTimeout(()=>{O.abort(),qi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then($=>{clearTimeout(L),$.ok?qi(T,"TestPingServer: ok",!0,_):qi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(L),qi(T,"TestPingServer: error",!1,_)})}function qi(d,_,T,O,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),O(T)}catch{}}function L4(){this.g=new w4}function V4(d,_,T){const O=T||"";try{P1(d,function(L,$){let Q=L;u(L)&&(Q=sg(L)),_.push(O+$+"="+encodeURIComponent(Q))})}catch(L){throw _.push(O+"type="+encodeURIComponent("_badmap")),L}}function vd(d){this.l=d.Ub||null,this.j=d.eb||!1}y(vd,ag),vd.prototype.g=function(){return new wd(this.l,this.j)},vd.prototype.i=function(d){return function(){return d}}({});function wd(d,_){Kt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(wd,Kt),t=wd.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Hl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function D1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Wl(this):Hl(this),this.readyState==3&&D1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Wl(this))},t.Qa=function(d){this.g&&(this.response=d,Wl(this))},t.ga=function(){this.g&&Wl(this)};function Wl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Hl(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Hl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function j1(d){let _="";return I(d,function(T,O){_+=O,_+=":",_+=T,_+=`\r
`}),_}function yg(d,_,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=j1(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Ue(d,_,T))}function et(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(et,Kt);var $4=/^https?$/i,U4=["POST","PUT"];t=et.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cg.g(),this.v=this.o?c1(this.o):c1(cg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch($){M1(this,$);return}if(d=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var L in O)T.set(L,O[L]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const $ of O.keys())T.set($,O.get($));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U4,_,void 0))||O||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Q]of T)this.g.setRequestHeader($,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$1(this),this.u=!0,this.g.send(d),this.u=!1}catch($){M1(this,$)}};function M1(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,L1(d),_d(d)}function L1(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),_d(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_d(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?V1(this):this.bb())},t.bb=function(){V1(this)};function V1(d){if(d.h&&typeof s<"u"&&(!d.v[1]||si(d)!=4||d.Z()!=2)){if(d.u&&si(d)==4)s1(d.Ea,0,d);else if(un(d,"readystatechange"),si(d)==4){d.h=!1;try{const Q=d.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var O;if(O=Q===0){var L=String(d.D).match(I1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),O=!$4.test(L?L.toLowerCase():"")}T=O}if(T)un(d,"complete"),un(d,"success");else{d.m=6;try{var $=2<si(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",L1(d)}}finally{_d(d)}}}}function _d(d,_){if(d.g){$1(d);const T=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||un(d,"ready");try{T.onreadystatechange=O}catch{}}}function $1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function si(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),v4(_)}};function U1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function F4(d){const _={};d=(d.g&&2<=si(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(b(d[O]))continue;var T=N(d[O]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=_[L]||[];_[L]=$,$.push(T)}S(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kl(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function F1(d){this.Aa=0,this.i=[],this.j=new $l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kl("baseRetryDelayMs",5e3,d),this.cb=Kl("retryDelaySeedMs",1e4,d),this.Wa=Kl("forwardChannelMaxRetries",2,d),this.wa=Kl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new x1(d&&d.concurrentRequestLimit),this.Da=new L4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=F1.prototype,t.la=8,t.G=1,t.connect=function(d,_,T,O){cn(0),this.W=d,this.H=_||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Q1(this,null,this.W),xd(this)};function vg(d){if(B1(d),d.G==3){var _=d.U++,T=oi(d.I);if(Ue(T,"SID",d.K),Ue(T,"RID",_),Ue(T,"TYPE","terminate"),ql(d,T),_=new Hi(d,d.j,_),_.L=2,_.v=yd(oi(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=X1(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pd(_)}Y1(d)}function bd(d){d.g&&(_g(d),d.g.cancel(),d.g=null)}function B1(d){bd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ed(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function xd(d){if(!E1(d.h)&&!d.s){d.s=!0;var _=d.Ga;U||X(),M||(U(),M=!0),F.add(_,d),d.B=0}}function B4(d,_){return T1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Vl(h(d.Ga,d,_),G1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Hi(this,this.j,d);let $=this.o;if(this.S&&($?($=A($),R($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=W1(this,L,_),T=oi(this.I),Ue(T,"RID",d),Ue(T,"CVER",22),this.D&&Ue(T,"X-HTTP-Session-Id",this.D),ql(this,T),$&&(this.O?_="headers="+encodeURIComponent(String(j1($)))+"&"+_:this.m&&yg(T,this.m,$)),gg(this.h,L),this.Ua&&Ue(T,"TYPE","init"),this.P?(Ue(T,"$req",_),Ue(T,"SID","null"),L.T=!0,fg(L,T,null)):fg(L,T,_),this.G=2}}else this.G==3&&(d?z1(this,d):this.i.length==0||E1(this.h)||z1(this))};function z1(d,_){var T;_?T=_.l:T=d.U++;const O=oi(d.I);Ue(O,"SID",d.K),Ue(O,"RID",T),Ue(O,"AID",d.T),ql(d,O),d.m&&d.o&&yg(O,d.m,d.o),T=new Hi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=W1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gg(d.h,T),fg(T,O,_)}function ql(d,_){d.H&&I(d.H,function(T,O){Ue(_,O,T)}),d.l&&P1({},function(T,O){Ue(_,O,T)})}function W1(d,_,T){T=Math.min(d.i.length,T);var O=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let $=-1;for(;;){const Q=["count="+T];$==-1?0<T?($=L[0].g,Q.push("ofs="+$)):$=0:Q.push("ofs="+$);let De=!0;for(let Lt=0;Lt<T;Lt++){let Ee=L[Lt].g;const qt=L[Lt].map;if(Ee-=$,0>Ee)$=Math.max(0,L[Lt].g-100),De=!1;else try{V4(qt,Q,"req"+Ee+"_")}catch{O&&O(qt)}}if(De){O=Q.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,O}function H1(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;U||X(),M||(U(),M=!0),F.add(_,d),d.v=0}}function wg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Vl(h(d.Fa,d),G1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,K1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Vl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),bd(this),K1(this))};function _g(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function K1(d){d.g=new Hi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=oi(d.qa);Ue(_,"RID","rpc"),Ue(_,"SID",d.K),Ue(_,"AID",d.T),Ue(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ue(_,"TO",d.ja),Ue(_,"TYPE","xmlhttp"),ql(d,_),d.m&&d.o&&yg(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=yd(oi(_)),T.m=null,T.P=!0,w1(T,d)}t.Za=function(){this.C!=null&&(this.C=null,bd(this),wg(this),cn(19))};function Ed(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function q1(d,_){var T=null;if(d.g==_){Ed(d),_g(d),d.g=null;var O=2}else if(mg(d.h,_))T=_.D,S1(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var L=d.B;O=dd(),un(O,new m1(O,T)),xd(d)}else H1(d);else if(L=_.s,L==3||L==0&&0<_.X||!(O==1&&B4(d,_)||O==2&&wg(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),L){case 1:ns(d,5);break;case 4:ns(d,10);break;case 3:ns(d,6);break;default:ns(d,2)}}}function G1(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function ns(d,_){if(d.j.info("Error code "+_),_==2){var T=h(d.fb,d),O=d.Xa;const L=!O;O=new ts(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||md(O,"https"),yd(O),L?j4(O.toString(),T):M4(O.toString(),T)}else cn(2);d.G=0,d.l&&d.l.sa(_),Y1(d),B1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Y1(d){if(d.G=0,d.ka=[],d.l){const _=A1(d.h);(_.length!=0||d.i.length!=0)&&(g(d.ka,_),g(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Q1(d,_,T){var O=T instanceof ts?oi(T):new ts(T);if(O.g!="")_&&(O.g=_+"."+O.g),gd(O,O.s);else{var L=a.location;O=L.protocol,_=_?_+"."+L.hostname:L.hostname,L=+L.port;var $=new ts(null);O&&md($,O),_&&($.g=_),L&&gd($,L),T&&($.l=T),O=$}return T=d.D,_=d.ya,T&&_&&Ue(O,T,_),Ue(O,"VER",d.la),ql(d,O),O}function X1(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new vd({eb:T})):new et(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J1(){}t=J1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Td(){}Td.prototype.g=function(d,_){return new Cn(d,_)};function Cn(d,_){Kt.call(this),this.g=new F1(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!b(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!b(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ia(this)}y(Cn,Kt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){vg(this.g)},Cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=sg(d),d=T);_.i.push(new S4(_.Ya++,d)),_.G==3&&xd(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,vg(this.g),delete this.g,Cn.aa.N.call(this)};function Z1(d){lg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}y(Z1,lg);function eE(){ug.call(this),this.status=1}y(eE,ug);function ia(d){this.g=d}y(ia,J1),ia.prototype.ua=function(){un(this.g,"a")},ia.prototype.ta=function(d){un(this.g,new Z1(d))},ia.prototype.sa=function(d){un(this.g,new eE)},ia.prototype.ra=function(){un(this.g,"b")},Td.prototype.createWebChannel=Td.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,gN=function(){return new Td},mN=function(){return dd()},pN=Zo,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fd.NO_ERROR=0,fd.TIMEOUT=8,fd.HTTP_ERROR=6,Nf=fd,g1.COMPLETE="complete",hN=g1,d1.EventType=Ml,Ml.OPEN="a",Ml.CLOSE="b",Ml.ERROR="c",Ml.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,vu=d1,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,fN=et}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const qT="@firebase/firestore",GT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new u_("@firebase/firestore");function ua(){return Ds.logLevel}function Z(t,...e){if(Ds.logLevel<=ge.DEBUG){const n=e.map(__);Ds.debug(`Firestore (${_l}): ${t}`,...n)}}function Oi(t,...e){if(Ds.logLevel<=ge.ERROR){const n=e.map(__);Ds.error(`Firestore (${_l}): ${t}`,...n)}}function js(t,...e){if(Ds.logLevel<=ge.WARN){const n=e.map(__);Ds.warn(`Firestore (${_l}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yN(t,r,n)}function yN(t,e,n){let r=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Oi(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yN(e,i,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class L5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V5{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ao,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ao)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new vN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class $5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Kv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return iy(i)===iy(o)?ye(i,o):iy(i)?1:-1}return ye(t.length,e.length)}const z5=55296,W5=57343;function iy(t){const e=t.charCodeAt(0);return e>=z5&&e<=W5}function Ya(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__name__";class Ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ur.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ye(e.length,n.length)}static compareSegments(e,n){const r=Ur.isNumericId(e),i=Ur.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):Kv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}}class Ve extends Ur{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const H5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ur{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return H5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new kt([QT])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ve.fromString(e))}static fromName(e){return new oe(Ve.fromString(e).popFirst(5))}static empty(){return new oe(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bN(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XT(t){if(!oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JT(t){if(oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function $c(t,e){if(!xN(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=-62135596800,eS=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eS);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ZT)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eS}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($c(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:gt("string",_e._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new _e(0,0))}static max(){return new ce(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Ro(i,oe.empty(),e)}function q5(t){return new Ro(t.readTime,t.key,cc)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(ce.min(),oe.empty(),cc)}static max(){return new Ro(ce.max(),oe.empty(),cc)}}function G5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Y5)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function X5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Up.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-1;function Fp(t){return t==null}function _h(t){return t===0&&1/t==-1/0}function J5(t){return typeof t=="number"&&Number.isInteger(t)&&!_h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="";function Z5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tS(e)),e=e9(t.get(n),e);return tS(e)}function e9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case EN:n+="";break;default:n+=o}}return n}function tS(t){return t+EN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rS(this.data.getIterator())}getIteratorFrom(e){return new rS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class rS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Et(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SN("Invalid base64 string: "+o):o}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const t9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=t9.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="server_timestamp",PN="__type__",IN="__previous_value__",CN="__local_write_time__";function x_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PN])==null?void 0:r.stringValue)===AN}function Bp(t){const e=t.mapValue.fields[IN];return x_(e)?Bp(e):e}function dc(t){const e=Do(t.mapValue.fields[CN].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const bh="(default)";class Qa{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__type__",ON="__max__",qd={mapValue:{fields:{__type__:{stringValue:ON}}}},NN="__vector__",xh="value";function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x_(t)?4:i9(t)?9007199254740991:r9(t)?10:11:le(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return jo(i.bytesValue).isEqual(jo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?_h(s)===_h(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nS(s)!==nS(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jr(s[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=lt(o.integerValue||o.doubleValue),l=lt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iS(t.timestampValue,e.timestampValue);case 4:return iS(dc(t),dc(e));case 5:return Kv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=jo(o),l=jo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ye(a[u],l[u]);if(c!==0)return c}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ye(lt(o.latitude),lt(s.latitude));return a!==0?a:ye(lt(o.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,p,y,w;const a=o.fields||{},l=s.fields||{},u=(h=a[xh])==null?void 0:h.arrayValue,c=(p=l[xh])==null?void 0:p.arrayValue,f=ye(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return f!==0?f:oS(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===qd.mapValue&&s===qd.mapValue)return 0;if(o===qd.mapValue)return 1;if(s===qd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Kv(l[f],c[f]);if(h!==0)return h;const p=Xa(a[l[f]],u[c[f]]);if(p!==0)return p}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function iS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Do(t),r=Do(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function oS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Xa(n[i],r[i]);if(o)return o}return ye(n.length,r.length)}function Ja(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${qv(n.fields[s])}`;return i+"}"}(t.mapValue):le(61005,{value:t})}function Rf(t){switch(Mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bp(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Rf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return qo(r.fields,(o,s)=>{i+=o.length+Rf(s)}),i}(t.mapValue);default:throw le(13486,{value:t})}}function sS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gv(t){return!!t&&"integerValue"in t}function E_(t){return!!t&&"arrayValue"in t}function aS(t){return!!t&&"nullValue"in t}function lS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function r9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kN])==null?void 0:r.stringValue)===NN}function Du(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return{...t}}function i9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Du(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xn(Du(this.value))}}function RN(t){const e=[];return qo(t.fields,(n,r)=>{const i=new kt([n]);if(Df(r)){const o=RN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,ce.min(),ce.min(),ce.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ce.min(),ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ce.min(),ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function uS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Xa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function o9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class mt extends DN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a9(e,n,r):n==="array-contains"?new c9(e,r):n==="in"?new d9(e,r):n==="not-in"?new f9(e,r):n==="array-contains-any"?new h9(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l9(e,r):new u9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends DN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dr(e,n)}matches(e){return jN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jN(t){return t.op==="and"}function MN(t){return s9(t)&&jN(t)}function s9(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function Yv(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Ja(t.value);if(MN(t))return t.filters.map(e=>Yv(e)).join(",");{const e=t.filters.map(n=>Yv(n)).join(",");return`${t.op}(${e})`}}function LN(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&LN(s,i.filters[a]),!0):!1}(t,e):void le(19439)}function VN(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(VN).join(" ,")+"}"}(t):"Filter"}class a9 extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class l9 extends mt{constructor(e,n){super(e,"in",n),this.keys=$N("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u9 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=$N("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $N(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class c9 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return E_(n)&&fc(n.arrayValue,this.value)}}class d9 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class f9 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class h9 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!E_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function dS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new p9(t,e,n,r,i,o,s)}function T_(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Te=n}return e.Te}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cS(t.startAt,e.startAt)&&cS(t.endAt,e.endAt)}function Qv(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m9(t,e,n,r,i,o,s,a){return new El(t,e,n,r,i,o,s,a)}function A_(t){return new El(t)}function fS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UN(t){return t.collectionGroup!==null}function ju(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Et(kt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hc(o,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new hc(kt.keyField(),r))}return e.Ie}function Yr(t){const e=de(t);return e.Ee||(e.Ee=g9(e,ju(t))),e.Ee}function g9(t,e){if(t.limitType==="F")return dS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new hc(i.field,o)});const n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;return dS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xv(t,e){const n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jv(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zp(t,e){return S_(Yr(t),Yr(e))&&t.limitType===e.limitType}function FN(t){return`${T_(Yr(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VN(i)).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ju(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=uS(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ju(r),i)||r.endAt&&!function(s,a,l){const u=uS(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ju(r),i))}(t,e)}function y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BN(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const o=v9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function v9(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Xa(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Je(oe.comparator);function Ni(){return w9}const zN=new Je(oe.comparator);function wu(...t){let e=zN;for(const n of t)e=e.insert(n.key,n);return e}function WN(t){let e=zN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return Mu()}function HN(){return Mu()}function Mu(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const _9=new Je(oe.comparator),b9=new Et(oe.comparator);function ve(...t){let e=b9;for(const n of t)e=e.add(n);return e}const x9=new Et(ye);function E9(){return x9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function KN(t){return{integerValue:""+t}}function T9(t,e){return J5(e)?KN(e):P_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function S9(t,e,n){return t instanceof Th?function(i,o){const s={fields:{[PN]:{stringValue:AN},[CN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&x_(o)&&(o=Bp(o)),o&&(s.fields[IN]=o),{mapValue:s}}(n,e):t instanceof pc?GN(t,e):t instanceof mc?YN(t,e):function(i,o){const s=qN(i,o),a=hS(s)+hS(i.Ae);return Gv(s)&&Gv(i.Ae)?KN(a):P_(i.serializer,a)}(t,e)}function A9(t,e,n){return t instanceof pc?GN(t,e):t instanceof mc?YN(t,e):n}function qN(t,e){return t instanceof Sh?function(r){return Gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Th extends Hp{}class pc extends Hp{constructor(e){super(),this.elements=e}}function GN(t,e){const n=QN(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mc extends Hp{constructor(e){super(),this.elements=e}}function YN(t,e){let n=QN(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class Sh extends Hp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hS(t){return lt(t.integerValue||t.doubleValue)}function QN(t){return E_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pc&&i instanceof pc||r instanceof mc&&i instanceof mc?Ya(r.elements,i.elements,Jr):r instanceof Sh&&i instanceof Sh?Jr(r.Ae,i.Ae):r instanceof Th&&i instanceof Th}(t.transform,e.transform)}class I9{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kp{}function XN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I_(t.key,ur.none()):new Uc(t.key,t.data,ur.none());{const n=t.data,r=xn.empty();let i=new Et(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Go(t.key,r,new Un(i.toArray()),ur.none())}}function C9(t,e,n){t instanceof Uc?function(i,o,s){const a=i.value.clone(),l=mS(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Go?function(i,o,s){if(!jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=mS(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(JN(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Uc?function(o,s,a,l){if(!jf(o.precondition,s))return a;const u=o.value.clone(),c=gS(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Go?function(o,s,a,l){if(!jf(o.precondition,s))return a;const u=gS(o.fieldTransforms,l,s),c=s.data;return c.setAll(JN(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function k9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=qN(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function pS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ya(r,i,(o,s)=>P9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Go extends Kp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mS(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,A9(s,a,n[i]))}return r}function gS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,S9(o,s,e))}return r}class I_ extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O9 extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&C9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=XN(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>pS(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>pS(n,r))}}class C_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return _9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new C_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,we;function j9(t){switch(t){case B.OK:return le(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function ZN(t){if(t===void 0)return Oi("GRPC error has no .code"),B.UNKNOWN;switch(t){case ht.OK:return B.OK;case ht.CANCELLED:return B.CANCELLED;case ht.UNKNOWN:return B.UNKNOWN;case ht.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ht.INTERNAL:return B.INTERNAL;case ht.UNAVAILABLE:return B.UNAVAILABLE;case ht.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ht.NOT_FOUND:return B.NOT_FOUND;case ht.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ht.ABORTED:return B.ABORTED;case ht.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ht.DATA_LOSS:return B.DATA_LOSS;default:return le(39323,{code:t})}}(we=ht||(ht={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new So([4294967295,4294967295],0);function yS(t){const e=M9().encode(t),n=new dN;return n.update(e),new Uint8Array(n.digest())}function vS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new So([n,r],0),new So([i,o],0)]}class k_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=So.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(So.fromNumber(r)));return i.compare(L9)===1&&(i=new So([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yS(e),[r,i]=vS(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new k_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=yS(e),[r,i]=vS(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qp(ce.min(),i,new Je(ye),Ni(),ve())}}class Fc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class e2{constructor(e,n){this.targetId=e,this.Ce=n}}class t2{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wS{constructor(){this.ve=0,this.Fe=_S(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new Fc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_S()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Gd(),this.He=Gd(),this.Ye=new Je(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Qv(o))if(r===0){const s=new oe(o.path);this.et(n,s,tn.newNoDocument(s,ce.min()))}else Ie(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=jo(r).toUint8Array()}catch(l){if(l instanceof SN)return js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new k_(s,i,o)}catch(l){return js(l instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Qv(a.target)){const l=new oe(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,tn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=ve();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new qp(e,n,this.Ye,this.je,r);return this.je=Ni(),this.Je=Gd(),this.He=Gd(),this.Ye=new Je(ye),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new Je(oe.comparator)}function _S(){return new Je(oe.comparator)}const $9={asc:"ASCENDING",desc:"DESCENDING"},U9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F9={and:"AND",or:"OR"};class B9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zv(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function Ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z9(t,e){return Ah(t,e.toTimestamp())}function Qr(t){return Ie(!!t,49232),ce.fromTimestamp(function(n){const r=Do(n);return new _e(r.seconds,r.nanos)}(t))}function O_(t,e){return e0(t,e).canonicalString()}function e0(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r2(t){const e=Ve.fromString(t);return Ie(l2(e),10190,{key:e.toString()}),e}function t0(t,e){return O_(t.databaseId,e.path)}function oy(t,e){const n=r2(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(o2(n))}function i2(t,e){return O_(t.databaseId,e)}function W9(t){const e=r2(t);return e.length===4?Ve.emptyPath():o2(e)}function n0(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o2(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bS(t,e,n){return{name:t0(t,e),fields:n.value.mapValue.fields}}function H9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ie(c===void 0||typeof c=="string",58123),Rt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Rt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?B.UNKNOWN:ZN(u.code);return new J(c,u.message||"")}(s);n=new t2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oy(t,r.document.name),o=Qr(r.document.updateTime),s=r.document.createTime?Qr(r.document.createTime):ce.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Mf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oy(t,r.document),o=r.readTime?Qr(r.readTime):ce.min(),s=tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Mf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oy(t,r.document),o=r.removedTargetIds||[];n=new Mf([],o,i,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new D9(i,o),a=r.targetId;n=new e2(a,s)}}return n}function K9(t,e){let n;if(e instanceof Uc)n={update:bS(t,e.key,e.value)};else if(e instanceof I_)n={delete:t0(t,e.key)};else if(e instanceof Go)n={update:bS(t,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof O9))return le(16599,{Vt:e.type});n={verify:t0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:z9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(t,e.precondition)),n}function q9(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Qr(i.updateTime):Qr(o);return s.isEqual(ce.min())&&(s=Qr(o)),new I9(s,i.transformResults||[])}(n,e))):[]}function G9(t,e){return{documents:[i2(t,e.path)]}}function Y9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i2(t,i);const o=function(u){if(u.length!==0)return a2(Dr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:da(h.field),direction:J9(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Q9(t){let e=W9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=s2(f);return h instanceof Dr&&MN(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new hc(fa(y.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Fp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Eh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Eh(p,h)}(n.endAt)),m9(e,i,s,o,a,"F",l,u)}function X9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fa(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fa(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>s2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function J9(t){return $9[t]}function Z9(t){return U9[t]}function ez(t){return F9[t]}function da(t){return{fieldPath:t.canonicalString()}}function fa(t){return kt.fromServerFormat(t.fieldPath)}function a2(t){return t instanceof mt?function(n){if(n.op==="=="){if(lS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(aS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(aS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:Z9(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>a2(i));return r.length===1?r[0]:{compositeFilter:{op:ez(n.op),filters:r}}}(t):le(54877,{filter:t})}function tz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.yt=e}}function rz(t){const e=Q9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.Cn=new oz}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ro.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class oz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u2=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(u2,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="LruGarbageCollector",sz=1048576;function TS([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class az{constructor(e){this.Ir=e,this.buffer=new Et(TS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(ES,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?Z(ES,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)})}}class uz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Up.ce);const r=new az(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(xS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ua()<=ge.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function cz(t,e){return new uz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,Un.empty(),_e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=wu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ni();const s=Mu(),a=function(){return Mu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Go)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Lu(c.mutation,u,c.mutation.getFieldMask(),_e.now())):s.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new fz(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Mu();let i=new Je((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Un.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=HN();c.forEach(h=>{if(!o.has(h)){const p=XN(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(fs());let a=cc,l=o;return s.next(u=>z.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ve())).next(c=>({batchId:a,changes:WN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=wu();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const u=function(f,h){return new El(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,tn.newInvalidDocument(c)))});let a=wu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Lu(c.mutation,u,Un.empty(),_e.now()),Wp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:rz(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new Je(oe.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),o=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=fs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=fs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new R9(n,r));let o=this.qr.get(n);o===void 0&&(o=ve(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Qr=new Et(Pt.$r),this.Ur=new Et(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new oe(new Ve([])),r=new Pt(n,e),i=new Pt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new Ve([])),r=new Pt(n,e),i=new Pt(n,e+1);let o=ve();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Pt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new N9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?b_:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(ye);return n.forEach(i=>{const o=new Pt(i,0),s=new Pt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const s=new Pt(new oe(o),0);let a=new Et(ye);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const o=new Pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.ri=e,this.docs=function(){return new Je(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ni();const s=n.path,a=new oe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||G5(q5(c),r)<=0||(i.has(c.key)||Wp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wz(this)}getSize(e){return z.resolve(this.size)}}class wz extends dz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.persistence=e,this.si=new Gs(n=>T_(n),S_),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new N_,this.targetCount=0,this.ai=Za.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Up(0),this.li=!1,this.li=!0,this.hi=new gz,this.referenceDelegate=e(this),this.Pi=new _z(this),this.indexManager=new iz,this.remoteDocumentCache=function(i){return new vz(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new nz(n),this.Ii=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new bz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bz extends Q5{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Ri=new N_,this.Vi=null}static mi(e){return new R_(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=oe.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new Gs(r=>Z5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cz(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new D_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r6()?8:X5(an())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xz;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ua()<=ge.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ua()<=ge.DEBUG&&Z("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ua()<=ge.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):z.resolve())}ys(e,n){if(fS(n))return z.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jv(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ve(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,Jv(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return fS(n)||i.isEqual(ce.min())?z.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?z.resolve(null):(ua()<=ge.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(n)),this.vs(e,s,n,K5(i,cc)).next(a=>a))})}Ds(e,n){let r=new Et(BN(e));return n.forEach((i,o)=>{Wp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ua()<=ge.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ca(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LocalStore",Tz=3e8;class Sz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Je(ye),this.xs=new Gs(o=>T_(o),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Az(t,e,n,r){return new Sz(t,e,n,r)}async function d2(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function Pz(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let p=z.resolve();return h.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(w=>{const g=u.docVersions.get(y);Ie(g!==null,48541),w.version.compareTo(g)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f2(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Iz(t,e){const n=de(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Rt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(w,g,v){return w.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Tz?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=Ni(),u=ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Cz(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(ce.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Cz(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ni();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Z(j_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function kz(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=b_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ho(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function r0(t,e,n){const r=de(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xl(s))throw s;Z(j_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function SS(t,e,n){const r=de(t);let i=ce.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=de(l),h=f.xs.get(c);return h!==void 0?z.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,s,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ve())).next(a=>(Nz(r,y9(e),a),{documents:a,Qs:o})))}function Nz(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class AS{constructor(){this.activeTargetIds=E9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rz{constructor(){this.Mo=new AS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="ConnectivityMonitor";class IS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(PS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(PS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function i0(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="RestConnection",jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=i0(),a=this.zo(e,n.toUriEncodedString());Z(sy,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Ho(u);return this.Jo(e,a,l,r,c).then(f=>(Z(sy,`Received RPC '${e}' ${s}: `,f),f),f=>{throw js(sy,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=jz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Vz extends Mz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=i0();return new Promise((a,l)=>{const u=new fN;u.setWithCredentials(!0),u.listenOnce(hN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nf.NO_ERROR:const f=u.getResponseJson();Z(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Nf.TIMEOUT:Z(Xt,`RPC '${e}' ${s} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const h=u.getStatus();if(Z(Xt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(y.status);l(new J(w,y.message))}else l(new J(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(Xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=i0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gN(),a=mN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Z(Xt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const y=new Lz({Yo:g=>{p?Z(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(Z(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Z(Xt,`RPC '${e}' stream ${i} sending:`,g),f.send(g))},Zo:()=>f.close()}),w=(g,v,b)=>{g.listen(v,E=>{try{b(E)}catch(C){setTimeout(()=>{throw C},0)}})};return w(f,vu.EventType.OPEN,()=>{p||(Z(Xt,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),w(f,vu.EventType.CLOSE,()=>{p||(p=!0,Z(Xt,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),w(f,vu.EventType.ERROR,g=>{p||(p=!0,js(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),y.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),w(f,vu.EventType.MESSAGE,g=>{var v;if(!p){const b=g.data[0];Ie(!!b,16349);const E=b,C=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(C){Z(Xt,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let I=function(P){const R=ht[P];if(R!==void 0)return ZN(R)}(k),S=C.message;I===void 0&&(I=B.INTERNAL,S="Unknown error status: "+k+" with message "+C.message),p=!0,y.a_(new J(I,S)),f.close()}else Z(Xt,`RPC '${e}' stream ${i} received:`,b),y.u_(b)}}),w(a,pN.STAT_EVENT,g=>{g.stat===Hv.PROXY?Z(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Hv.NOPROXY&&Z(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){return new B9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="PersistentStream";class p2{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(CS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $z extends p2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H9(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Qr(s.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=n0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Qv(l)?{documents:G9(o,l)}:{query:Y9(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=n2(o,s.resumeToken);const u=Zv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Ah(o,s.snapshotVersion.toTimestamp());const u=Zv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=X9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=n0(this.serializer),n.removeTarget=e,this.q_(n)}}class Uz extends p2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q9(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=n0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{}class Bz extends Fz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,e0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,e0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(B.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class Wz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ys(this)&&(Z(Ms,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await Bc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Yp(u)}(this))})}),this.Ra=new zz(r,i)}}async function Yp(t){if(Ys(t))for(const e of t.da)await e(!0)}async function Bc(t){for(const e of t.da)await e(!1)}function m2(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$_(n)?V_(n):Tl(n).O_()&&L_(n,e))}function M_(t,e){const n=de(t),r=Tl(n);n.Ia.delete(e),r.O_()&&g2(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ys(n)&&n.Ra.set("Unknown"))}function L_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).Y_(e)}function g2(t,e){t.Va.Ue(e),Tl(t).Z_(e)}function V_(t){t.Va=new V9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.Ra.ua()}function $_(t){return Ys(t)&&!Tl(t).x_()&&t.Ia.size>0}function Ys(t){return de(t).Ea.size===0}function y2(t){t.Va=void 0}async function Hz(t){t.Ra.set("Online")}async function Kz(t){t.Ia.forEach((e,n)=>{L_(t,e)})}async function qz(t,e){y2(t),$_(t)?(t.Ra.ha(e),V_(t)):t.Ra.set("Unknown")}async function Gz(t,e,n){if(t.Ra.set("Online"),e instanceof t2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Z(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(t,r)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof e2?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await f2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Rt.EMPTY_BYTE_STRING,c.snapshotVersion)),g2(o,l);const f=new ho(c.target,l,u,c.sequenceNumber);L_(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Ms,"Failed to raise snapshot:",r),await Ih(t,r)}}async function Ih(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Bc(t),t.Ra.set("Offline"),n||(n=()=>f2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Ms,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yp(t)})}function v2(t,e){return e().catch(n=>Ih(t,n,e))}async function Qp(t){const e=de(t),n=Lo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:b_;for(;Yz(e);)try{const i=await kz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Qz(e,i)}catch(i){await Ih(e,i)}w2(e)&&_2(e)}function Yz(t){return Ys(t)&&t.Ta.length<10}function Qz(t,e){t.Ta.push(e);const n=Lo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w2(t){return Ys(t)&&!Lo(t).x_()&&t.Ta.length>0}function _2(t){Lo(t).start()}async function Xz(t){Lo(t).ra()}async function Jz(t){const e=Lo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Zz(t,e,n){const r=t.Ta.shift(),i=C_.from(r,e,n);await v2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qp(t)}async function e8(t,e){e&&Lo(t).X_&&await async function(r,i){if(function(s){return j9(s)&&s!==B.ABORTED}(i.code)){const o=r.Ta.shift();Lo(r).B_(),await v2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qp(r)}}(t,e),w2(t)&&_2(t)}async function kS(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z(Ms,"RemoteStore received new credentials");const r=Ys(n);n.Ea.add(3),await Bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yp(n)}async function t8(t,e){const n=de(t);e?(n.Ea.delete(2),await Yp(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}function Tl(t){return t.ma||(t.ma=function(n,r,i){const o=de(n);return o.sa(),new $z(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Hz.bind(null,t),t_:Kz.bind(null,t),r_:qz.bind(null,t),H_:Gz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$_(t)?V_(t):t.Ra.set("Unknown")):(await t.ma.stop(),y2(t))})),t.ma}function Lo(t){return t.fa||(t.fa=function(n,r,i){const o=de(n);return o.sa(),new Uz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xz.bind(null,t),r_:e8.bind(null,t),ta:Jz.bind(null,t),na:Zz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qp(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Ms,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new U_(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),xl(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=wu(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.ga=new Je(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class el{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new el(e,n,Va.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class r8{constructor(){this.queries=NS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=de(n),o=i.queries;i.queries=NS(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function NS(){return new Gs(t=>FN(t),zp)}async function b2(t,e){const n=de(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new n8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=F_(s,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&B_(n)}async function x2(t,e){const n=de(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i8(t,e){const n=de(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&B_(n)}function o8(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function B_(t){t.Ca.forEach(e=>{e.next()})}var o0,RS;(RS=o0||(o0={})).Ma="default",RS.Cache="cache";class E2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.key=e}}class S2{constructor(e){this.key=e}}class s8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=BN(e),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Wp(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),g=!0):this.su(h,p)||(r.track({type:2,doc:p}),g=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(l||u)&&(a=!0)),g&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,y){const w=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:g})}};return w(p)-w(y)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new el(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new S2(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new T2(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const z_="SyncEngine";class a8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l8{constructor(e){this.key=e,this.hu=!1}}class u8{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gs(a=>FN(a),zp),this.Iu=new Map,this.Eu=new Set,this.du=new Je(oe.comparator),this.Au=new Map,this.Ru=new N_,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c8(t,e,n=!0){const r=O2(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await A2(r,e,n,!0),i}async function d8(t,e){const n=O2(t);await A2(n,e,!0,!1)}async function A2(t,e,n,r){const i=await Oz(t.localStore,Yr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await f8(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&m2(t.remoteStore,i),a}async function f8(t,e,n,r,i){t.pu=(f,h,p)=>async function(w,g,v,b){let E=g.view.ru(v);E.Cs&&(E=await SS(w.localStore,g.query,!1).then(({documents:S})=>g.view.ru(S,E)));const C=b&&b.targetChanges.get(g.targetId),k=b&&b.targetMismatches.get(g.targetId)!=null,I=g.view.applyChanges(E,w.isPrimaryClient,C,k);return jS(w,g.targetId,I.au),I.snapshot}(t,f,h,p);const o=await SS(t.localStore,e,!0),s=new s8(e,o.Qs),a=s.ru(o.documents),l=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);jS(t,n,u.au);const c=new a8(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function h8(t,e,n){const r=de(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!zp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await r0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M_(r.remoteStore,i.targetId),s0(r,i.targetId)}).catch(bl)):(s0(r,i.targetId),await r0(r.localStore,i.targetId,!0))}async function p8(t,e){const n=de(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function m8(t,e,n){const r=x8(t);try{const i=await function(s,a){const l=de(s),u=_e.now(),c=a.reduce((p,y)=>p.add(y.key),ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ni(),w=ve();return l.Ns.getEntries(p,c).next(g=>{y=g,y.forEach((v,b)=>{b.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(g=>{f=g;const v=[];for(const b of a){const E=k9(b,f.get(b.key).overlayedDocument);E!=null&&v.push(new Go(b.key,E,RN(E.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(p,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:WN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new Je(ye)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await zc(r,i.changes),await Qp(r.remoteStore)}catch(i){const o=F_(i,"Failed to persist write");n.reject(o)}}async function P2(t,e){const n=de(t);try{const r=await Iz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ie(s.hu,14607):i.removedDocuments.size>0&&(Ie(s.hu,42227),s.hu=!1))}),await zc(n,r,e)}catch(r){await bl(r)}}function DS(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=de(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&B_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g8(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Je(oe.comparator);s=s.insert(o,tn.newNoDocument(o,ce.min()));const a=ve().add(o),l=new qp(ce.min(),new Map,new Je(ye),s,a);await P2(r,l),r.du=r.du.remove(o),r.Au.delete(e),W_(r)}else await r0(r.localStore,e,!1).then(()=>s0(r,e,n)).catch(bl)}async function y8(t,e){const n=de(t),r=e.batch.batchId;try{const i=await Pz(n.localStore,e);C2(n,r,null),I2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,i)}catch(i){await bl(i)}}async function v8(t,e,n){const r=de(t);try{const i=await function(s,a){const l=de(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ie(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);C2(r,e,n),I2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,i)}catch(i){await bl(i)}}function I2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function C2(t,e,n){const r=de(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function s0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||k2(t,r)})}function k2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(M_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W_(t))}function jS(t,e,n){for(const r of n)r instanceof T2?(t.Ru.addReference(r.key,e),w8(t,r)):r instanceof S2?(Z(z_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||k2(t,r.key)):le(19791,{wu:r})}function w8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(z_,"New document in limbo: "+n),t.Eu.add(r),W_(t))}function W_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new l8(n)),t.du=t.du.insert(n,r),m2(t.remoteStore,new ho(Yr(A_(n.path)),r,"TargetPurposeLimboResolution",Up.ce))}}async function zc(t,e,n){const r=de(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=D_.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,h=>z.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>z.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!xl(f))throw f;Z(j_,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.Ms.get(h),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);c.Ms=c.Ms.insert(h,w)}}}(r.localStore,o))}async function _8(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z(z_,"User change. New user:",e.toKey());const r=await d2(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Ls)}}function b8(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function O2(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g8.bind(null,e),e.Pu.H_=i8.bind(null,e.eventManager),e.Pu.yu=o8.bind(null,e.eventManager),e}function x8(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v8.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Az(this.persistence,new Ez,e.initialUser,this.serializer)}Cu(e){return new c2(R_.mi,this.serializer)}Du(e){return new Rz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class E8 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new c2(r=>Ph.mi(r,n),this.serializer)}}class a0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_8.bind(null,this.syncEngine),await t8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r8}()}createDatastore(e){const n=Gp(e.databaseInfo.databaseId),r=function(o){return new Vz(o)}(e.databaseInfo);return function(o,s,a,l){return new Bz(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Wz(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DS(this.syncEngine,n,0),function(){return IS.v()?new IS:new Dz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new u8(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=de(i);Z(Ms,"RemoteStore shutting down."),o.Ea.add(5),await Bc(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}a0.provider={build:()=>new a0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class T8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Z(Vo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z(Vo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Vo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await d2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S8(t);Z(Vo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kS(e.remoteStore,i)),t._onlineComponents=e}async function S8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Vo,"Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new Ch)}}else Z(Vo,"Using default OfflineComponentProvider"),await ly(t,new E8(void 0));return t._offlineComponents}async function R2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Vo,"Using user provided OnlineComponentProvider"),await MS(t,t._uninitializedComponentsProvider._online)):(Z(Vo,"Using default OnlineComponentProvider"),await MS(t,new a0))),t._onlineComponents}function A8(t){return R2(t).then(e=>e.syncEngine)}async function l0(t){const e=await R2(t),n=e.eventManager;return n.onListen=c8.bind(null,e.syncEngine),n.onUnlisten=h8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p8.bind(null,e.syncEngine),n}function P8(t,e,n={}){const r=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new N2({next:h=>{c.Nu(),s.enqueueAndForget(()=>x2(o,f)),h.fromCache&&l.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new E2(a,c,{includeMetadataChanges:!0,qa:!0});return b2(o,f)}(await l0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firestore.googleapis.com",VS=!0;class $S{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j2,this.ssl=VS}else this.host=e.host,this.ssl=e.ssl??VS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sz)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D2(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wN;switch(r.type){case"firstParty":return new U5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LS.get(n);r&&(Z("ComponentProvider","Removing Datastore"),LS.delete(n),r.terminate())}(this),Promise.resolve()}}function M2(t,e,n,r={}){var u;t=zn(t,Xp);const i=Ho(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(a_(`https://${a}`),l_("Firestore",!0)),o.host!==j2&&o.host!==a&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Os(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Zt.MOCK_USER;else{c=AO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(h)}t._authCredentials=new L5(new vN(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}toJSON(){return{type:it._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($c(n,it._jsonSchema))return new it(e,r||null,new oe(Ve.fromString(n.referencePath)))}}it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:gt("string",it._jsonSchemaVersion),referencePath:gt("string")};class _i extends $i{constructor(e,n,r){super(e,n,A_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new oe(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Te(t,e,...n){if(t=Ge(t),_N("collection","path",e),t instanceof Xp){const r=Ve.fromString(e,...n);return JT(r),new _i(t,null,r)}{if(!(t instanceof it||t instanceof _i))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return JT(r),new _i(t.firestore,null,r)}}function on(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Vp.newId()),_N("doc","path",e),t instanceof Xp){const r=Ve.fromString(e,...n);return XT(r),new it(t,null,new oe(r))}{if(!(t instanceof it||t instanceof _i))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return XT(r),new it(t.firestore,t instanceof _i?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="AsyncQueue";class FS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h2(this,"async_queue_retry"),this._c=()=>{const r=ay();r&&Z(US,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ao;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;Z(US,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",BS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=U_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&le(47125,{Pc:BS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ri extends Xp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FS(e),this._firestoreClient=void 0,await e}}}function L2(t,e){const n=typeof t=="object"?t:d_(),r=typeof t=="string"?t:bh,i=Rp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=EO("firestore");o&&M2(i,...o)}return i}function Jp(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I8(t),t._firestoreClient}function I8(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new n9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,D2(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new T8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Rt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($c(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:gt("string",Mn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if($c(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:gt("string",Cr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($c(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:gt("string",kr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=/^__.*__$/;class k8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class V2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class H_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new H_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($2(this.Ac)&&C8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gp(e)}Cc(e,n,r,i=!1){return new H_({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=Gp(t._databaseId);return new O8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U2(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);K_("Data must be an object, but it was:",s,r);const a=F2(r,s);let l,u;if(o.merge)l=new Un(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=u0(e,f,n);if(!s.contains(h))throw new J(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);z2(c,h)||c.push(h)}l=new Un(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new k8(new xn(a),l,u)}class tm extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function N8(t,e,n,r){const i=t.Cc(1,e,n);K_("Data must be an object, but it was:",i,r);const o=[],s=xn.empty();qo(r,(l,u)=>{const c=q_(e,l,n);u=Ge(u);const f=i.yc(c);if(u instanceof tm)o.push(c);else{const h=Hc(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Un(o);return new V2(s,a,i.fieldTransforms)}function R8(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[u0(e,r,n)],l=[i];if(o.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(u0(e,o[h])),l.push(o[h+1]);const u=[],c=xn.empty();for(let h=a.length-1;h>=0;--h)if(!z2(u,a[h])){const p=a[h];let y=l[h];y=Ge(y);const w=s.yc(p);if(y instanceof tm)u.push(p);else{const g=Hc(y,w);g!=null&&(u.push(p),c.set(p,g))}}const f=new Un(u);return new V2(c,f,s.fieldTransforms)}function D8(t,e,n,r=!1){return Hc(n,t.Cc(r?4:3,e))}function Hc(t,e){if(B2(t=Ge(t)))return K_("Unsupported field value:",e,t),F2(t,e);if(t instanceof Zp)return function(r,i){if(!$2(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Hc(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_e.fromDate(r);return{timestampValue:Ah(i.serializer,o)}}if(r instanceof _e){const o=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,o)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:n2(i.serializer,r._byteString)};if(r instanceof it){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(s,a){return{mapValue:{fields:{[kN]:{stringValue:NN},[xh]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return P_(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${$p(r)}`)}(t,e)}function F2(t,e){const n={};return TN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const o=Hc(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function B2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof Cr||t instanceof Mn||t instanceof it||t instanceof Zp||t instanceof kr)}function K_(t,e,n){if(!B2(n)||!xN(n)){const r=$p(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function u0(t,e,n){if((e=Ge(e))instanceof Wc)return e._internalPath;if(typeof e=="string")return q_(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const j8=new RegExp("[~\\*/\\[\\]]");function q_(t,e,n){if(e.search(j8)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wc(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function z2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M8 extends W2{data(){return super.data()}}function nm(t,e){return typeof e=="string"?q_(t,e):e instanceof Wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G_{}class Y_ extends G_{}function We(t,e,...n){let r=[];e instanceof G_&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof rm).length,a=o.filter(l=>l instanceof Kc).length;if(s>1||s>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kc extends Y_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kc(e,n,r)}_apply(e){const n=this._parse(e);return K2(e._query,n),new $i(e.firestore,e.converter,Xv(e._query,n))}_parse(e){const n=em(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HS(f,c);const y=[];for(const w of f)y.push(WS(l,o,w));h={arrayValue:{values:y}}}else h=WS(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HS(f,c),h=D8(a,s,f,c==="in"||c==="not-in");return mt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function be(t,e,n){const r=e,i=nm("where",t);return Kc._create(i,r,n)}class rm extends G_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)K2(s,l),s=Xv(s,l)}(e._query,n),new $i(e.firestore,e.converter,Xv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class im extends Y_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new im(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(o,s)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new El(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function mi(t,e="asc"){const n=e,r=nm("orderBy",t);return im._create(r,n)}function WS(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UN(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!oe.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sS(t,new oe(r))}if(n instanceof it)return sS(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function HS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K2(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q2{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[xh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>lt(s.doubleValue));return new kr(n)}convertGeoPoint(e){return new Cr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ie(l2(r),9688,{name:e});const i=new Qa(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends W2{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:gt("string",Po._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Vu extends Po{data(e={}){return super.data(e)}}class Io{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vu(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:L8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:gt("string",Io._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class Q_ extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function tr(t){t=zn(t,$i);const e=zn(t.firestore,Ri),n=Jp(e),r=new Q_(e);return H2(t._query),P8(n,t._query).then(i=>new Io(e,r,t,i))}function Y2(t,e,n){t=zn(t,it);const r=zn(t.firestore,Ri),i=G2(t.converter,e);return qc(r,[U2(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function tl(t,e,n,...r){t=zn(t,it);const i=zn(t.firestore,Ri),o=em(i);let s;return s=typeof(e=Ge(e))=="string"||e instanceof Wc?R8(o,"updateDoc",t._key,e,n,r):N8(o,"updateDoc",t._key,e),qc(i,[s.toMutation(t._key,ur.exists(!0))])}function Rn(t){return qc(zn(t.firestore,Ri),[new I_(t._key,ur.none())])}function bi(t,e){const n=zn(t.firestore,Ri),r=on(t),i=G2(t.converter,e);return qc(n,[U2(em(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Ln(t,...e){var l,u,c;t=Ge(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zS(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let o,s,a;if(t instanceof it)s=zn(t.firestore,Ri),a=A_(t._key.path),o={next:f=>{e[r]&&e[r](V8(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=zn(t,$i);s=zn(f.firestore,Ri),a=f._query;const h=new Q_(s);o={next:p=>{e[r]&&e[r](new Io(s,h,f,p))},error:e[r+1],complete:e[r+2]},H2(t._query)}return function(h,p,y,w){const g=new N2(w),v=new E2(p,g,y);return h.asyncQueue.enqueueAndForget(async()=>b2(await l0(h),v)),()=>{g.Nu(),h.asyncQueue.enqueueAndForget(async()=>x2(await l0(h),v))}}(Jp(s),a,i,o)}function qc(t,e){return function(r,i){const o=new Ao;return r.asyncQueue.enqueueAndForget(async()=>m8(await A8(r),i,o)),o.promise}(Jp(t),e)}function V8(t,e,n){const r=n.docs.get(e._key),i=new Q_(t);return new Po(t,i,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_l=i})(Ks),Ns(new No("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ri(new V5(r.getProvider("auth-internal")),new F5(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kr(qT,GT,e),Kr(qT,GT,"esm2020")})();const $8=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:q2,Bytes:Mn,CollectionReference:_i,DocumentReference:it,DocumentSnapshot:Po,FieldPath:Wc,FieldValue:Zp,Firestore:Ri,FirestoreError:J,GeoPoint:Cr,Query:$i,QueryCompositeFilterConstraint:rm,QueryConstraint:Y_,QueryDocumentSnapshot:Vu,QueryFieldFilterConstraint:Kc,QueryOrderByConstraint:im,QuerySnapshot:Io,SnapshotMetadata:Aa,Timestamp:_e,VectorValue:kr,_AutoId:Vp,_ByteString:Rt,_DatabaseId:Qa,_DocumentKey:oe,_EmptyAuthCredentialsProvider:wN,_FieldPath:kt,_cast:zn,_logWarn:js,_validateIsNotUsedTogether:bN,addDoc:bi,collection:Te,connectFirestoreEmulator:M2,deleteDoc:Rn,doc:on,ensureFirestoreConfigured:Jp,executeWrite:qc,getDocs:tr,getFirestore:L2,onSnapshot:Ln,orderBy:mi,query:We,setDoc:Y2,updateDoc:tl,where:be},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebasestorage.googleapis.com",X2="storageBucket",U8=2*60*1e3,F8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends ri{constructor(e,n,r=0){super(uy(e),`Firebase Storage: ${n} (${uy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ot;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ot||(ot={}));function uy(t){return"storage/"+t}function X_(){const t="An unknown error occurred, please check the error payload for server response.";return new st(ot.UNKNOWN,t)}function B8(t){return new st(ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function z8(t){return new st(ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(ot.UNAUTHENTICATED,t)}function H8(){return new st(ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K8(t){return new st(ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function q8(){return new st(ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G8(){return new st(ot.CANCELED,"User canceled the upload/download.")}function Y8(t){return new st(ot.INVALID_URL,"Invalid URL '"+t+"'.")}function Q8(t){return new st(ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X8(){return new st(ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X2+"' property when initializing the app?")}function J8(){return new st(ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z8(){return new st(ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e7(t){return new st(ot.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function c0(t){return new st(ot.INVALID_ARGUMENT,t)}function J2(){return new st(ot.APP_DELETED,"The Firebase app was deleted.")}function t7(t){return new st(ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $u(t,e){return new st(ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ru(t){throw new st(ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw Q8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},w=n===Q2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${w}/${i}/${g}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:p,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<E.length;C++){const k=E[C],I=k.regex.exec(e);if(I){const S=I[k.indices.bucket];let A=I[k.indices.path];A||(A=""),r=new Fn(S,A),k.postModify(r);break}}if(r==null)throw Y8(e);return r}}class n7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,t(p,l())},g)}function h(){o&&clearTimeout(o)}function p(g,...v){if(u){h();return}if(g){h(),c.call(null,g,...v);return}if(l()||s){h(),c.call(null,g,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let y=!1;function w(g){y||(y=!0,h(),!u&&(i!==null?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function i7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){return t!==void 0}function s7(t){return typeof t=="object"&&!Array.isArray(t)}function J_(t){return typeof t=="string"||t instanceof String}function KS(t){return Z_()&&t instanceof Blob}function Z_(){return typeof Blob<"u"}function qS(t,e,n,r){if(r<e)throw c0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw c0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Z2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _s;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n,r,i,o,s,a,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===_s.NO_ERROR,l=o.getStatus();if(!a||a7(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===_s.ABORT;r(!1,new Qd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qd(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());o7(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=X_();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?J2():G8();s(l)}else{const l=q8();s(l)}};this.canceled_?n(!1,new Qd(!1,null,!0)):this.backoffId_=r7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function u7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function f7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h7(t,e,n,r,i,o,s=!0,a=!1){const l=Z2(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return d7(c,e),u7(c,n),c7(c,o),f7(c,r),new l7(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m7(...t){const e=p7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Z_())return new Blob(t);throw new st(ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){if(typeof atob>"u")throw e7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cy{constructor(e,n){this.data=e,this.contentType=n||null}}function v7(t,e){switch(t){case Br.RAW:return new cy(eR(e));case Br.BASE64:case Br.BASE64URL:return new cy(tR(t,e));case Br.DATA_URL:return new cy(_7(e),b7(e))}throw X_()}function eR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function w7(t){let e;try{e=decodeURIComponent(t)}catch{throw $u(Br.DATA_URL,"Malformed data URL.")}return eR(e)}function tR(t,e){switch(t){case Br.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw $u(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw $u(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=y7(e)}catch(i){throw i.message.includes("polyfill")?i:$u(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $u(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=x7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _7(t){const e=new nR(t);return e.base64?tR(Br.BASE64,e.rest):w7(e.rest)}function b7(t){return new nR(t).contentType}function x7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){let r=0,i="";KS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(KS(this.data_)){const r=this.data_,i=g7(r,e,n);return i===null?null:new lo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new lo(r,!0)}}static getBlob(...e){if(Z_()){const n=e.map(r=>r instanceof lo?r.data_:r);return new lo(m7.apply(null,n))}else{const n=e.map(s=>J_(s)?v7(Br.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new lo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){let e;try{e=JSON.parse(t)}catch{return null}return s7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e){return e}class dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||S7}}let Xd=null;function A7(t){return!J_(t)||t.length<2?t:iR(t)}function oR(){if(Xd)return Xd;const t=[];t.push(new dn("bucket")),t.push(new dn("generation")),t.push(new dn("metageneration")),t.push(new dn("name","fullPath",!0));function e(o,s){return A7(s)}const n=new dn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new dn("size");return i.xform=r,t.push(i),t.push(new dn("timeCreated")),t.push(new dn("updated")),t.push(new dn("md5Hash",null,!0)),t.push(new dn("cacheControl",null,!0)),t.push(new dn("contentDisposition",null,!0)),t.push(new dn("contentEncoding",null,!0)),t.push(new dn("contentLanguage",null,!0)),t.push(new dn("contentType",null,!0)),t.push(new dn("metadata","customMetadata",!0)),Xd=t,Xd}function P7(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Fn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function I7(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return P7(r,t),r}function sR(t,e,n){const r=rR(e);return r===null?null:I7(t,r,n)}function C7(t,e,n,r){const i=rR(e);if(i===null||!J_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=om(h,n,r),y=Z2({alt:"media",token:u});return p+y})[0]}function k7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class eb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){if(!t)throw X_()}function O7(t,e){function n(r,i){const o=sR(t,i,e);return aR(o!==null),o}return n}function N7(t,e){function n(r,i){const o=sR(t,i,e);return aR(o!==null),C7(o,i,t.host,t._protocol)}return n}function lR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=H8():i=W8():n.getStatus()===402?i=z8(t.bucket):n.getStatus()===403?i=K8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uR(t){const e=lR(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=B8(t.path)),o.serverResponse=i.serverResponse,o}return n}function R7(t,e,n){const r=e.fullServerUrl(),i=om(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new eb(i,o,N7(t,n),s);return a.errorHandler=uR(e),a}function D7(t,e){const n=e.fullServerUrl(),r=om(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new eb(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=uR(e),a}function j7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function M7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=j7(null,e)),r}function L7(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let C=0;C<2;C++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=M7(e,r,i),c=k7(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=lo.getBlob(f,r,h);if(p===null)throw J8();const y={name:u.fullPath},w=om(o,t.host,t._protocol),g="POST",v=t.maxUploadRetryTime,b=new eb(w,g,O7(t,n),v);return b.urlParams=y,b.headers=s,b.body=p.uploadData(),b.errorHandler=lR(e),b}class V7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ru("cannot .send() more than once");if(Ho(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $7 extends V7{initXhr(){this.xhr_.responseType="text"}}function tb(){return new $7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ls(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iR(this._location.path)}get storage(){return this._service}get parent(){const e=E7(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new Ls(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t7(e)}}function U7(t,e,n){t._throwIfRoot("uploadBytes");const r=L7(t.storage,t._location,oR(),new lo(e,!0),n);return t.storage.makeRequestWithTokens(r,tb).then(i=>({metadata:i,ref:t}))}function F7(t){t._throwIfRoot("getDownloadURL");const e=R7(t.storage,t._location,oR());return t.storage.makeRequestWithTokens(e,tb).then(n=>{if(n===null)throw Z8();return n})}function B7(t){t._throwIfRoot("deleteObject");const e=D7(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tb)}function z7(t,e){const n=T7(t._location.path,e),r=new Fn(t._location.bucket,n);return new Ls(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t){return/^[A-Za-z]+:\/\//.test(t)}function H7(t,e){return new Ls(t,e)}function cR(t,e){if(t instanceof nb){const n=t;if(n._bucket==null)throw X8();const r=new Ls(n,n._bucket);return e!=null?cR(r,e):r}else return e!==void 0?z7(t,e):t}function K7(t,e){if(e&&W7(e)){if(t instanceof nb)return H7(t,e);throw c0("To use ref(service, url), the first argument must be a Storage instance.")}else return cR(t,e)}function GS(t,e){const n=e==null?void 0:e[X2];return n==null?null:Fn.makeFromBucketSpec(n,t)}function q7(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ho(e);i&&(a_(`https://${t.host}/b`),l_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:AO(o,t.app.options.projectId))}class nb{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U8,this._maxUploadRetryTime=F8,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=GS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=GS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ls(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new n7(J2());{const s=h7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const YS="@firebase/storage",QS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="storage";function dy(t,e,n){return t=Ge(t),U7(t,e,n)}function fy(t){return t=Ge(t),F7(t)}function G7(t){return t=Ge(t),B7(t)}function Lf(t,e){return t=Ge(t),K7(t,e)}function Y7(t=d_(),e){t=Ge(t);const r=Rp(t,dR).getImmediate({identifier:e}),i=EO("storage");return i&&Q7(r,...i),r}function Q7(t,e,n,r={}){q7(t,e,n,r)}function X7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nb(n,r,i,e,Ks)}function J7(){Ns(new No(dR,X7,"PUBLIC").setMultipleInstances(!0)),Kr(YS,QS,""),Kr(YS,QS,"esm2020")}J7();const Z7={apiKey:"AIzaSyBbpNAWs4ZdTkCYUDxs5-0H1ekLQ8jk4fc",authDomain:"teste-5e945.firebaseapp.com",projectId:"teste-5e945",storageBucket:"teste-5e945.appspot.com",messagingSenderId:"206244410562",appId:"1:206244410562:web:8a2dac7a67615f9764b75b"},rb=CO(Z7),Vf=R5(rb),ue=L2(rb),Uu=Y7(rb),eW=Object.freeze(Object.defineProperty({__proto__:null,auth:Vf,db:ue,storage:Uu},Symbol.toStringTag,{value:"Module"})),ib=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0);return x.useEffect(()=>bB(Vf,a=>{e(a),r(!1)}),[]),{user:t,loading:n,login:async(s,a)=>{try{return await vB(Vf,s,a),{success:!0}}catch(l){return{success:!1,error:l.message}}},logout:async()=>{try{return await xB(Vf),{success:!0}}catch(s){return{success:!1,error:s.message}}}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>x.createElement("svg",{ref:c,...tW,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${nW(t)}`,a].join(" "),...u},[...e.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Ae("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Ae("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bW=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,o]=x.useState(!1),[s,a]=x.useState(""),[l,u]=x.useState(!1),{login:c}=ib(),f=async h=>{h.preventDefault(),a(""),u(!0),(await c(t,n)).success||a("Credenciais invlidas. Tente novamente."),u(!1)};return m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:m.jsxs("div",{className:"p-8 rounded-xl shadow-2xl w-full max-w-md border border-gray-800",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(eA,{className:"mx-auto h-12 w-12 text-[#00DBD9] mb-4"}),m.jsx("h2",{className:"text-3xl font-bold text-white",children:"Admin Login"}),m.jsx("p",{className:"text-gray-400 mt-2",children:"Entre com suas credenciais"})]}),m.jsxs("form",{onSubmit:f,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00DBD9] focus:border-transparent",placeholder:"admin@example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:i?"text":"password",id:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00DBD9] focus:border-transparent pr-12",placeholder:"",required:!0}),m.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:i?m.jsx(aW,{size:20}):m.jsx(fR,{size:20})})]})]}),s&&m.jsx("div",{className:"text-red-400 text-sm text-center",children:s}),m.jsx("button",{type:"submit",disabled:l,className:"w-full bg-[#00DBD9] hover:bg-[#9dfffd] disabled:bg-[#6afcfa] text-black font-medium py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center",children:l?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):m.jsxs(m.Fragment,{children:[m.jsx(eA,{className:"mr-2",size:20}),"Entrar"]})})]})]})})},xW="/assets/icon-Bj-NXFf8.svg",EW=({children:t})=>{const{logout:e}=ib(),n=async()=>{await e()};return m.jsxs("div",{className:"min-h-screen bg-black",children:[m.jsx("header",{className:"shadow-lg border-b border-gray-800",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center py-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("img",{src:xW,alt:"Logo",className:"h-8 max-w-32 object-contain"}),m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Video Manager"})]}),m.jsx("nav",{className:"flex items-center space-x-4",children:m.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition duration-200",children:[m.jsx(fW,{className:"mr-2",size:18}),"Sair"]})})]})})}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})},py=t=>t instanceof Date&&!isNaN(t.getTime()),TW=t=>{if(!t)return null;if(typeof(t==null?void 0:t.toDate)=="function"){const n=t.toDate();return py(n)?n:null}if(t instanceof Date)return py(t)?t:null;const e=new Date(t);return py(e)?e:null},SW=t=>{const e=a=>String(a).padStart(2,"0"),n=t.getFullYear(),r=e(t.getMonth()+1),i=e(t.getDate()),o=e(t.getHours()),s=e(t.getMinutes());return`${n}-${r}-${i}T${o}:${s}`},AW=t=>/^(https?:\/\/)?(www\.)?(youtube\.com\/(watch\?v=|shorts\/)|youtu\.be\/)([\w-]{6,})/i.test(t),PW=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"),IW=async t=>{if(t)try{const e=Lf(Uu,t);await G7(e)}catch(e){console.warn("No foi possvel deletar do storage a partir da URL:",e)}},CW=({video:t,onClose:e,allVideos:n})=>{const[r,i]=x.useState({title:"",displayTitle:"",youtubeUrl:"",slug:"",description:"",isActive:!0,redirectUrl:"",logoUrl:"",previousVideoId:"",nextVideoId:"",bannerDesktopUrl:"",bannerMobileUrl:"",bannerLink:"",bannerActive:!1,authorName:"",authorPhotoUrl:"",inactiveMode:"unavailable",premiereDate:"",premiereThumbnailUrl:""}),[o,s]=x.useState(!1),[a,l]=x.useState(!1);x.useState(!1),x.useState(!1);const[u,c]=x.useState(!1),[f,h]=x.useState(!1),[p,y]=x.useState("");x.useEffect(()=>{if(!t)return;const I=TW(t.premiereDate);i({title:t.title,displayTitle:t.displayTitle,youtubeUrl:t.youtubeUrl,slug:t.slug,description:t.description||"",isActive:!!t.isActive,redirectUrl:t.redirectUrl||"",logoUrl:t.logoUrl||"",previousVideoId:t.previousVideoId||"",nextVideoId:t.nextVideoId||"",bannerDesktopUrl:t.bannerDesktopUrl||"",bannerMobileUrl:t.bannerMobileUrl||"",bannerLink:t.bannerLink||"",bannerActive:!!t.bannerActive,authorName:t.authorName||"",authorPhotoUrl:t.authorPhotoUrl||"",inactiveMode:t.inactiveMode||"unavailable",premiereDate:I?SW(I):"",premiereThumbnailUrl:t.premiereThumbnailUrl||""})},[t]);const w=I=>n.some(S=>S.slug===I&&S.id!==(t==null?void 0:t.id)),g=async I=>{var A;const S=(A=I.target.files)==null?void 0:A[0];if(S){if(!S.type.startsWith("image/")){y("Por favor, selecione apenas arquivos de imagem.");return}if(S.size>2*1024*1024){y("A imagem deve ter no mximo 2MB.");return}l(!0),y("");try{const P=Lf(Uu,`video-logos/logo-${Date.now()}-${S.name}`),R=await dy(P,S),N=await fy(R.ref);i(j=>({...j,logoUrl:N}))}catch(P){console.error("Erro ao fazer upload:",P),y("Erro ao fazer upload da imagem. Tente novamente.")}finally{l(!1)}}},v=async()=>{if(!(!r.logoUrl||!confirm("Tem certeza que deseja remover a logo?")))try{await IW(r.logoUrl),i(I=>({...I,logoUrl:""}))}catch(I){console.error("Erro ao remover logo:",I),y("Erro ao remover a logo. Tente novamente.")}},b=async I=>{var A;const S=(A=I.target.files)==null?void 0:A[0];if(S){if(!S.type.startsWith("image/")){y("Por favor, selecione apenas arquivos de imagem.");return}c(!0),y("");try{const P=Lf(Uu,`author-photos/photo-${Date.now()}-${S.name}`),R=await dy(P,S),N=await fy(R.ref);i(j=>({...j,authorPhotoUrl:N}))}catch(P){console.error("Erro ao fazer upload da foto:",P),y("Erro ao fazer upload da foto. Tente novamente.")}finally{c(!1)}}},E=async I=>{var A;const S=(A=I.target.files)==null?void 0:A[0];if(S){if(!S.type.startsWith("image/")){y("Por favor, selecione apenas arquivos de imagem.");return}h(!0),y("");try{const P=Lf(Uu,`premiere-thumbnails/thumb-${Date.now()}-${S.name}`),R=await dy(P,S),N=await fy(R.ref);i(j=>({...j,premiereThumbnailUrl:N}))}catch(P){console.error("Erro ao fazer upload da thumbnail:",P),y("Erro ao fazer upload da thumbnail. Tente novamente.")}finally{h(!1)}}},C=async I=>{I.preventDefault(),y(""),s(!0);try{if(!AW(r.youtubeUrl))throw new Error("URL do YouTube invlida");if(!r.slug.trim())throw new Error("Defina um slug vlido");if(w(r.slug))throw new Error("Este slug j est em uso");const S=r.premiereDate?new Date(r.premiereDate):null,A={...r,logoUrl:r.logoUrl||null,previousVideoId:r.previousVideoId||null,nextVideoId:r.nextVideoId||null,premiereDate:S?new Date(S):null,updatedAt:new Date};t!=null&&t.id?await tl(on(ue,"videos",t.id),A):await bi(Te(ue,"videos"),{...A,createdAt:new Date}),e()}catch(S){console.error("Erro ao salvar vdeo:",S),y((S==null?void 0:S.message)||"Erro ao salvar vdeo. Tente novamente.")}finally{s(!1)}},k=I=>{i(S=>({...S,title:I,slug:S.slug||PW(I)}))};return n.filter(I=>I.id!==(t==null?void 0:t.id)),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:t?"Editar Vdeo":"Novo Vdeo"}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white p-2 rounded-lg hover:bg-gray-800 transition-colors",children:m.jsx(sb,{size:24})})]}),m.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo (Identificao) *"}),m.jsx("input",{type:"text",value:r.title,onChange:I=>k(I.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ttulo para identificao interna",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo de Exibio *"}),m.jsx("input",{type:"text",value:r.displayTitle,onChange:I=>i(S=>({...S,displayTitle:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ttulo que ser exibido na pgina do vdeo",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"URL do YouTube *"}),m.jsx("input",{type:"url",value:r.youtubeUrl,onChange:I=>i(S=>({...S,youtubeUrl:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug *"}),m.jsx("input",{type:"text",value:r.slug,onChange:I=>i(S=>({...S,slug:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 font-mono",required:!0}),m.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Acesso: /",r.slug]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"URL de Redirecionamento (quando inativo)"}),m.jsx("input",{type:"url",value:r.redirectUrl,onChange:I=>i(S=>({...S,redirectUrl:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://exemplo.com (opcional)"}),m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Se preenchido, usurios sero redirecionados para esta URL quando o vdeo estiver inativo"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Logo do Vdeo"}),m.jsx("div",{className:"mb-4",children:r.logoUrl?m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("img",{src:r.logoUrl,alt:"Logo do vdeo",className:"h-12 max-w-32 object-contain bg-gray-700 rounded-lg p-2"}),m.jsxs("button",{type:"button",onClick:v,className:"flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition duration-200 text-sm",children:[m.jsx(Sl,{className:"mr-1",size:14}),"Remover"]})]}):m.jsxs("div",{className:"flex items-center justify-center w-32 h-12 bg-gray-700 rounded-lg",children:[m.jsx(dW,{className:"h-6 w-6 text-gray-500"}),m.jsx("span",{className:"ml-2 text-gray-500 text-sm",children:"Sem logo"})]})}),m.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[a?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):m.jsx(hy,{className:"mr-2",size:16}),a?"Enviando...":"Escolher Logo",m.jsx("input",{type:"file",accept:"image/*",onChange:g,disabled:a,className:"hidden"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio do vdeo"}),m.jsx("textarea",{value:r.description,onChange:I=>i(S=>({...S,description:I.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Escreva uma breve descrio sobre o vdeo"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Vdeo Anterior"}),m.jsxs("select",{value:r.previousVideoId,onChange:I=>i(S=>({...S,previousVideoId:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[m.jsx("option",{value:"",children:"Nenhum"}),n.filter(I=>I.id!==(t==null?void 0:t.id)).map(I=>m.jsx("option",{value:I.id,children:I.title},I.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Prximo Vdeo"}),m.jsxs("select",{value:r.nextVideoId,onChange:I=>i(S=>({...S,nextVideoId:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[m.jsx("option",{value:"",children:"Nenhum"}),n.filter(I=>I.id!==(t==null?void 0:t.id)).map(I=>m.jsx("option",{value:I.id,children:I.title},I.id))]})]})]}),m.jsxs("div",{className:"border-t border-gray-700 pt-6 space-y-6",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Autor da Descrio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Nome do Autor"}),m.jsx("input",{type:"text",value:r.authorName,onChange:I=>i(S=>({...S,authorName:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ex: Rayanepinto"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Foto do Autor"}),r.authorPhotoUrl&&m.jsx("div",{className:"mb-2",children:m.jsx("img",{src:r.authorPhotoUrl,alt:"Foto do Autor",className:"w-12 h-12 rounded-full object-cover"})}),m.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[u?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):m.jsx(hy,{className:"mr-2",size:16}),u?"Enviando...":"Escolher Foto",m.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:u,className:"hidden"})]})]})]}),m.jsxs("div",{className:"border-t border-gray-700 pt-6 space-y-6",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Status do Vdeo"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:I=>i(S=>({...S,isActive:I.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-red-500"}),m.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Vdeo ativo (visvel para usurios)"})]}),!r.isActive&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Modo quando inativo"}),m.jsxs("select",{value:r.inactiveMode,onChange:I=>i(S=>({...S,inactiveMode:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[m.jsx("option",{value:"unavailable",children:"Vdeo no disponvel"}),m.jsx("option",{value:"premiere",children:"Aguardando estreia"})]})]}),r.inactiveMode==="premiere"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Data de Estreia"}),m.jsx("input",{type:"datetime-local",value:r.premiereDate,onChange:I=>i(S=>({...S,premiereDate:I.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Esta data ser exibida abaixo do vdeo"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Thumbnail da Estreia (Capa)"}),r.premiereThumbnailUrl&&m.jsx("div",{className:"mb-2",children:m.jsx("img",{src:r.premiereThumbnailUrl,alt:"Thumbnail",className:"w-full max-w-md h-auto rounded-lg"})}),m.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[f?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):m.jsx(hy,{className:"mr-2",size:16}),f?"Enviando...":"Escolher Thumbnail",m.jsx("input",{type:"file",accept:"image/*",onChange:E,disabled:f,className:"hidden"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Imagem que ser exibida no lugar do player do YouTube. Recomendado: 16:9 (1280x720px)"})]})]})]})]}),p&&m.jsx("div",{className:"text-red-400 text-sm",children:p}),m.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition duration-200",children:"Cancelar"}),m.jsxs("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-[#00DBD9] hover:bg-[#7afffd] disabled:bg-[#8cfcfa] text-black rounded-lg flex items-center transition duration-200",children:[o?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):m.jsx(ob,{className:"mr-2",size:18}),t?"Atualizar":"Criar"]})]})]})]})})};function mR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mR(t))&&(r&&(r+=" "),r+=e);return r}var sm={},gR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gR);var ab={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ab);var lb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(lb);var am={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}t.toPath=e})(am);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gR,n=ab,r=lb,i=am;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let f=0;f<l.length;f++){if(c==null||e.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}t.get=o})(sm);var kW=sm.get;const $o=ti(kW);var yR={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=Symbol.for("react.transitional.element"),cb=Symbol.for("react.portal"),lm=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),dm=Symbol.for("react.consumer"),fm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),OW=Symbol.for("react.view_transition"),NW=Symbol.for("react.client.reference");function pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ub:switch(t=t.type,t){case lm:case cm:case um:case pm:case mm:case OW:return t;default:switch(t=t&&t.$$typeof,t){case fm:case hm:case ym:case gm:return t;case dm:return t;default:return e}}case cb:return e}}}Me.ContextConsumer=dm;Me.ContextProvider=fm;Me.Element=ub;Me.ForwardRef=hm;Me.Fragment=lm;Me.Lazy=ym;Me.Memo=gm;Me.Portal=cb;Me.Profiler=cm;Me.StrictMode=um;Me.Suspense=pm;Me.SuspenseList=mm;Me.isContextConsumer=function(t){return pr(t)===dm};Me.isContextProvider=function(t){return pr(t)===fm};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ub};Me.isForwardRef=function(t){return pr(t)===hm};Me.isFragment=function(t){return pr(t)===lm};Me.isLazy=function(t){return pr(t)===ym};Me.isMemo=function(t){return pr(t)===gm};Me.isPortal=function(t){return pr(t)===cb};Me.isProfiler=function(t){return pr(t)===cm};Me.isStrictMode=function(t){return pr(t)===um};Me.isSuspense=function(t){return pr(t)===pm};Me.isSuspenseList=function(t){return pr(t)===mm};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lm||t===cm||t===um||t===pm||t===mm||typeof t=="object"&&t!==null&&(t.$$typeof===ym||t.$$typeof===gm||t.$$typeof===fm||t.$$typeof===dm||t.$$typeof===hm||t.$$typeof===NW||t.getModuleId!==void 0)};Me.typeOf=pr;yR.exports=Me;var RW=yR.exports,Ot=t=>t===0?0:t>0?1:-1,Kn=t=>typeof t=="number"&&t!=+t,hs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ne=t=>(typeof t=="number"||t instanceof Number)&&!Kn(t),Zr=t=>ne(t)||typeof t=="string",DW=0,nl=t=>{var e=++DW;return"".concat(t||"").concat(e)},mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&typeof e!="string")return r;var o;if(hs(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Kn(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},vR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},eo=(t,e)=>ne(t)&&ne(e)?n=>t+n*(e-t):()=>e;function jW(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):$o(r,e))===n)}var vt=t=>t===null||typeof t>"u",Gc=t=>vt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),MW=["viewBox","children"],LW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tA=["points","pathLength"],my={svg:MW,polygon:tA,polyline:tA},db=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],VW=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{db.includes(i)&&(r[i]=o=>n[i](n,o))}),r},$W=(t,e,n)=>r=>(t(e,n,r),null),vm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];db.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=$W(o,e,n))}),r},nA=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rA=null,gy=null,wR=t=>{if(t===rA&&Array.isArray(gy))return gy;var e=[];return x.Children.forEach(t,n=>{vt(n)||(RW.isFragment(n)?e=e.concat(wR(n.props.children)):e.push(n))}),gy=e,rA=t,e};function Yc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>nA(i)):r=[nA(e)],wR(t).forEach(i=>{var o=$o(i,"type.displayName")||$o(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var UW=(t,e,n,r)=>{var i,o=(i=r&&(my==null?void 0:my[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||LW.includes(e))||n&&db.includes(e)},ke=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;UW((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},FW=["children","width","height","viewBox","className","style","title","desc"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(null,arguments)}function BW(t,e){if(t==null)return{};var n,r,i=zW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _R=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=t,c=BW(t,FW),f=o||{width:r,height:i,x:0,y:0},h=Re("recharts-surface",s);return x.createElement("svg",h0({},ke(c,!0,"svg"),{className:h,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),x.createElement("title",null,l),x.createElement("desc",null,u),n)}),WW=["children","className"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(null,arguments)}function HW(t,e){if(t==null)return{};var n,r,i=KW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gn=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=HW(t,WW),o=Re("recharts-layer",r);return x.createElement("g",p0({className:o},ke(i,!0),{ref:e}),n)}),qW=x.createContext(null);function Le(t){return function(){return t}}const bR=Math.cos,Oh=Math.sin,Mr=Math.sqrt,Nh=Math.PI,wm=2*Nh,m0=Math.PI,g0=2*m0,ss=1e-6,GW=g0-ss;function xR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function YW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class QW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xR:YW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ss)if(!(Math.abs(f*l-u*c)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,y=i-a,w=l*l+u*u,g=p*p+y*y,v=Math.sqrt(w),b=Math.sqrt(h),E=o*Math.tan((m0-Math.acos((w+h-g)/(2*v*b)))/2),C=E/b,k=E/v;Math.abs(C-1)>ss&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*p>c*y)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-c)>ss)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%g0+g0),h>GW?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ss&&this._append`A${r},${r},0,${+(h>=m0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new QW(e)}function hb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _m(t){return new ER(t)}function TR(t){return t[0]}function SR(t){return t[1]}function AR(t,e){var n=Le(!0),r=null,i=_m,o=null,s=fb(a);t=typeof t=="function"?t:t===void 0?TR:Le(t),e=typeof e=="function"?e:e===void 0?SR:Le(e);function a(l){var u,c=(l=hb(l)).length,f,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Le(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Jd(t,e,n){var r=null,i=Le(!0),o=null,s=_m,a=null,l=fb(u);t=typeof t=="function"?t:t===void 0?TR:Le(+t),e=typeof e=="function"?e:Le(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SR:Le(+n);function u(f){var h,p,y,w=(f=hb(f)).length,g,v=!1,b,E=new Array(w),C=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(g=f[h],h,f))===v)if(v=!v)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=p;--y)a.point(E[y],C[y]);a.lineEnd(),a.areaEnd()}v&&(E[h]=+t(g,h,f),C[h]=+e(g,h,f),a.point(r?+r(g,h,f):E[h],n?+n(g,h,f):C[h]))}if(b)return a=null,b+""||null}function c(){return AR().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class PR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function XW(t){return new PR(t,!0)}function JW(t){return new PR(t,!1)}const pb={draw(t,e){const n=Mr(e/Nh);t.moveTo(n,0),t.arc(0,0,n,0,wm)}},ZW={draw(t,e){const n=Mr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},IR=Mr(1/3),eH=IR*2,tH={draw(t,e){const n=Mr(e/eH),r=n*IR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nH={draw(t,e){const n=Mr(e),r=-n/2;t.rect(r,r,n,n)}},rH=.8908130915292852,CR=Oh(Nh/10)/Oh(7*Nh/10),iH=Oh(wm/10)*CR,oH=-bR(wm/10)*CR,sH={draw(t,e){const n=Mr(e*rH),r=iH*n,i=oH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=wm*o/5,a=bR(s),l=Oh(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},yy=Mr(3),aH={draw(t,e){const n=-Mr(e/(yy*3));t.moveTo(0,n*2),t.lineTo(-yy*n,-n),t.lineTo(yy*n,-n),t.closePath()}},Jn=-.5,Zn=Mr(3)/2,y0=1/Mr(12),lH=(y0/2+1)*3,uH={draw(t,e){const n=Mr(e/lH),r=n/2,i=n*y0,o=r,s=n*y0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Jn*r-Zn*i,Zn*r+Jn*i),t.lineTo(Jn*o-Zn*s,Zn*o+Jn*s),t.lineTo(Jn*a-Zn*l,Zn*a+Jn*l),t.lineTo(Jn*r+Zn*i,Jn*i-Zn*r),t.lineTo(Jn*o+Zn*s,Jn*s-Zn*o),t.lineTo(Jn*a+Zn*l,Jn*l-Zn*a),t.closePath()}};function cH(t,e){let n=null,r=fb(i);t=typeof t=="function"?t:Le(t||pb),e=typeof e=="function"?e:Le(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Le(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Le(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Rh(){}function Dh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kR(t){this._context=t}kR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dH(t){return new kR(t)}function OR(t){this._context=t}OR.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fH(t){return new OR(t)}function NR(t){this._context=t}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hH(t){return new NR(t)}function RR(t){this._context=t}RR.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pH(t){return new RR(t)}function iA(t){return t<0?-1:1}function oA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(iA(o)+iA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function sA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function jh(t){this._context=t}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vy(this,this._t0,sA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vy(this,sA(this,n=oA(this,t,e)),n);break;default:vy(this,this._t0,n=oA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function DR(t){this._context=new jR(t)}(DR.prototype=Object.create(jh.prototype)).point=function(t,e){jh.prototype.point.call(this,e,t)};function jR(t){this._context=t}jR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function mH(t){return new jh(t)}function gH(t){return new DR(t)}function MR(t){this._context=t}MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aA(t),i=aA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function yH(t){return new MR(t)}function bm(t,e){this._context=t,this._t=e}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vH(t){return new bm(t,.5)}function wH(t){return new bm(t,0)}function _H(t){return new bm(t,1)}function rl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function v0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bH(t,e){return t[e]}function xH(t){const e=[];return e.key=t,e}function EH(){var t=Le([]),e=v0,n=rl,r=bH;function i(o){var s=Array.from(t.apply(this,arguments),xH),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=hb(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Le(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Le(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?v0:typeof o=="function"?o:Le(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??rl,i):n},i}function TH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}rl(t,e)}}function SH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}rl(t,e)}}function AH(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,y=0;y<a;++y){var w=t[e[y]],g=w[r][1]||0,v=w[r-1][1]||0;p+=g-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,rl(t,e)}}var PH=["type","size","sizeType"];function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(null,arguments)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){IH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IH(t,e,n){return(e=CH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CH(t){var e=kH(t,"string");return typeof e=="symbol"?e:e+""}function kH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OH(t,e){if(t==null)return{};var n,r,i=NH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LR={symbolCircle:pb,symbolCross:ZW,symbolDiamond:tH,symbolSquare:nH,symbolStar:sH,symbolTriangle:aH,symbolWye:uH},RH=Math.PI/180,DH=t=>{var e="symbol".concat(Gc(t));return LR[e]||pb},jH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*RH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},MH=(t,e)=>{LR["symbol".concat(Gc(t))]=e},VR=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=OH(t,PH),o=uA(uA({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var f=DH(e),h=cH().type(f).size(jH(n,r,e));return h()},{className:a,cx:l,cy:u}=o,c=ke(o,!0);return l===+l&&u===+u&&n===+n?x.createElement("path",w0({},c,{className:Re("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(u,")"),d:s()})):null};VR.registerSymbol=MH;var $R={},UR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}t.uniqBy=e})(UR);var mb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(mb);var FR={},xm={},BR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(BR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BR;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(xm);var zR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(zR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xm,n=zR;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(FR);var WR={},HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sm;function n(r){return function(i){return e.get(i,r)}}t.property=n})(HR);var KR={},wy={},_y={},gb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(gb);var yb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(yb);var Em={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Em);var cA;function LH(){return cA||(cA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vb(),n=gb,r=yb,i=Em;function o(f,h,p){return typeof p!="function"?e.isMatch(f,h):s(f,h,function y(w,g,v,b,E,C){const k=p(w,g,v,b,E,C);return k!==void 0?!!k:s(w,g,y,C)},new Map)}function s(f,h,p,y){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,p,y);case"function":return Object.keys(h).length>0?s(f,{...h},p,y):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function a(f,h,p,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,y);if(h instanceof Map)return l(f,h,p,y);if(h instanceof Set)return c(f,h,p,y);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let g=0;g<w.length;g++){const v=w[g];if(!r.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function l(f,h,p,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,g]of h.entries()){const v=f.get(w);if(p(v,g,w,f,h,y)===!1)return!1}return!0}function u(f,h,p,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let g=0;g<h.length;g++){const v=h[g];let b=!1;for(let E=0;E<f.length;E++){if(w.has(E))continue;const C=f[E];let k=!1;if(p(C,v,g,f,h,y)&&(k=!0),k){w.add(E),b=!0;break}}if(!b)return!1}return!0}function c(f,h,p,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,y):!1}t.isMatchWith=o,t.isSetMatch=c}(_y)),_y}var dA;function vb(){return dA||(dA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(wy)),wy}var qR={},wb={},_b={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(_b);var Tm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Tm);var Sm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",y="[object Error]",w="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",k="[object Int8Array]",I="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",P="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=h,t.arrayTag=c,t.bigInt64ArrayTag=A,t.bigUint64ArrayTag=C,t.booleanTag=i,t.dataViewTag=w,t.dateTag=a,t.errorTag=y,t.float32ArrayTag=P,t.float64ArrayTag=R,t.functionTag=f,t.int16ArrayTag=I,t.int32ArrayTag=S,t.int8ArrayTag=k,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=b,t.uint32ArrayTag=E,t.uint8ArrayTag=g,t.uint8ClampedArrayTag=v})(Sm);var GR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(GR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_b,n=Tm,r=Sm,i=yb,o=GR;function s(c,f){return a(c,void 0,c,new Map,f)}function a(c,f,h,p=new Map,y=void 0){const w=y==null?void 0:y(c,f,h,p);if(w!=null)return w;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const g=new Array(c.length);p.set(c,g);for(let v=0;v<c.length;v++)g[v]=a(c[v],v,h,p,y);return Object.hasOwn(c,"index")&&(g.index=c.index),Object.hasOwn(c,"input")&&(g.input=c.input),g}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const g=new RegExp(c.source,c.flags);return g.lastIndex=c.lastIndex,g}if(c instanceof Map){const g=new Map;p.set(c,g);for(const[v,b]of c)g.set(v,a(b,v,h,p,y));return g}if(c instanceof Set){const g=new Set;p.set(c,g);for(const v of c)g.add(a(v,void 0,h,p,y));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const g=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,g);for(let v=0;v<c.length;v++)g[v]=a(c[v],v,h,p,y);return g}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const g=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,g),l(g,c,h,p,y),g}if(typeof File<"u"&&c instanceof File){const g=new File([c],c.name,{type:c.type});return p.set(c,g),l(g,c,h,p,y),g}if(c instanceof Blob){const g=new Blob([c],{type:c.type});return p.set(c,g),l(g,c,h,p,y),g}if(c instanceof Error){const g=new c.constructor;return p.set(c,g),g.message=c.message,g.name=c.name,g.stack=c.stack,g.cause=c.cause,l(g,c,h,p,y),g}if(typeof c=="object"&&u(c)){const g=Object.create(Object.getPrototypeOf(c));return p.set(c,g),l(g,c,h,p,y),g}return c}function l(c,f,h=c,p,y){const w=[...Object.keys(f),...e.getSymbols(f)];for(let g=0;g<w.length;g++){const v=w[g],b=Object.getOwnPropertyDescriptor(c,v);(b==null||b.writable)&&(c[v]=a(f[v],v,h,p,y))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=a,t.copyProperties=l})(wb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wb;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vb(),n=qR;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(KR);var YR={},QR={},XR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wb,n=Sm;function r(i,o){return e.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(XR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XR;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(QR);var JR={},bb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(bb);var ZR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tm;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(ZR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ab,n=bb,r=ZR,i=am;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=o})(JR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vb(),n=lb,r=QR,i=sm,o=JR;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(YR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mb,n=HR,r=KR,i=YR;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(WR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR,n=mb,r=FR,i=WR;function o(s,a=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(a)):[]}t.uniqBy=o})($R);var VH=$R.uniqBy;const fA=ti(VH);function $H(t,e,n){return e===!0?fA(t,n):typeof e=="function"?fA(t,e):t}var eD={exports:{}},tD={},nD={exports:{}},rD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=x;function UH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FH=typeof Object.is=="function"?Object.is:UH,BH=il.useState,zH=il.useEffect,WH=il.useLayoutEffect,HH=il.useDebugValue;function KH(t,e){var n=e(),r=BH({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return WH(function(){i.value=n,i.getSnapshot=e,by(i)&&o({inst:i})},[t,n,e]),zH(function(){return by(i)&&o({inst:i}),t(function(){by(i)&&o({inst:i})})},[t]),HH(n),n}function by(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!FH(t,n)}catch{return!0}}function qH(t,e){return e()}var GH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qH:KH;rD.useSyncExternalStore=il.useSyncExternalStore!==void 0?il.useSyncExternalStore:GH;nD.exports=rD;var YH=nD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=x,QH=YH;function XH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JH=typeof Object.is=="function"?Object.is:XH,ZH=QH.useSyncExternalStore,eK=Am.useRef,tK=Am.useEffect,nK=Am.useMemo,rK=Am.useDebugValue;tD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=eK(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=nK(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,JH(c,p))return y;var w=r(p);return i!==void 0&&i(y,w)?(c=p,y):(c=p,f=w)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=ZH(t,o[0],o[1]);return tK(function(){s.hasValue=!0,s.value=a},[a]),rK(a),a};eD.exports=tD;var iK=eD.exports,xb=x.createContext(null),oK=t=>t,at=()=>{var t=x.useContext(xb);return t?t.store.dispatch:oK},Uf=()=>{},sK=()=>Uf,aK=(t,e)=>t===e;function ie(t){var e=x.useContext(xb);return iK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:sK,e?e.store.getState:Uf,e?e.store.getState:Uf,e?t:Uf,aK)}function lK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function uK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function cK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var hA=t=>Array.isArray(t)?t:[t];function dK(t){const e=Array.isArray(t[0])?t[0]:t;return cK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function fK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var hK=class{constructor(t){this.value=t}deref(){return this.value}},pK=typeof WeakRef<"u"?WeakRef:hK,mK=0,pA=1;function Zd(){return{s:mK,v:void 0,o:null,p:null}}function iD(t,e={}){let n=Zd();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var f;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=a.o;w===null&&(a.o=w=new WeakMap);const g=w.get(y);g===void 0?(a=Zd(),w.set(y,a)):a=g}else{let w=a.p;w===null&&(a.p=w=new Map);const g=w.get(y);g===void 0?(a=Zd(),w.set(y,a)):a=g}}const u=a;let c;if(a.s===pA)c=a.v;else if(c=t.apply(null,arguments),o++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new pK(c):c}return u.s=pA,u.v=c,c}return s.clearCache=()=>{n=Zd(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function gK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),lK(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=iD,argsMemoizeOptions:y=[],devModeChecks:w={}}=c,g=hA(h),v=hA(y),b=dK(i),E=f(function(){return o++,u.apply(null,arguments)},...g),C=p(function(){s++;const I=fK(b,arguments);return a=E.apply(null,I),a},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:E,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=gK(iD),yK=Object.assign((t,e=V)=>{uK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>yK}),oD={},sD={},aD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),a=e(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};t.compareValues=n})(aD);var lD={},Eb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Eb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eb,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(lD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aD,n=lD,r=am;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,y)=>{let w=p;for(let g=0;g<y.length&&w!=null;++g)w=w[y[g]];return w},c=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:u(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?u(y,p):typeof y=="object"?y[p]:y,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:f.map(y=>c(y,p))})).slice().sort((p,y)=>{for(let w=0;w<f.length;w++){const g=e.compareValues(p.criteria[w],y.criteria[w],a[w]);if(g!==0)return g}return 0}).map(p=>p.original)}t.orderBy=i})(sD);var uD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(uD);var Tb={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bb,n=xm,r=gb,i=Em;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}t.isIterateeCall=o})(Tb);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sD,n=uD,r=Tb;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(oD);var vK=oD.sortBy;const Pm=ti(vK);var cD=t=>t.legend.settings,wK=t=>t.legend.size,_K=t=>t.legend.payload;V([_K,cD],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Pm(r,n):r});var ef=1;function bK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>ef||Math.abs(s.left-e.left)>ef||Math.abs(s.top-e.top)>ef||Math.abs(s.width-e.width)>ef)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Vt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xK=typeof Symbol=="function"&&Symbol.observable||"@@observable",mA=xK,xy=()=>Math.random().toString(36).substring(7).split("").join("."),EK={INIT:`@@redux/INIT${xy()}`,REPLACE:`@@redux/REPLACE${xy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xy()}`},Mh=EK;function Sb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dD(t,e,n){if(typeof t!="function")throw new Error(Vt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vt(1));return n(dD)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,v)=>{s.set(v,g)}))}function c(){if(l)throw new Error(Vt(3));return i}function f(g){if(typeof g!="function")throw new Error(Vt(4));if(l)throw new Error(Vt(5));let v=!0;u();const b=a++;return s.set(b,g),function(){if(v){if(l)throw new Error(Vt(6));v=!1,u(),s.delete(b),o=null}}}function h(g){if(!Sb(g))throw new Error(Vt(7));if(typeof g.type>"u")throw new Error(Vt(8));if(typeof g.type!="string")throw new Error(Vt(17));if(l)throw new Error(Vt(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(Vt(10));r=g,h({type:Mh.REPLACE})}function y(){const g=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Vt(11));function b(){const C=v;C.next&&C.next(c())}return b(),{unsubscribe:g(b)}},[mA](){return this}}}return h({type:Mh.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[mA]:y}}function TK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mh.INIT})>"u")throw new Error(Vt(12));if(typeof n(void 0,{type:Mh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function fD(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{TK(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],y=h(p,a);if(typeof y>"u")throw a&&a.type,new Error(Vt(14));u[f]=y,l=l||y!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Lh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SK(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Vt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=Lh(...a)(i.dispatch),{...i,dispatch:o}}}function hD(t){return Sb(t)&&"type"in t&&typeof t.type=="string"}var pD=Symbol.for("immer-nothing"),gA=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function Tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ol=Object.getPrototypeOf;function Vs(t){return!!t&&!!t[qn]}function Di(t){var e;return t?mD(t)||Array.isArray(t)||!!t[gA]||!!((e=t.constructor)!=null&&e[gA])||Cm(t)||km(t):!1}var AK=Object.prototype.constructor.toString();function mD(t){if(!t||typeof t!="object")return!1;const e=ol(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===AK}function Vh(t,e){Im(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Im(t){const e=t[qn];return e?e.type_:Array.isArray(t)?1:Cm(t)?2:km(t)?3:0}function _0(t,e){return Im(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gD(t,e,n){const r=Im(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Cm(t){return t instanceof Map}function km(t){return t instanceof Set}function as(t){return t.copy_||t.base_}function b0(t,e){if(Cm(t))return new Map(t);if(km(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mD(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(ol(t),r)}else{const r=ol(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Ab(t,e=!1){return Om(t)||Vs(t)||!Di(t)||(Im(t)>1&&(t.set=t.add=t.clear=t.delete=IK),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Ab(r,!0))),t}function IK(){Tr(2)}function Om(t){return Object.isFrozen(t)}var CK={};function $s(t){const e=CK[t];return e||Tr(0,t),e}var gc;function yD(){return gc}function kK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yA(t,e){e&&($s("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function x0(t){E0(t),t.drafts_.forEach(OK),t.drafts_=null}function E0(t){t===gc&&(gc=t.parent_)}function vA(t){return gc=kK(gc,t)}function OK(t){const e=t[qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wA(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qn].modified_&&(x0(e),Tr(4)),Di(t)&&(t=$h(e,t),e.parent_||Uh(e,t)),e.patches_&&$s("Patches").generateReplacementPatches_(n[qn].base_,t,e.patches_,e.inversePatches_)):t=$h(e,n,[]),x0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pD?t:void 0}function $h(t,e,n){if(Om(e))return e;const r=e[qn];if(!r)return Vh(e,(i,o)=>_A(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Vh(o,(a,l)=>_A(t,r,i,a,l,n,s)),Uh(t,i,!1),n&&t.patches_&&$s("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function _A(t,e,n,r,i,o,s){if(Vs(i)){const a=o&&e&&e.type_!==3&&!_0(e.assigned_,r)?o.concat(r):void 0,l=$h(t,i,a);if(gD(n,r,l),Vs(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Di(i)&&!Om(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;$h(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Uh(t,i)}}function Uh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ab(e,n)}function NK(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Pb;n&&(i=[r],o=yc);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Pb={get(t,e){if(e===qn)return t;const n=as(t);if(!_0(n,e))return RK(t,n,e);const r=n[e];return t.finalized_||!Di(r)?r:r===Ey(t.base_,e)?(Ty(t),t.copy_[e]=S0(r,t)):r},has(t,e){return e in as(t)},ownKeys(t){return Reflect.ownKeys(as(t))},set(t,e,n){const r=vD(as(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ey(as(t),e),o=i==null?void 0:i[qn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(PK(n,i)&&(n!==void 0||_0(t.base_,e)))return!0;Ty(t),T0(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ey(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ty(t),T0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=as(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Tr(11)},getPrototypeOf(t){return ol(t.base_)},setPrototypeOf(){Tr(12)}},yc={};Vh(Pb,(t,e)=>{yc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yc.deleteProperty=function(t,e){return yc.set.call(this,t,e,void 0)};yc.set=function(t,e,n){return Pb.set.call(this,t[0],e,n,t[0])};function Ey(t,e){const n=t[qn];return(n?as(n):t)[e]}function RK(t,e,n){var i;const r=vD(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vD(t,e){if(!(e in t))return;let n=ol(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ol(n)}}function T0(t){t.modified_||(t.modified_=!0,t.parent_&&T0(t.parent_))}function Ty(t){t.copy_||(t.copy_=b0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var DK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Tr(6),r!==void 0&&typeof r!="function"&&Tr(7);let i;if(Di(e)){const o=vA(this),s=S0(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?x0(o):E0(o)}return yA(o,r),wA(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===pD&&(i=void 0),this.autoFreeze_&&Ab(i,!0),r){const o=[],s=[];$s("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Di(t)||Tr(8),Vs(t)&&(t=xi(t));const e=vA(this),n=S0(t,void 0);return n[qn].isManual_=!0,E0(e),n}finishDraft(t,e){const n=t&&t[qn];(!n||!n.isManual_)&&Tr(9);const{scope_:r}=n;return yA(r,e),wA(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=$s("Patches").applyPatches_;return Vs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function S0(t,e){const n=Cm(t)?$s("MapSet").proxyMap_(t,e):km(t)?$s("MapSet").proxySet_(t,e):NK(t,e);return(e?e.scope_:yD()).drafts_.push(n),n}function xi(t){return Vs(t)||Tr(10,t),wD(t)}function wD(t){if(!Di(t)||Om(t))return t;const e=t[qn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=b0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=b0(t,!0);return Vh(n,(r,i)=>{gD(n,r,wD(i))}),e&&(e.finalized_=!1),n}var Gn=new DK,_D=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function bD(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var jK=bD(),MK=bD,LK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lh:Lh.apply(null,arguments)};function fr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>hD(r)&&r.type===t,n}var xD=class bu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bu.prototype)}static get[Symbol.species](){return bu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new bu(...e[0].concat(this)):new bu(...e.concat(this))}};function bA(t){return Di(t)?_D(t,()=>{}):t}function tf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VK(t){return typeof t=="boolean"}var $K=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new xD;return n&&(VK(n)?s.push(jK):s.push(MK(n.extraArgument))),s},UK="RTK_autoBatch",xA=t=>e=>{setTimeout(e,t)},FK=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xA(10):t.type==="callback"?t.queueNotification:xA(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[UK]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},BK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new xD(t);return r&&i.push(FK(typeof r=="object"?r:void 0)),i};function zK(t){const e=$K(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Sb(n))l=fD(n);else throw new Error(Wn(1));let u;typeof r=="function"?u=r(e):u=e();let c=Lh;i&&(c=LK({trace:!1,...typeof i=="object"&&i}));const f=SK(...u),h=BK(f);let p=typeof a=="function"?a(h):h();const y=c(...p);return dD(l,s,y)}function ED(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Wn(28));if(a in e)throw new Error(Wn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function WK(t){return typeof t=="function"}function HK(t,e){let[n,r,i]=ED(e),o;if(WK(t))o=()=>bA(t());else{const a=bA(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(Vs(c)){const p=f(c,l);return p===void 0?c:p}else{if(Di(c))return _D(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return s.getInitialState=o,s}var KK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qK=(t=21)=>{let e="",n=t;for(;n--;)e+=KK[Math.random()*64|0];return e},GK=Symbol.for("rtk-slice-createasyncthunk");function YK(t,e){return`${t}/${e}`}function QK({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[GK];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Wn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(JK()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(C,k){const I=typeof C=="string"?C:C.type;if(!I)throw new Error(Wn(12));if(I in u.sliceCaseReducersByType)throw new Error(Wn(13));return u.sliceCaseReducersByType[I]=k,c},addMatcher(C,k){return u.sliceMatchers.push({matcher:C,reducer:k}),c},exposeAction(C,k){return u.actionCreators[C]=k,c},exposeCaseReducer(C,k){return u.sliceCaseReducersByName[C]=k,c}};l.forEach(C=>{const k=a[C],I={reducerName:C,type:YK(o,C),createNotation:typeof i.reducers=="function"};eq(k)?nq(I,k,c,e):ZK(I,k,c)});function f(){const[C={},k=[],I=void 0]=typeof i.extraReducers=="function"?ED(i.extraReducers):[i.extraReducers],S={...C,...u.sliceCaseReducersByType};return HK(i.initialState,A=>{for(let P in S)A.addCase(P,S[P]);for(let P of u.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of k)A.addMatcher(P.matcher,P.reducer);I&&A.addDefaultCase(I)})}const h=C=>C,p=new Map,y=new WeakMap;let w;function g(C,k){return w||(w=f()),w(C,k)}function v(){return w||(w=f()),w.getInitialState()}function b(C,k=!1){function I(A){let P=A[C];return typeof P>"u"&&k&&(P=tf(y,I,v)),P}function S(A=h){const P=tf(p,k,()=>new WeakMap);return tf(P,A,()=>{const R={};for(const[N,j]of Object.entries(i.selectors??{}))R[N]=XK(j,A,()=>tf(y,A,v),k);return R})}return{reducerPath:C,getSelectors:S,get selectors(){return S(I)},selectSlice:I}}const E={name:o,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(C,{reducerPath:k,...I}={}){const S=k??s;return C.inject({reducerPath:S,reducer:g},I),{...E,...b(S,!0)}}};return E}}function XK(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var mr=QK();function JK(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ZK({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!tq(r))throw new Error(Wn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?fr(t,s):fr(t))}function eq(t){return t._reducerDefinitionType==="asyncThunk"}function tq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,f=i(t,o,c);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:s||nf,pending:a||nf,rejected:l||nf,settled:u||nf})}function nf(){}var rq="task",TD="listener",SD="completed",Ib="cancelled",iq=`task-${Ib}`,oq=`task-${SD}`,A0=`${TD}-${Ib}`,sq=`${TD}-${SD}`,Nm=class{constructor(t){xg(this,"name","TaskAbortError");xg(this,"message");this.code=t,this.message=`${rq} ${Ib} (reason: ${t})`}},Cb=(t,e)=>{if(typeof t!="function")throw new TypeError(Wn(32))},Fh=()=>{},AD=(t,e=Fh)=>(t.catch(e),t),PD=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),bs=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},xs=t=>{if(t.aborted){const{reason:e}=t;throw new Nm(e)}};function ID(t,e){let n=Fh;return new Promise((r,i)=>{const o=()=>i(new Nm(t.reason));if(t.aborted){o();return}n=PD(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Fh})}var aq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Nm?"cancelled":"rejected",error:n}}finally{e==null||e()}},Bh=t=>e=>AD(ID(t,e).then(n=>(xs(t),n))),CD=t=>{const e=Bh(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:$a}=Object,EA={},Rm="listenerMiddleware",lq=(t,e)=>{const n=r=>PD(t,()=>bs(r,t.reason));return(r,i)=>{Cb(r);const o=new AbortController;n(o);const s=aq(async()=>{xs(t),xs(o.signal);const a=await r({pause:Bh(o.signal),delay:CD(o.signal),signal:o.signal});return xs(o.signal),a},()=>bs(o,oq));return i!=null&&i.autoJoin&&e.push(s.catch(Fh)),{result:Bh(t)(s),cancel(){bs(o,iq)}}}},uq=(t,e)=>{const n=async(r,i)=>{xs(e);let o=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ID(e,Promise.race(a));return xs(e),l}finally{o()}};return(r,i)=>AD(n(r,i))},kD=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=fr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Wn(21));return Cb(o),{predicate:i,type:e,effect:o}},OD=$a(t=>{const{type:e,predicate:n,effect:r}=kD(t);return{id:qK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wn(22))}}},{withTypes:()=>OD}),TA=(t,e)=>{const{type:n,effect:r,predicate:i}=kD(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},P0=t=>{t.pending.forEach(e=>{bs(e,A0)})},cq=t=>()=>{t.forEach(P0),t.clear()},SA=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},ND=$a(fr(`${Rm}/add`),{withTypes:()=>ND}),dq=fr(`${Rm}/removeAll`),RD=$a(fr(`${Rm}/remove`),{withTypes:()=>RD}),fq=(...t)=>{console.error(`${Rm}/error`,...t)},Qc=(t={})=>{const e=new Map,{extra:n,onError:r=fq}=t;Cb(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),f=>{c.unsubscribe(),f!=null&&f.cancelActive&&P0(c)}),o=c=>{const f=TA(e,c)??OD(c);return i(f)};$a(o,{withTypes:()=>o});const s=c=>{const f=TA(e,c);return f&&(f.unsubscribe(),c.cancelActive&&P0(f)),!!f};$a(s,{withTypes:()=>s});const a=async(c,f,h,p)=>{const y=new AbortController,w=uq(o,y.signal),g=[];try{c.pending.add(y),await Promise.resolve(c.effect(f,$a({},h,{getOriginalState:p,condition:(v,b)=>w(v,b).then(Boolean),take:w,delay:CD(y.signal),pause:Bh(y.signal),extra:n,signal:y.signal,fork:lq(y.signal,g),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((v,b,E)=>{v!==y&&(bs(v,A0),E.delete(v))})},cancel:()=>{bs(y,A0),c.pending.delete(y)},throwIfCancelled:()=>{xs(y.signal)}})))}catch(v){v instanceof Nm||SA(r,v,{raisedBy:"effect"})}finally{await Promise.all(g),bs(y,sq),c.pending.delete(y)}},l=cq(e);return{middleware:c=>f=>h=>{if(!hD(h))return f(h);if(ND.match(h))return o(h.payload);if(dq.match(h)){l();return}if(RD.match(h))return s(h.payload);let p=c.getState();const y=()=>{if(p===EA)throw new Error(Wn(23));return p};let w;try{if(w=f(h),e.size>0){const g=c.getState(),v=Array.from(e.values());for(const b of v){let E=!1;try{E=b.predicate(h,g,p)}catch(C){E=!1,SA(r,C,{raisedBy:"predicate"})}E&&a(b,h,c,y)}}}finally{p=EA}return w},startListening:o,stopListening:s,clearListeners:l}};function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DD=mr({name:"chartLayout",initialState:hq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:pq,setLayout:mq,setChartSize:gq,setScale:yq}=DD.actions,vq=DD.reducer;function AA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(n),!0).forEach(function(r){wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wq(t,e,n){return(e=_q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=bq(t,"string");return typeof e=="symbol"?e:e+""}function bq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zh=Math.PI/180,xq=t=>t*180/Math.PI,yt=(t,e,n,r)=>({x:t+Math.cos(-zh*r)*n,y:e+Math.sin(-zh*r)*n}),jD=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Eq=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Tq=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=Eq({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:xq(l),angleInRadian:l}},Sq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Aq=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},Pq=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=Tq({x:n,y:r},e),{innerRadius:s,outerRadius:a}=e;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=Sq(e),c=o,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?PA(PA({},e),{},{radius:i,angle:Aq(c,e)}):null};function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(n),!0).forEach(function(r){Iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iq(t,e,n){return(e=Cq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cq(t){var e=kq(t,"string");return typeof e=="symbol"?e:e+""}function kq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rt(t,e,n){return vt(t)||vt(e)?n:Zr(e)?$o(t,e,n):typeof e=="function"?e(t):n}var Oq=(t,e,n,r,i)=>{var o,s=-1,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Ot(c-u)!==Ot(f-c)){var p=[];if(Ot(f-c)===Ot(i[1]-i[0])){h=f;var y=c+i[1]-i[0];p[0]=Math.min(y,(y+u)/2),p[1]=Math.max(y,(y+u)/2)}else{h=u;var w=f+i[1]-i[0];p[0]=Math.min(c,(w+c)/2),p[1]=Math.max(c,(w+c)/2)}var g=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>g[0]&&t<=g[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var v=Math.min(u,f),b=Math.max(u,f);if(t>(v+c)/2&&t<=(b+c)/2){({index:s}=n[l]);break}}}else if(e){for(var E=0;E<a;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<a-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===a-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:s}=e[E]);break}}return s},Nq=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=e;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&ne(t[o]))return ir(ir({},t),{},{[o]:t[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&ne(t[s]))return ir(ir({},t),{},{[s]:t[s]+(i||0)})}return t},Qs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",MD=(t,e,n,r)=>{if(r)return t.map(a=>a.coordinate);var i,o,s=t.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(e),o||s.push(n),s},LD=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=t;if(!s)return null;var y=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(w=p==="angleAxis"&&o&&o.length>=2?Ot(o[0]-o[1])*2*w:w,f||h){var g=(f||h||[]).map((v,b)=>{var E=r?r.indexOf(v):v;return{coordinate:s(E)+w,value:v,offset:w,index:b}});return g.filter(v=>!Kn(v.coordinate))}return l&&u?u.map((v,b)=>({coordinate:s(v)+w,value:v,index:b,offset:w})):s.ticks&&!n&&c!=null?s.ticks(c).map((v,b)=>({coordinate:s(v)+w,value:v,offset:w,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+w,value:r?r[v]:v,index:b,offset:w}))},CA=1e-4,Rq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-CA,o=Math.max(r[0],r[1])+CA,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}},Dq=(t,e)=>{if(!e||e.length!==2||!ne(e[0])||!ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ne(t[0])||t[0]<n)&&(i[0]=n),(!ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},jq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=Kn(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},Mq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Kn(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Lq={sign:jq,expand:TH,none:rl,silhouette:SH,wiggle:AH,positive:Mq},Vq=(t,e,n)=>{var r=Lq[n],i=EH().keys(e).value((o,s)=>+rt(o,s,0)).order(v0).offset(r);return i(t)};function VD(t){return t==null?void 0:String(t)}var kA=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var a=rt(o,e.dataKey,e.scale.domain()[s]);return vt(a)?null:e.scale(a)-i/2+r},$q=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Uq=t=>{var e=t.flat(2).filter(ne);return[Math.min(...e),Math.max(...e)]},Fq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Bq=(t,e,n)=>{if(t!=null)return Fq(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=Uq(u.slice(e,n+1));return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},OA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Pm(e,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function RA(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return ir(ir({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Dm(t,e){if(t)return String(t);if(typeof e=="string")return e}function zq(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?Pq({x:t,y:e},r):null}var Wq=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return ir(ir(ir({},r),yt(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return ir(ir(ir({},r),yt(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},Hq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ui=t=>t.layout.width,Fi=t=>t.layout.height,Kq=t=>t.layout.scale,$D=t=>t.layout.margin,Ob=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Nb=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UD="data-recharts-item-index",FD="data-recharts-item-data-key",jm=60;function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qq(t,e,n){return(e=Gq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=Yq(t,"string");return typeof e=="symbol"?e:e+""}function Yq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qq=t=>t.brush.height,Tt=V([Ui,Fi,$D,Qq,Ob,Nb,cD,wK],(t,e,n,r,i,o,s,a)=>{var l=o.reduce((y,w)=>{var{orientation:g}=w;if(!w.mirror&&!w.hide){var v=typeof w.width=="number"?w.width:jm;return Qi(Qi({},y),{},{[g]:y[g]+v})}return y},{left:n.left||0,right:n.right||0}),u=i.reduce((y,w)=>{var{orientation:g}=w;return!w.mirror&&!w.hide?Qi(Qi({},y),{},{[g]:$o(y,"".concat(g))+w.height}):y},{top:n.top||0,bottom:n.bottom||0}),c=Qi(Qi({},u),l),f=c.bottom;c.bottom+=r,c=Nq(c,s,a);var h=t-c.left-c.right,p=e-c.top-c.bottom;return Qi(Qi({brushBottom:f},c),{},{width:Math.max(h,0),height:Math.max(p,0)})}),Xq=V(Tt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BD=V(Ui,Fi,(t,e)=>({x:0,y:0,width:t,height:e})),Jq=x.createContext(null),In=()=>x.useContext(Jq)!=null,Mm=t=>t.brush,Lm=V([Mm,Tt,$D],(t,e,n)=>({height:t.height,x:ne(t.x)?t.x:e.left,y:ne(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ne(t.width)?t.width:e.width})),Rb=()=>{var t,e=In(),n=ie(Xq),r=ie(Lm),i=(t=ie(Mm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Zq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zD=()=>{var t;return(t=ie(Tt))!==null&&t!==void 0?t:Zq},WD=()=>ie(Ui),HD=()=>ie(Fi),Ne=t=>t.layout.layoutType,Db=()=>ie(Ne),eG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KD=mr({name:"legend",initialState:eG,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=xi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Qse,setLegendSettings:Xse,addLegendPayload:qD,removeLegendPayload:GD}=KD.actions,tG=KD.reducer;function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(null,arguments)}function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){nG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nG(t,e,n){return(e=rG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t){var e=iG(t,"string");return typeof e=="symbol"?e:e+""}function iG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oG(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var sG=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=!1}=t,p=()=>{if(o&&o.length){var k={padding:0,margin:0},I=(a?Pm(o,a):o).map((S,A)=>{if(S.type==="none")return null;var P=S.formatter||s||oG,{value:R,name:N}=S,j=R,D=N;if(P){var W=P(R,N,S,A,o);if(Array.isArray(W))[j,D]=W;else if(W!=null)j=W;else return null}var q=Sy({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:q},Zr(D)?x.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Zr(D)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},j),x.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},y=Sy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Sy({margin:0},i),g=!vt(c),v=g?c:"",b=Re("recharts-default-tooltip",l),E=Re("recharts-tooltip-label",u);g&&f&&o!==void 0&&o!==null&&(v=f(c,o));var C=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",I0({className:b,style:y},C),x.createElement("p",{className:E,style:w},x.isValidElement(v)?v:"".concat(v)),p())},iu="recharts-tooltip-wrapper",aG={visibility:"hidden"};function lG(t){var{coordinate:e,translateX:n,translateY:r}=t;return Re(iu,{["".concat(iu,"-right")]:ne(n)&&e&&ne(e.x)&&n>=e.x,["".concat(iu,"-left")]:ne(n)&&e&&ne(e.x)&&n<e.x,["".concat(iu,"-bottom")]:ne(r)&&e&&ne(e.y)&&r>=e.y,["".concat(iu,"-top")]:ne(r)&&e&&ne(e.y)&&r<e.y})}function MA(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=t;if(o&&ne(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?c:f;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,y=h;return p<y?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var w=f+a,g=h+u;return w>g?Math.max(c,h):Math.max(f,h)}function uG(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cG(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=t,u,c,f;return s.height>0&&s.width>0&&n?(c=MA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=MA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=uG({translateX:c,translateY:f,useTranslate3d:a})):u=aG,{cssProperties:u,cssClasses:lG({translateX:c,translateY:f,coordinate:n})}}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){C0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0(t,e,n){return(e=dG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=fG(t,"string");return typeof e=="symbol"?e:e+""}function fG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hG extends x.PureComponent{constructor(){super(...arguments),C0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),C0(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:y,lastBoundingBox:w,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:E}=cG({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:w.height,width:w.width},useTranslate3d:h,viewBox:p}),C=v?{}:rf(rf({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),k=rf(rf({},C),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:k,ref:g},o)}}var pG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Al={isSsr:pG()},YD=()=>ie(t=>t.rootProps.accessibilityLayer);function Yn(t){return Number.isFinite(t)}function sl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(null,arguments)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){mG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e,n){return(e=gG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gG(t){var e=yG(t,"string");return typeof e=="symbol"?e:e+""}function yG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UA={curveBasisClosed:fH,curveBasisOpen:hH,curveBasis:dH,curveBumpX:XW,curveBumpY:JW,curveLinearClosed:pH,curveLinear:_m,curveMonotoneX:mH,curveMonotoneY:gH,curveNatural:yH,curveStep:vH,curveStepAfter:_H,curveStepBefore:wH},of=t=>Yn(t.x)&&Yn(t.y),ou=t=>t.x,su=t=>t.y,vG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gc(t));return(n==="curveMonotone"||n==="curveBump")&&e?UA["".concat(n).concat(e==="vertical"?"Y":"X")]:UA[n]||_m},wG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=vG(e,i),a=o?n.filter(of):n,l;if(Array.isArray(r)){var u=o?r.filter(f=>of(f)):r,c=a.map((f,h)=>$A($A({},f),{},{base:u[h]}));return i==="vertical"?l=Jd().y(su).x1(ou).x0(f=>f.base.x):l=Jd().x(ou).y1(su).y0(f=>f.base.y),l.defined(of).curve(s),l(c)}return i==="vertical"&&ne(r)?l=Jd().y(su).x1(ou).x0(r):ne(r)?l=Jd().x(ou).y1(su).y0(r):l=AR().x(ou).y(su),l.defined(of).curve(s),l(a)},QD=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?wG(t):r;return x.createElement("path",k0({},ke(t,!1),VW(t),{className:Re("recharts-curve",e),d:o===null?void 0:o,ref:i}))},_G=["x","y","top","left","width","height","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(null,arguments)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){xG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xG(t,e,n){return(e=EG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=TG(t,"string");return typeof e=="symbol"?e:e+""}function TG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SG(t,e){if(t==null)return{};var n,r,i=AG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PG=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),IG=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=t,l=SG(t,_G),u=bG({x:e,y:n,top:r,left:i,width:o,height:s},l);return!ne(e)||!ne(n)||!ne(o)||!ne(s)||!ne(r)||!ne(i)?null:x.createElement("path",O0({},ke(u,!0),{className:Re("recharts-cross",a),d:PG(e,n,o,s,r,i)}))};function CG(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){OG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OG(t,e,n){return(e=NG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NG(t){var e=RG(t,"string");return typeof e=="symbol"?e:e+""}function RG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lr(t,e){var n=kG({},t),r=e,i=Object.keys(e),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var XD={},JD={},ZD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(ZD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZD,n=_b,r=Tm,i=Sm,o=Em;function s(u,c,f){return a(u,c,void 0,void 0,void 0,void 0,f)}function a(u,c,f,h,p,y,w){const g=w(u,c,f,h,p,y);if(g!==void 0)return g;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,y,w)}return l(u,c,y,w)}function l(u,c,f,h){if(Object.is(u,c))return!0;let p=r.getTag(u),y=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),y===i.argumentsTag&&(y=i.objectTag),p!==y)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const v=u.valueOf(),b=c.valueOf();return o.eq(v,b)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}f=f??new Map;const w=f.get(u),g=f.get(c);if(w!=null&&g!=null)return w===c;f.set(u,c),f.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[v,b]of u.entries())if(!c.has(v)||!a(b,c.get(v),v,u,c,f,h))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const v=Array.from(u.values()),b=Array.from(c.values());for(let E=0;E<v.length;E++){const C=v[E],k=b.findIndex(I=>a(C,I,void 0,u,c,f,h));if(k===-1)return!1;b.splice(k,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let v=0;v<u.length;v++)if(!a(u[v],c[v],v,u,c,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const b=[...Object.keys(u),...n.getSymbols(u)],E=[...Object.keys(c),...n.getSymbols(c)];if(b.length!==E.length)return!1;for(let C=0;C<b.length;C++){const k=b[C],I=u[k];if(!Object.hasOwn(c,k))return!1;const S=c[k];if(!a(I,S,k,u,c,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(c)}}t.isEqualWith=s})(JD);var ej={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(ej);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JD,n=ej;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(XD);var DG=XD.isEqual;const jG=ti(DG);function MG(t){var e={},n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}var Wh=1e-4,tj=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],nj=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),zA=(t,e)=>n=>{var r=tj(t,e);return nj(r,n)},LG=(t,e)=>n=>{var r=tj(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return nj(i,n)},WA=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([e,r,n,i]=s);var u=zA(e,n),c=zA(r,i),f=LG(e,n),h=y=>y>1?1:y<0?0:y,p=y=>{for(var w=y>1?1:y,g=w,v=0;v<8;++v){var b=u(g)-w,E=f(g);if(Math.abs(b-w)<Wh||E<Wh)return c(g);g=h(g-b/E)}return c(g)};return p.isStepper=!1,p},VG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-a)<Wh&&Math.abs(f)<Wh?[a,0]:[h,f]};return o.isStepper=!0,o.dt=i,o},$G=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WA(t);case"spring":return VG();default:if(t.split("(")[0]==="cubic-bezier")return WA(t)}return typeof t=="function"?t:null};function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){UG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UG(t,e,n){return(e=FG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=BG(t,"string");return typeof e=="symbol"?e:e+""}function BG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),WG=(t,e,n)=>t.map(r=>"".concat(zG(r)," ").concat(e,"ms ").concat(n)).join(","),HG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),vc=(t,e)=>Object.keys(e).reduce((n,r)=>KA(KA({},n),{},{[r]:t(r,e[r])}),{});function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return(e=qG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qG(t){var e=GG(t,"string");return typeof e=="symbol"?e:e+""}function GG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hh=(t,e,n)=>t+(e-t)*n,N0=t=>{var{from:e,to:n}=t;return e!==n},rj=(t,e,n)=>{var r=vc((i,o)=>{if(N0(o)){var[s,a]=t(o.from,o.to,o.velocity);return Ft(Ft({},o),{},{from:s,velocity:a})}return o},e);return n<1?vc((i,o)=>N0(o)?Ft(Ft({},o),{},{velocity:Hh(o.velocity,r[i].velocity,n),from:Hh(o.from,r[i].from,n)}):o,e):rj(t,r,n-1)};function YG(t,e,n,r,i,o){var s,a=r.reduce((h,p)=>Ft(Ft({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>vc((h,p)=>p.from,a),u=()=>!Object.values(a).filter(N0).length,c=null,f=h=>{s||(s=h);var p=h-s,y=p/n.dt;a=rj(n,a,y),i(Ft(Ft(Ft({},t),e),l())),s=h,u()||(c=o.setTimeout(f))};return()=>(c=o.setTimeout(f),()=>{c()})}function QG(t,e,n,r,i,o,s){var a=null,l=i.reduce((f,h)=>Ft(Ft({},f),{},{[h]:[t[h],e[h]]}),{}),u,c=f=>{u||(u=f);var h=(f-u)/r,p=vc((w,g)=>Hh(...g,n(h)),l);if(o(Ft(Ft(Ft({},t),e),p)),h<1)a=s.setTimeout(c);else{var y=vc((w,g)=>Hh(...g,n(1)),l);o(Ft(Ft(Ft({},t),e),y))}};return()=>(a=s.setTimeout(c),()=>{a()})}const XG=(t,e,n,r,i,o)=>{var s=HG(t,e);return n.isStepper===!0?YG(t,e,n,s,i,o):QG(t,e,n,r,s,i,o)};class JG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var ZG=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(null,arguments)}function eY(t,e){if(t==null)return{};var n,r,i=tY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){ps(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ps(t,e,n){return(e=nY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nY(t){var e=rY(t,"string");return typeof e=="symbol"?e:e+""}function rY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iY(){return MG(new JG)}class jb extends x.PureComponent{constructor(e,n){super(e,n),ps(this,"mounted",!1),ps(this,"manager",null),ps(this,"stopJSAnimation",null),ps(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:a,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:s});return}if(o){if(typeof a=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(u);return}if(!(jG(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=c||o?a:e.to;if(this.state&&l){var h={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(h)}this.runAnimation(Xi(Xi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l}=e,u=XG(n,r,$G(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,s,c,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:a,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,f=WG(Object.keys(c),r,s);this.manager.start([a,n,Xi(Xi({},c),{},{transition:f}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:a,from:l,to:u,canBegin:c,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:y}=e,w=eY(e,ZG),g=x.Children.count(n),v=this.state.style;if(typeof n=="function")return n(v);if(!a||g===0||i<=0)return n;var b=E=>{var{style:C={},className:k}=E.props,I=x.cloneElement(E,Xi(Xi({},w),{},{style:Xi(Xi({},C),v),className:k}));return I};return g===1?b(x.Children.only(n)):x.createElement("div",null,x.Children.map(n,E=>b(E)))}}ps(jb,"displayName","Animate");ps(jb,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var oY=x.createContext(null);function Us(t){var e,n,r=x.useContext(oY);return x.createElement(jb,R0({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:iY()}))}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(null,arguments)}var YA=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,h=4;f<h;f++)c[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+a*c[0],",").concat(e)),u+="L ".concat(t+n-a*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-a*c[2],",").concat(e+r)),u+="L ".concat(t+a*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+a*p,",").concat(e,`
            L `).concat(t+n-a*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-a*p,",").concat(e+r,`
            L `).concat(t+a*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},sY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ij=t=>{var e=Lr(t,sY),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var g=Re("recharts-rectangle",c);return w?x.createElement(Us,{canBegin:r>0,from:{width:a,height:l,x:o,y:s},to:{width:a,height:l,x:o,y:s},duration:h,animationEasing:f,isActive:w},v=>{var{width:b,height:E,x:C,y:k}=v;return x.createElement(Us,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:y,easing:f},x.createElement("path",Kh({},ke(e,!0),{className:g,d:YA(C,k,b,E,u),ref:n})))}):x.createElement("path",Kh({},ke(e,!0),{className:g,d:YA(o,s,a,l,u)}))};function oj(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=yt(e,n,r,i),a=yt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(null,arguments)}var aY=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},sf=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=t,u=a*(s?1:-1)+r,c=Math.asin(a/u)/zh,f=l?i:i+o*c,h=yt(e,n,u,f),p=yt(e,n,r,f),y=l?i-o*c:i,w=yt(e,n,u*Math.cos(c*zh),y);return{center:h,circleTangency:p,lineTangency:w,theta:c}},sj=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,a=aY(o,s),l=o+a,u=yt(e,n,i,o),c=yt(e,n,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=yt(e,n,r,o),p=yt(e,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},lY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Ot(u-l),{circleTangency:f,lineTangency:h,theta:p}=sf({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:y,lineTangency:w,theta:g}=sf({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),v=a?Math.abs(l-u):Math.abs(l-u)-p-g;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sj({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:C,theta:k}=sf({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:I,lineTangency:S,theta:A}=sf({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),P=a?Math.abs(l-u):Math.abs(l-u)-k-A;if(P<0&&o===0)return"".concat(b,"L").concat(e,",").concat(n,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,"Z")}else b+="L".concat(e,",").concat(n,"Z");return b},uY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aj=t=>{var e=Lr(t,uY),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(o<i||u===c)return null;var h=Re("recharts-sector",f),p=o-i,y=mn(s,p,0,!0),w;return y>0&&Math.abs(u-c)<360?w=lY({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):w=sj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),x.createElement("path",D0({},ke(e,!0),{className:h,d:w}))};function cY(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:f}=e,h=yt(a,l,u,f),p=yt(a,l,c,f);r=h.x,i=h.y,o=p.x,s=p.y}else return oj(e);return[{x:r,y:i},{x:o,y:s}]}var lj={},uj={},cj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eb;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(cj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cj;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(uj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tb,n=uj;function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}t.range=r})(lj);var dY=lj.range;const dj=ti(dY);function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mb(t){let e,n,r;t.length!==2?(e=Co,n=(a,l)=>Co(t(a),l),r=(a,l)=>t(a)-l):(e=t===Co||t===fY?t:hY,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function hY(){return 0}function fj(t){return t===null?NaN:+t}function*pY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mY=Mb(Co),Xc=mY.right;Mb(fj).center;class QA extends Map{constructor(e,n=vY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XA(this,e))}has(e){return super.has(XA(this,e))}set(e,n){return super.set(gY(this,e),n)}delete(e){return super.delete(yY(this,e))}}function XA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wY(t=Co){if(t===Co)return hj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _Y=Math.sqrt(50),bY=Math.sqrt(10),xY=Math.sqrt(2);function qh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=_Y?10:o>=bY?5:o>=xY?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?qh(t,e,n*2):[a,l,u]}function j0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?qh(e,t,n):qh(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function M0(t,e,n){return e=+e,t=+t,n=+n,qh(t,e,n)[2]}function L0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M0(e,t,n):M0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hj:wY(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));pj(t,e,p,y,i)}const o=t[e];let s=n,a=r;for(au(t,n,e),i(t[r],o)>0&&au(t,n,r);s<a;){for(au(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?au(t,n,a):(++a,au(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function au(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EY(t,e,n){if(t=Float64Array.from(pY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZA(t);if(e>=1)return JA(t);var r,i=(r-1)*e,o=Math.floor(i),s=JA(pj(t,o).subarray(0,o+1)),a=ZA(t.subarray(o+1));return s+(a-s)*(i-o)}}function TY(t,e,n=fj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function SY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const V0=Symbol("implicit");function Lb(){var t=new QA,e=[],n=[],r=V0;function i(o){let s=t.get(o);if(s===void 0){if(r!==V0)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new QA;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lb(e,n).unknown(r)},gr.apply(i,arguments),i}function Vb(){var t=Lb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,w=p?r:i;o=(w-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(w-y-o*(h-l))*c,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var g=SY(h).map(function(v){return y+o*v});return n(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Vb(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},gr.apply(f(),arguments)}function mj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mj(e())},t}function AY(){return mj(Vb.apply(null,arguments).paddingInner(1))}function $b(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jc(){}var wc=.7,Gh=1/wc,Ua="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PY=/^#([0-9a-f]{3,8})$/,IY=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),CY=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),kY=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${_c}\\)$`),OY=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${_c}\\)$`),NY=new RegExp(`^hsl\\(${_c},${Xr},${Xr}\\)$`),RY=new RegExp(`^hsla\\(${_c},${Xr},${Xr},${_c}\\)$`),eP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$b(Jc,bc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tP,formatHex:tP,formatHex8:DY,formatHsl:jY,formatRgb:nP,toString:nP});function tP(){return this.rgb().formatHex()}function DY(){return this.rgb().formatHex8()}function jY(){return yj(this).formatHsl()}function nP(){return this.rgb().formatRgb()}function bc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rP(e):n===3?new Tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?af(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?af(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IY.exec(t))?new Tn(e[1],e[2],e[3],1):(e=CY.exec(t))?new Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kY.exec(t))?af(e[1],e[2],e[3],e[4]):(e=OY.exec(t))?af(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=NY.exec(t))?sP(e[1],e[2]/100,e[3]/100,1):(e=RY.exec(t))?sP(e[1],e[2]/100,e[3]/100,e[4]):eP.hasOwnProperty(t)?rP(eP[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function rP(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function af(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tn(t,e,n,r)}function MY(t){return t instanceof Jc||(t=bc(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function $0(t,e,n,r){return arguments.length===1?MY(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$b(Tn,$0,gj(Jc,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(Es(this.r),Es(this.g),Es(this.b),Yh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iP,formatHex:iP,formatHex8:LY,formatRgb:oP,toString:oP}));function iP(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function LY(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function oP(){const t=Yh(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function Yh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function sP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function yj(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Jc||(t=bc(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Sr(s,a,l,t.opacity)}function VY(t,e,n,r){return arguments.length===1?yj(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$b(Sr,VY,gj(Jc,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tn(Ay(t>=240?t-240:t+120,i,r),Ay(t,i,r),Ay(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr(aP(this.h),lf(this.s),lf(this.l),Yh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yh(this.opacity);return`${t===1?"hsl(":"hsla("}${aP(this.h)}, ${lf(this.s)*100}%, ${lf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aP(t){return t=(t||0)%360,t<0?t+360:t}function lf(t){return Math.max(0,Math.min(1,t||0))}function Ay(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ub=t=>()=>t;function $Y(t,e){return function(n){return t+n*e}}function UY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function FY(t){return(t=+t)==1?vj:function(e,n){return n-e?UY(e,n,t):Ub(isNaN(e)?n:e)}}function vj(t,e){var n=e-t;return n?$Y(t,n):Ub(isNaN(t)?e:t)}const lP=function t(e){var n=FY(e);function r(i,o){var s=n((i=$0(i)).r,(o=$0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=vj(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function BY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function zY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Pl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function HY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function KY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var U0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(U0.source,"g");function qY(t){return function(){return t}}function GY(t){return function(e){return t(e)+""}}function YY(t,e){var n=U0.lastIndex=Py.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=U0.exec(t))&&(i=Py.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Qh(r,i)})),n=Py.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?GY(l[0].x):qY(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ub(e):(n==="number"?Qh:n==="string"?(r=bc(e))?(e=r,lP):YY:e instanceof bc?lP:e instanceof Date?HY:zY(e)?BY:Array.isArray(e)?WY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KY:Qh)(t,e)}function Fb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function QY(t,e){e===void 0&&(e=t,t=Pl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function XY(t){return function(){return t}}function Xh(t){return+t}var uP=[0,1];function hn(t){return t}function F0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XY(isNaN(e)?NaN:.5)}function JY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ZY(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=F0(i,r),o=n(s,o)):(r=F0(r,i),o=n(o,s)),function(a){return o(r(a))}}function eQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=F0(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Xc(t,a,1,r)-1;return o[l](i[l](a))}}function Zc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=uP,e=uP,n=Pl,r,i,o,s=hn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==hn&&(s=JY(t[0],t[h-1])),a=h>2?eQ:ZY,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Qh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Xh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Fb,c()},f.clamp=function(h){return arguments.length?(s=h?!0:hn,c()):s!==hn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function Bb(){return Vm()(hn,hn)}function tQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function al(t){return t=Jh(Math.abs(t)),t?t[1]:NaN}function nQ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function rQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var iQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xc(t){if(!(e=iQ.exec(t)))throw new Error("invalid format: "+t);var e;return new zb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xc.prototype=zb.prototype;function zb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wj;function sQ(t,e){var n=Jh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jh(t,Math.max(0,e+o-1))[0]}function cP(t,e){var n=Jh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cP(t*100,e),r:cP,s:sQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fP(t){return t}var hP=Array.prototype.map,pP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aQ(t){var e=t.grouping===void 0||t.thousands===void 0?fP:nQ(hP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fP:rQ(hP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=xc(f);var h=f.fill,p=f.align,y=f.sign,w=f.symbol,g=f.zero,v=f.width,b=f.comma,E=f.precision,C=f.trim,k=f.type;k==="n"?(b=!0,k="g"):dP[k]||(E===void 0&&(E=12),C=!0,k="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=w==="$"?r:/[%p]/.test(k)?s:"",A=dP[k],P=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(N){var j=I,D=S,W,q,Y;if(k==="c")D=A(N)+D,N="";else{N=+N;var U=N<0||1/N<0;if(N=isNaN(N)?l:A(Math.abs(N),E),C&&(N=oQ(N)),U&&+N==0&&y!=="+"&&(U=!1),j=(U?y==="("?y:a:y==="-"||y==="("?"":y)+j,D=(k==="s"?pP[8+wj/3]:"")+D+(U&&y==="("?")":""),P){for(W=-1,q=N.length;++W<q;)if(Y=N.charCodeAt(W),48>Y||Y>57){D=(Y===46?i+N.slice(W+1):N.slice(W))+D,N=N.slice(0,W);break}}}b&&!g&&(N=e(N,1/0));var M=j.length+N.length+D.length,F=M<v?new Array(v-M+1).join(h):"";switch(b&&g&&(N=e(F+N,F.length?v-D.length:1/0),F=""),p){case"<":N=j+N+D+F;break;case"=":N=j+F+N+D;break;case"^":N=F.slice(0,M=F.length>>1)+j+N+D+F.slice(M);break;default:N=F+j+N+D;break}return o(N)}return R.toString=function(){return f+""},R}function c(f,h){var p=u((f=xc(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(al(h)/3)))*3,w=Math.pow(10,-y),g=pP[8+y/3];return function(v){return p(w*v)+g}}return{format:u,formatPrefix:c}}var uf,Wb,_j;lQ({thousands:",",grouping:[3],currency:["$",""]});function lQ(t){return uf=aQ(t),Wb=uf.format,_j=uf.formatPrefix,uf}function uQ(t){return Math.max(0,-al(Math.abs(t)))}function cQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(al(e)/3)))*3-al(Math.abs(t)))}function dQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,al(e)-al(t))+1}function bj(t,e,n,r){var i=L0(t,e,n),o;switch(r=xc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=cQ(i,s))&&(r.precision=o),_j(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=uQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Wb(r)}function Yo(t){var e=t.domain;return t.ticks=function(n){var r=e();return j0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=M0(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function xj(){var t=Bb();return t.copy=function(){return Zc(t,xj())},gr.apply(t,arguments),Yo(t)}function Ej(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ej(t).unknown(e)},t=arguments.length?Array.from(t,Xh):[0,1],Yo(n)}function Tj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function mP(t){return Math.log(t)}function gP(t){return Math.exp(t)}function fQ(t){return-Math.log(-t)}function hQ(t){return-Math.exp(-t)}function pQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mQ(t){return t===10?pQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yP(t){return(e,n)=>-t(-e,n)}function Hb(t){const e=t(mP,gP),n=e.domain;let r=10,i,o;function s(){return i=gQ(r),o=mQ(r),n()[0]<0?(i=yP(i),o=yP(o),t(fQ,hQ)):t(mP,gP),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),y,w;const g=a==null?10:+a;let v=[];if(!(r%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}v.length*2<g&&(v=j0(u,c,g))}else v=j0(h,p,Math.min(p-h,g)).map(o);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=xc(l)).precision==null&&(l.trim=!0),l=Wb(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(Tj(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function Sj(){const t=Hb(Vm()).domain([1,10]);return t.copy=()=>Zc(t,Sj()).base(t.base()),gr.apply(t,arguments),t}function vP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Kb(t){var e=1,n=t(vP(e),wP(e));return n.constant=function(r){return arguments.length?t(vP(e=+r),wP(e)):e},Yo(n)}function Aj(){var t=Kb(Vm());return t.copy=function(){return Zc(t,Aj()).constant(t.constant())},gr.apply(t,arguments)}function _P(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vQ(t){return t<0?-t*t:t*t}function qb(t){var e=t(hn,hn),n=1;function r(){return n===1?t(hn,hn):n===.5?t(yQ,vQ):t(_P(n),_P(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yo(e)}function Gb(){var t=qb(Vm());return t.copy=function(){return Zc(t,Gb()).exponent(t.exponent())},gr.apply(t,arguments),t}function wQ(){return Gb.apply(null,arguments).exponent(.5)}function bP(t){return Math.sign(t)*t*t}function _Q(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Pj(){var t=Bb(),e=[0,1],n=!1,r;function i(o){var s=_Q(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(bP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xh)).map(bP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Pj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},gr.apply(i,arguments),Yo(i)}function Ij(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=TY(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Xc(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Co),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Ij().domain(t).range(e).unknown(r)},gr.apply(o,arguments)}function Cj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Xc(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Cj().domain([t,e]).range(i).unknown(o)},gr.apply(Yo(s),arguments)}function kj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Xc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kj().domain(t).range(e).unknown(n)},gr.apply(i,arguments)}const Iy=new Date,Cy=new Date;function St(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>St(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iy.setTime(+o),Cy.setTime(+s),t(Iy),t(Cy),Math.floor(n(Iy,Cy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Zh=St(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?St(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zh);Zh.range;const gi=1e3,ar=gi*60,yi=ar*60,ji=yi*24,Yb=ji*7,xP=ji*30,ky=ji*365,gs=St(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());gs.range;const Qb=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());Qb.range;const Xb=St(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());Xb.range;const Jb=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());Jb.range;const Zb=St(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());Zb.range;const ed=St(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/ji,t=>t.getDate()-1);ed.range;const $m=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>t.getUTCDate()-1);$m.range;const Oj=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>Math.floor(t/ji));Oj.range;function Xs(t){return St(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/Yb)}const Um=Xs(0),ep=Xs(1),bQ=Xs(2),xQ=Xs(3),ll=Xs(4),EQ=Xs(5),TQ=Xs(6);Um.range;ep.range;bQ.range;xQ.range;ll.range;EQ.range;TQ.range;function Js(t){return St(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Yb)}const Fm=Js(0),tp=Js(1),SQ=Js(2),AQ=Js(3),ul=Js(4),PQ=Js(5),IQ=Js(6);Fm.range;tp.range;SQ.range;AQ.range;ul.range;PQ.range;IQ.range;const ex=St(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ex.range;const tx=St(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tx.range;const Mi=St(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mi.range;const Li=St(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Li.range;function Nj(t,e,n,r,i,o){const s=[[gs,1,gi],[gs,5,5*gi],[gs,15,15*gi],[gs,30,30*gi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,ji],[r,2,2*ji],[n,1,Yb],[e,1,xP],[e,3,3*xP],[t,1,ky]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),y=p?p.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,p=Mb(([,,g])=>g).right(s,h);if(p===s.length)return t.every(L0(u/ky,c/ky,f));if(p===0)return Zh.every(Math.max(L0(u,c,f),1));const[y,w]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(w)}return[a,l]}const[CQ,kQ]=Nj(Li,tx,Fm,Oj,Zb,Xb),[OQ,NQ]=Nj(Mi,ex,Um,ed,Jb,Qb);function Oy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=uu(i),c=cu(i),f=uu(o),h=cu(o),p=uu(s),y=cu(s),w=uu(a),g=cu(a),v=uu(l),b=cu(l),E={a:U,A:M,b:F,B:X,c:null,d:IP,e:IP,f:nX,g:fX,G:pX,H:ZQ,I:eX,j:tX,L:Rj,m:rX,M:iX,p:se,q:G,Q:OP,s:NP,S:oX,u:sX,U:aX,V:lX,w:uX,W:cX,x:null,X:null,y:dX,Y:hX,Z:mX,"%":kP},C={a:he,A:ln,b:Ze,B:yr,c:null,d:CP,e:CP,f:wX,g:CX,G:OX,H:gX,I:yX,j:vX,L:jj,m:_X,M:bX,p:vr,q:ng,Q:OP,s:NP,S:xX,u:EX,U:TX,V:SX,w:AX,W:PX,x:null,X:null,y:IX,Y:kX,Z:NX,"%":kP},k={a:R,A:N,b:j,B:D,c:W,d:AP,e:AP,f:YQ,g:SP,G:TP,H:PP,I:PP,j:HQ,L:GQ,m:WQ,M:KQ,p:P,q:zQ,Q:XQ,s:JQ,S:qQ,u:VQ,U:$Q,V:UQ,w:LQ,W:FQ,x:q,X:Y,y:SP,Y:TP,Z:BQ,"%":QQ};E.x=I(n,E),E.X=I(r,E),E.c=I(e,E),C.x=I(n,C),C.X=I(r,C),C.c=I(e,C);function I(re,fe){return function(pe){var H=[],At=-1,Pe=0,Mt=re.length,Ht,ii,ud;for(pe instanceof Date||(pe=new Date(+pe));++At<Mt;)re.charCodeAt(At)===37&&(H.push(re.slice(Pe,At)),(ii=EP[Ht=re.charAt(++At)])!=null?Ht=re.charAt(++At):ii=Ht==="e"?" ":"0",(ud=fe[Ht])&&(Ht=ud(pe,ii)),H.push(Ht),Pe=At+1);return H.push(re.slice(Pe,At)),H.join("")}}function S(re,fe){return function(pe){var H=lu(1900,void 0,1),At=A(H,re,pe+="",0),Pe,Mt;if(At!=pe.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(fe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Pe=Ny(lu(H.y,0,1)),Mt=Pe.getUTCDay(),Pe=Mt>4||Mt===0?tp.ceil(Pe):tp(Pe),Pe=$m.offset(Pe,(H.V-1)*7),H.y=Pe.getUTCFullYear(),H.m=Pe.getUTCMonth(),H.d=Pe.getUTCDate()+(H.w+6)%7):(Pe=Oy(lu(H.y,0,1)),Mt=Pe.getDay(),Pe=Mt>4||Mt===0?ep.ceil(Pe):ep(Pe),Pe=ed.offset(Pe,(H.V-1)*7),H.y=Pe.getFullYear(),H.m=Pe.getMonth(),H.d=Pe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Mt="Z"in H?Ny(lu(H.y,0,1)).getUTCDay():Oy(lu(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Mt+5)%7:H.w+H.U*7-(Mt+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Ny(H)):Oy(H)}}function A(re,fe,pe,H){for(var At=0,Pe=fe.length,Mt=pe.length,Ht,ii;At<Pe;){if(H>=Mt)return-1;if(Ht=fe.charCodeAt(At++),Ht===37){if(Ht=fe.charAt(At++),ii=k[Ht in EP?fe.charAt(At++):Ht],!ii||(H=ii(re,pe,H))<0)return-1}else if(Ht!=pe.charCodeAt(H++))return-1}return H}function P(re,fe,pe){var H=u.exec(fe.slice(pe));return H?(re.p=c.get(H[0].toLowerCase()),pe+H[0].length):-1}function R(re,fe,pe){var H=p.exec(fe.slice(pe));return H?(re.w=y.get(H[0].toLowerCase()),pe+H[0].length):-1}function N(re,fe,pe){var H=f.exec(fe.slice(pe));return H?(re.w=h.get(H[0].toLowerCase()),pe+H[0].length):-1}function j(re,fe,pe){var H=v.exec(fe.slice(pe));return H?(re.m=b.get(H[0].toLowerCase()),pe+H[0].length):-1}function D(re,fe,pe){var H=w.exec(fe.slice(pe));return H?(re.m=g.get(H[0].toLowerCase()),pe+H[0].length):-1}function W(re,fe,pe){return A(re,e,fe,pe)}function q(re,fe,pe){return A(re,n,fe,pe)}function Y(re,fe,pe){return A(re,r,fe,pe)}function U(re){return s[re.getDay()]}function M(re){return o[re.getDay()]}function F(re){return l[re.getMonth()]}function X(re){return a[re.getMonth()]}function se(re){return i[+(re.getHours()>=12)]}function G(re){return 1+~~(re.getMonth()/3)}function he(re){return s[re.getUTCDay()]}function ln(re){return o[re.getUTCDay()]}function Ze(re){return l[re.getUTCMonth()]}function yr(re){return a[re.getUTCMonth()]}function vr(re){return i[+(re.getUTCHours()>=12)]}function ng(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=I(re+="",E);return fe.toString=function(){return re},fe},parse:function(re){var fe=S(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=I(re+="",C);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=S(re+="",!0);return fe.toString=function(){return re},fe}}}var EP={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,DQ=/^%/,jQ=/[\\^$*+?|[\]().{}]/g;function Se(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function MQ(t){return t.replace(jQ,"\\$&")}function uu(t){return new RegExp("^(?:"+t.map(MQ).join("|")+")","i")}function cu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function UQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function FQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TP(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function WQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function PP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QQ(t,e,n){var r=DQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function XQ(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IP(t,e){return Se(t.getDate(),e,2)}function ZQ(t,e){return Se(t.getHours(),e,2)}function eX(t,e){return Se(t.getHours()%12||12,e,2)}function tX(t,e){return Se(1+ed.count(Mi(t),t),e,3)}function Rj(t,e){return Se(t.getMilliseconds(),e,3)}function nX(t,e){return Rj(t,e)+"000"}function rX(t,e){return Se(t.getMonth()+1,e,2)}function iX(t,e){return Se(t.getMinutes(),e,2)}function oX(t,e){return Se(t.getSeconds(),e,2)}function sX(t){var e=t.getDay();return e===0?7:e}function aX(t,e){return Se(Um.count(Mi(t)-1,t),e,2)}function Dj(t){var e=t.getDay();return e>=4||e===0?ll(t):ll.ceil(t)}function lX(t,e){return t=Dj(t),Se(ll.count(Mi(t),t)+(Mi(t).getDay()===4),e,2)}function uX(t){return t.getDay()}function cX(t,e){return Se(ep.count(Mi(t)-1,t),e,2)}function dX(t,e){return Se(t.getFullYear()%100,e,2)}function fX(t,e){return t=Dj(t),Se(t.getFullYear()%100,e,2)}function hX(t,e){return Se(t.getFullYear()%1e4,e,4)}function pX(t,e){var n=t.getDay();return t=n>=4||n===0?ll(t):ll.ceil(t),Se(t.getFullYear()%1e4,e,4)}function mX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Se(e/60|0,"0",2)+Se(e%60,"0",2)}function CP(t,e){return Se(t.getUTCDate(),e,2)}function gX(t,e){return Se(t.getUTCHours(),e,2)}function yX(t,e){return Se(t.getUTCHours()%12||12,e,2)}function vX(t,e){return Se(1+$m.count(Li(t),t),e,3)}function jj(t,e){return Se(t.getUTCMilliseconds(),e,3)}function wX(t,e){return jj(t,e)+"000"}function _X(t,e){return Se(t.getUTCMonth()+1,e,2)}function bX(t,e){return Se(t.getUTCMinutes(),e,2)}function xX(t,e){return Se(t.getUTCSeconds(),e,2)}function EX(t){var e=t.getUTCDay();return e===0?7:e}function TX(t,e){return Se(Fm.count(Li(t)-1,t),e,2)}function Mj(t){var e=t.getUTCDay();return e>=4||e===0?ul(t):ul.ceil(t)}function SX(t,e){return t=Mj(t),Se(ul.count(Li(t),t)+(Li(t).getUTCDay()===4),e,2)}function AX(t){return t.getUTCDay()}function PX(t,e){return Se(tp.count(Li(t)-1,t),e,2)}function IX(t,e){return Se(t.getUTCFullYear()%100,e,2)}function CX(t,e){return t=Mj(t),Se(t.getUTCFullYear()%100,e,2)}function kX(t,e){return Se(t.getUTCFullYear()%1e4,e,4)}function OX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ul(t):ul.ceil(t),Se(t.getUTCFullYear()%1e4,e,4)}function NX(){return"+0000"}function kP(){return"%"}function OP(t){return+t}function NP(t){return Math.floor(+t/1e3)}var aa,Lj,Vj;RX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RX(t){return aa=RQ(t),Lj=aa.format,aa.parse,Vj=aa.utcFormat,aa.utcParse,aa}function DX(t){return new Date(t)}function jX(t){return t instanceof Date?+t:+new Date(+t)}function nx(t,e,n,r,i,o,s,a,l,u){var c=Bb(),f=c.invert,h=c.domain,p=u(".%L"),y=u(":%S"),w=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),b=u("%b %d"),E=u("%B"),C=u("%Y");function k(I){return(l(I)<I?p:a(I)<I?y:s(I)<I?w:o(I)<I?g:r(I)<I?i(I)<I?v:b:n(I)<I?E:C)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?h(Array.from(I,jX)):h().map(DX)},c.ticks=function(I){var S=h();return t(S[0],S[S.length-1],I??10)},c.tickFormat=function(I,S){return S==null?k:u(S)},c.nice=function(I){var S=h();return(!I||typeof I.range!="function")&&(I=e(S[0],S[S.length-1],I??10)),I?h(Tj(S,I)):c},c.copy=function(){return Zc(c,nx(t,e,n,r,i,o,s,a,l,u))},c}function MX(){return gr.apply(nx(OQ,NQ,Mi,ex,Um,ed,Jb,Qb,gs,Lj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LX(){return gr.apply(nx(CQ,kQ,Li,tx,Fm,$m,Zb,Xb,gs,Vj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bm(){var t=0,e=1,n,r,i,o,s=hn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),u):[s(0),s(1)]}}return u.range=c(Pl),u.rangeRound=c(Fb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $j(){var t=Yo(Bm()(hn));return t.copy=function(){return Qo(t,$j())},Bi.apply(t,arguments)}function Uj(){var t=Hb(Bm()).domain([1,10]);return t.copy=function(){return Qo(t,Uj()).base(t.base())},Bi.apply(t,arguments)}function Fj(){var t=Kb(Bm());return t.copy=function(){return Qo(t,Fj()).constant(t.constant())},Bi.apply(t,arguments)}function rx(){var t=qb(Bm());return t.copy=function(){return Qo(t,rx()).exponent(t.exponent())},Bi.apply(t,arguments)}function VX(){return rx.apply(null,arguments).exponent(.5)}function Bj(){var t=[],e=hn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>EY(t,o/r))},n.copy=function(){return Bj(e).domain(t)},Bi.apply(n,arguments)}function zm(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=hn,c,f=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(f?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(w){return arguments.length?(f=!!w,p):f},p.interpolator=function(w){return arguments.length?(u=w,p):u};function y(w){return function(g){var v,b,E;return arguments.length?([v,b,E]=g,u=QY(w,[v,b,E]),p):[u(0),u(.5),u(1)]}}return p.range=y(Pl),p.rangeRound=y(Fb),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function zj(){var t=Yo(zm()(hn));return t.copy=function(){return Qo(t,zj())},Bi.apply(t,arguments)}function Wj(){var t=Hb(zm()).domain([.1,1,10]);return t.copy=function(){return Qo(t,Wj()).base(t.base())},Bi.apply(t,arguments)}function Hj(){var t=Kb(zm());return t.copy=function(){return Qo(t,Hj()).constant(t.constant())},Bi.apply(t,arguments)}function ix(){var t=qb(zm());return t.copy=function(){return Qo(t,ix()).exponent(t.exponent())},Bi.apply(t,arguments)}function $X(){return ix.apply(null,arguments).exponent(.5)}const xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vb,scaleDiverging:zj,scaleDivergingLog:Wj,scaleDivergingPow:ix,scaleDivergingSqrt:$X,scaleDivergingSymlog:Hj,scaleIdentity:Ej,scaleImplicit:V0,scaleLinear:xj,scaleLog:Sj,scaleOrdinal:Lb,scalePoint:AY,scalePow:Gb,scaleQuantile:Ij,scaleQuantize:Cj,scaleRadial:Pj,scaleSequential:$j,scaleSequentialLog:Uj,scaleSequentialPow:rx,scaleSequentialQuantile:Bj,scaleSequentialSqrt:VX,scaleSequentialSymlog:Fj,scaleSqrt:wQ,scaleSymlog:Aj,scaleThreshold:kj,scaleTime:MX,scaleUtc:LX,tickFormat:bj},Symbol.toStringTag,{value:"Module"}));var Zs=t=>t.chartData,ox=V([Zs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Kj=(t,e,n,r)=>r?ox(t):Zs(t);function cl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Yn(e)&&Yn(n))return!0}return!1}function RP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function UX(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Yn(n))i=n;else if(typeof n=="function")return;if(Yn(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(cl(s))return s}}function FX(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(cl(r))return RP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,a;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ne(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&OA.test(i)){var l=OA.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(a=Math.max(...e));else if(ne(o))a=o;else if(typeof o=="function")try{e!=null&&(a=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&NA.test(o)){var c=NA.exec(o);if(c==null||e==null)a=void 0;else{var f=+c[1];a=e[1]+f}}else a=e==null?void 0:e[1];var h=[s,a];if(cl(h))return e==null?h:RP(h,e,n)}}}var Il=1e9,BX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ax,Ke=!0,hr="[DecimalError] ",Ts=hr+"Invalid argument: ",sx=hr+"Exponent out of range: ",Cl=Math.floor,ls=Math.pow,zX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,It=1e7,Be=7,qj=9007199254740991,np=Cl(qj/Be),te={};te.absoluteValue=te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};te.comparedTo=te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};te.decimalPlaces=te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Be;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(t){return Ei(this,new this.constructor(t))};te.dividedToIntegerBy=te.idiv=function(t){var e=this,n=e.constructor;return je(Ei(e,new n(t),0,1),n.precision)};te.equals=te.eq=function(t){return!this.cmp(t)};te.exponent=function(){return wt(this)};te.greaterThan=te.gt=function(t){return this.cmp(t)>0};te.greaterThanOrEqualTo=te.gte=function(t){return this.cmp(t)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(t){return this.cmp(t)<0};te.lessThanOrEqualTo=te.lte=function(t){return this.cmp(t)<1};te.logarithm=te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(Ke=!1,e=Ei(Ec(n,o),Ec(t,o),o),Ke=!0,je(e,i))};te.minus=te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qj(e,t):Gj(e,(t.s=-t.s,t))};te.modulo=te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(Ke=!1,e=Ei(n,t,0,1).times(t),Ke=!0,n.minus(e)):je(new r(n),i)};te.naturalExponential=te.exp=function(){return Yj(this)};te.naturalLogarithm=te.ln=function(){return Ec(this)};te.negated=te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};te.plus=te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gj(e,t):Qj(e,(t.s=-t.s,t))};te.precision=te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=wt(i)+1,r=i.d.length-1,n=r*Be+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};te.squareRoot=te.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=wt(a),Ke=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ei(a,o,s+2)).times(.5),zr(o.d).slice(0,s)===(e=zr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(je(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Ke=!0,je(r,n)};te.times=te.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+e,o[i--]=a%It|0,e=a/It|0;o[i]=(o[i]+e)%It|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ke?je(t,f.precision):t};te.toDecimalPlaces=te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,Il),e===void 0?e=r.rounding:ei(e,0,8),je(n,t+wt(n)+1,e))};te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fs(r,!0):(ei(t,0,Il),e===void 0?e=i.rounding:ei(e,0,8),r=je(new i(r),t+1,e),n=Fs(r,!0,t+1)),n};te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Fs(i):(ei(t,0,Il),e===void 0?e=o.rounding:ei(e,0,8),r=je(new o(i),t+wt(i)+1,e),n=Fs(r.abs(),!1,t+wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var t=this,e=t.constructor;return je(new e(t),wt(t)+1,e.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Vn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Vn))return a;if(r=l.precision,t.eq(Vn))return je(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=qj){for(i=new l(Vn),e=Math.ceil(r/Be+4),Ke=!1;n%2&&(i=i.times(a),jP(i.d,e)),n=Cl(n/2),n!==0;)a=a.times(a),jP(a.d,e);return Ke=!0,t.s<0?new l(Vn).div(i):je(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Ke=!1,i=t.times(Ec(a,r+u)),Ke=!0,i=Yj(i),i.s=o,i};te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wt(i),r=Fs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ei(t,1,Il),e===void 0?e=o.rounding:ei(e,0,8),i=je(new o(i),t,e),n=wt(i),r=Fs(i,t<=n||n<=o.toExpNeg,t)),r};te.toSignificantDigits=te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,Il),e===void 0?e=r.rounding:ei(e,0,8)),je(new r(n),t,e)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),n=t.constructor;return Fs(t,e<=n.toExpNeg||e>=n.toExpPos)};function Gj(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ke?je(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Be),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/It|0,l[o]%=It;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Ke?je(e,f):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function zr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Be-r.length,n&&(o+=to(n)),o+=r;s=t[e],r=s+"",n=Be-r.length,n&&(o+=to(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ei=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%It|0,s=o/It|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*It+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,p,y,w,g,v,b,E,C,k,I,S,A,P=r.constructor,R=r.s==i.s?1:-1,N=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,S=j.length,k=N.length,p=new P(R),y=p.d=[],u=0;j[u]==(N[u]||0);)++u;if(j[u]>(N[u]||0)&&--l,o==null?b=o=P.precision:s?b=o+(wt(r)-wt(i))+1:b=o,b<0)return new P(0);if(b=b/Be+2|0,u=0,S==1)for(c=0,j=j[0],b++;(u<k||c)&&b--;u++)E=c*It+(N[u]||0),y[u]=E/j|0,c=E%j|0;else{for(c=It/(j[0]+1)|0,c>1&&(j=t(j,c),N=t(N,c),S=j.length,k=N.length),C=S,w=N.slice(0,S),g=w.length;g<S;)w[g++]=0;A=j.slice(),A.unshift(0),I=j[0],j[1]>=It/2&&++I;do c=0,a=e(j,w,S,g),a<0?(v=w[0],S!=g&&(v=v*It+(w[1]||0)),c=v/I|0,c>1?(c>=It&&(c=It-1),f=t(j,c),h=f.length,g=w.length,a=e(f,w,h,g),a==1&&(c--,n(f,S<h?A:j,h))):(c==0&&(a=c=1),f=j.slice()),h=f.length,h<g&&f.unshift(0),n(w,f,g),a==-1&&(g=w.length,a=e(j,w,S,g),a<1&&(c++,n(w,S<g?A:j,g))),g=w.length):a===0&&(c++,w=[0]),y[u++]=c,a&&w[0]?w[g++]=N[C]||0:(w=[N[C]],g=1);while((C++<k||w[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=l,je(p,s?o+wt(p)+1:o)}}();function Yj(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(wt(t)>16)throw Error(sx+wt(t));if(!t.s)return new c(Vn);for(e==null?(Ke=!1,a=f):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Vn),c.precision=a;;){if(i=je(i.times(t),a),n=n.times(++l),s=o.plus(Ei(i,n,a)),zr(s.d).slice(0,a)===zr(o.d).slice(0,a)){for(;u--;)o=je(o.times(o),a);return c.precision=f,e==null?(Ke=!0,je(o,f)):o}o=s}}function wt(t){for(var e=t.e*Be,n=t.d[0];n>=10;n/=10)e++;return e}function Ry(t,e,n){if(e>t.LN10.sd())throw Ke=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return je(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function Ec(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,p=t,y=p.d,w=p.constructor,g=w.precision;if(p.s<1)throw Error(hr+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new w(0);if(e==null?(Ke=!1,u=g):u=e,p.eq(10))return e==null&&(Ke=!0),Ry(w,u);if(u+=h,w.precision=u,n=zr(y),r=n.charAt(0),o=wt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;o=wt(p),r>1?(p=new w("0."+n),o++):p=new w(r+"."+n.slice(1))}else return l=Ry(w,u+2,g).times(o+""),p=Ec(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=g,e==null?(Ke=!0,je(p,g)):p;for(a=s=p=Ei(p.minus(Vn),p.plus(Vn),u),c=je(p.times(p),u),i=3;;){if(s=je(s.times(c),u),l=a.plus(Ei(s,new w(i),u)),zr(l.d).slice(0,u)===zr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Ry(w,u+2,g).times(o+""))),a=Ei(a,new w(f),u),w.precision=g,e==null?(Ke=!0,je(a,g)):a;a=l,i+=2}}function DP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Cl(n/Be),t.d=[],r=(n+1)%Be,n<0&&(r+=Be),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Be;r<i;)t.d.push(+e.slice(r,r+=Be));e=e.slice(r),r=Be-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ke&&(t.e>np||t.e<-np))throw Error(sx+n)}else t.s=0,t.e=0,t.d=[0];return t}function je(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Be,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Be),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Be,i=r-Be+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=wt(t),f.length=1,e=e-o-1,f[0]=ls(10,(Be-e%Be)%Be),t.e=Cl(-e/Be)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ls(10,Be-r),f[c]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==It&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=It)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ke&&(t.e>np||t.e<-np))throw Error(sx+wt(t));return t}function Qj(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ke?je(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/Be),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=It-1;--l[o],l[i]+=It}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ke?je(e,p):e):new h(0)}function Fs(t,e,n){var r,i=wt(t),o=zr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+to(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+to(-i-1)+o,n&&(r=n-s)>0&&(o+=to(r))):i>=s?(o+=to(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+to(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=to(r))),t.s<0?"-"+o:o}function jP(t,e){if(t.length>e)return t.length=e,!0}function Xj(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return DP(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,zX.test(o))DP(s,o);else throw Error(Ts+o)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xj,i.config=i.set=WX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function WX(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Cl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var ax=Xj(BX);Vn=new ax(1);const Ce=ax;var HX=t=>t,Jj={"@@functional/placeholder":!0},Zj=t=>t===Jj,MP=t=>function e(){return arguments.length===0||arguments.length===1&&Zj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eM=(t,e)=>t===1?e:MP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==Jj).length;return o>=t?e(...r):eM(t-o,MP(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>Zj(c)?a.shift():c);return e(...u,...a)}))}),Wm=t=>eM(t.length,t),B0=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},KX=Wm((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),qX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return HX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},z0=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tM=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,a)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function nM(t){var e;return t===0?e=1:e=Math.floor(new Ce(t).abs().log(10).toNumber())+1,e}function rM(t,e,n){for(var r=new Ce(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Wm((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Wm((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Wm((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var iM=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},oM=(t,e,n)=>{if(t.lte(0))return new Ce(0);var r=nM(t.toNumber()),i=new Ce(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ce(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?new Ce(l.toNumber()):new Ce(Math.ceil(l.toNumber()))},GX=(t,e,n)=>{var r=new Ce(1),i=new Ce(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ce(10).pow(nM(t)-1),i=new Ce(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ce(Math.floor(t)))}else t===0?i=new Ce(Math.floor((e-1)/2)):n||(i=new Ce(Math.floor(t)));var s=Math.floor((e-1)/2),a=qX(KX(l=>i.add(new Ce(l-s).mul(r)).toNumber()),B0);return a(0,e)},sM=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var s=oM(new Ce(n).sub(e).div(r-1),i,o),a;e<=0&&n>=0?a=new Ce(0):(a=new Ce(e).add(n).div(2),a=a.sub(new Ce(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new Ce(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?sM(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new Ce(l).mul(s)),tickMax:a.add(new Ce(u).mul(s))})};function YX(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=iM([e,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...B0(0,r-1).map(()=>1/0)]:[...B0(0,r-1).map(()=>-1/0),a];return e>n?z0(l):l}if(s===a)return GX(s,r,i);var{step:u,tickMin:c,tickMax:f}=sM(s,a,o,i,0),h=rM(c,f.add(new Ce(.1).mul(u)),u);return e>n?z0(h):h}function QX(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=iM([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(e,2),l=oM(new Ce(s).sub(o).div(a-1),i,0),u=[...rM(new Ce(o),new Ce(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?z0(u):u}var XX=tM(YX),JX=tM(QX),aM=t=>t.rootProps.maxBarSize,ZX=t=>t.rootProps.barGap,lM=t=>t.rootProps.barCategoryGap,eJ=t=>t.rootProps.barSize,td=t=>t.rootProps.stackOffset,lx=t=>t.options.chartName,ux=t=>t.rootProps.syncId,uM=t=>t.rootProps.syncMethod,cx=t=>t.options.eventEmitter,ui={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Hm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},tJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:ui.type,unit:void 0},nJ={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:Dn.type,unit:void 0},rJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},iJ={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,ticks:void 0,type:"category",unit:void 0},dx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?rJ:tJ,fx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?iJ:nJ,Km=t=>t.polarOptions,hx=V([Ui,Fi,Tt],jD),cM=V([Km,hx],(t,e)=>{if(t!=null)return mn(t.innerRadius,e,0)}),dM=V([Km,hx],(t,e)=>{if(t!=null)return mn(t.outerRadius,e,e*.8)}),oJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},fM=V([Km],oJ);V([dx,fM],Hm);var hM=V([hx,cM,dM],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([fx,hM],Hm);var sJ=V([Ne,Km,cM,dM,Ui,Fi],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=e;return{cx:mn(s,i,i/2),cy:mn(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),ct=(t,e)=>e,nd=(t,e,n)=>n;function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zi=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??kn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:W0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jm},Xo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??On},cJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},px=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??cJ},dt=(t,e,n)=>{switch(e){case"xAxis":return zi(t,n);case"yAxis":return Xo(t,n);case"zAxis":return px(t,n);case"angleAxis":return dx(t,n);case"radiusAxis":return fx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dJ=(t,e,n)=>{switch(e){case"xAxis":return zi(t,n);case"yAxis":return Xo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rd=(t,e,n)=>{switch(e){case"xAxis":return zi(t,n);case"yAxis":return Xo(t,n);case"angleAxis":return dx(t,n);case"radiusAxis":return fx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pM=t=>t.graphicalItems.countOfBars>0;function mx(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var gx=t=>t.graphicalItems.cartesianItems,fJ=V([ct,nd],mx),yx=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),id=V([gx,dt,fJ],yx),mM=t=>t.filter(e=>e.stackId===void 0),hJ=V([id],mM),vx=t=>t.map(e=>e.data).filter(Boolean).flat(1),pJ=V([id],vx),wx=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qm=V([pJ,Kj],wx),_x=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:rt(i,r)}))):t.map(r=>({value:r})),Gm=V([qm,dt,id],_x);function gM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ea(t){return t.filter(e=>Zr(e)||e instanceof Date).map(Number).filter(e=>Kn(e)===!1)}function mJ(t,e,n){return!n||typeof e!="number"||Kn(e)?[]:n.length?ea(n.flatMap(r=>{var i=rt(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Yn(o)||!Yn(s)))return[e-o,e+s]})):[]}var yM=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(u=>u.dataKey);return[s,{stackedData:Vq(t,l,n),graphicalItems:a}]}))},H0=V([qm,id,td],yM),vM=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=Bq(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},gJ=V([H0,Zs,ct],vM),wM=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var s,a,l=(s=o.errorBars)===null||s===void 0?void 0:s.filter(c=>gM(r,c)),u=rt(i,(a=e.dataKey)!==null&&a!==void 0?a:o.dataKey);return{value:u,errorDomain:mJ(i,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:rt(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),yJ=V(qm,dt,hJ,ct,wM);function vJ(t){var{value:e}=t;if(Zr(e)||e instanceof Date)return e}var wJ=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ea(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_J=(t,e,n)=>{var r=t.map(vJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&vR(r))?dj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},bx=t=>{var e;if(t==null||!("domain"in t))return W0;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ea(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:W0},xx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},_M=t=>t.referenceElements.dots,kl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),bJ=V([_M,ct,nd],kl),bM=t=>t.referenceElements.areas,xJ=V([bM,ct,nd],kl),xM=t=>t.referenceElements.lines,EJ=V([xM,ct,nd],kl),EM=(t,e)=>{var n=ea(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TJ=V(bJ,ct,EM),TM=(t,e)=>{var n=ea(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SJ=V([xJ,ct],TM),SM=(t,e)=>{var n=ea(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},AJ=V(EJ,ct,SM),PJ=V(TJ,AJ,SJ,(t,e,n)=>xx(t,n,e)),AM=V([dt],bx),Ex=(t,e,n,r,i)=>{var o=UX(e,t.allowDataOverflow);return o??FX(e,xx(n,i,wJ(r)),t.allowDataOverflow)},IJ=V([dt,AM,gJ,yJ,PJ],Ex),CJ=[0,1],Tx=(t,e,n,r,i,o,s)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:a,type:l}=t,u=Qs(e,o);return u&&a==null?dj(0,n.length):l==="category"?_J(r,t,u):i==="expand"?CJ:s}},Sx=V([dt,Ne,qm,Gm,td,ct,IJ],Tx),PM=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(Gc(o));return a in xu?a:"point"}}},Ol=V([dt,Ne,pM,lx,ct],PM);function kJ(t){if(t!=null){if(t in xu)return xu[t]();var e="scale".concat(Gc(t));if(e in xu)return xu[e]()}}function Ax(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=kJ(e);if(i!=null){var o=i.domain(n).range(r);return Rq(o),o}}}var Px=(t,e,n)=>{var r=bx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cl(t))return XX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&cl(t))return JX(t,e.tickCount,e.allowDecimals)}},Ix=V([Sx,rd,Ol],Px),Cx=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&cl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return e},OJ=V([dt,Sx,Ix,ct],Cx),NJ=V(Gm,dt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ea(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),IM=V(NJ,Ne,lM,Tt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Yn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=mn(n,t*o),a=t*o/2;return a-s-(a-s)/o*s}return 0}),RJ=(t,e)=>{var n=zi(t,e);return n==null||typeof n.padding!="string"?0:IM(t,"xAxis",e,n.padding)},DJ=(t,e)=>{var n=Xo(t,e);return n==null||typeof n.padding!="string"?0:IM(t,"yAxis",e,n.padding)},jJ=V(zi,RJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),MJ=V(Xo,DJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),LJ=V([Tt,jJ,Lm,Mm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),VJ=V([Tt,Ne,MJ,Lm,Mm,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),od=(t,e,n,r)=>{var i;switch(e){case"xAxis":return LJ(t,n,r);case"yAxis":return VJ(t,n,r);case"zAxis":return(i=px(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return fM(t);case"radiusAxis":return hM(t,n);default:return}},CM=V([dt,od],Hm),Nl=V([dt,Ol,OJ,CM],Ax);V(id,ct,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>gM(e,n)));function kM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ym=(t,e)=>e,Qm=(t,e,n)=>n,$J=V(Ob,Ym,Qm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kM)),UJ=V(Nb,Ym,Qm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kM)),OM=(t,e)=>({width:t.width,height:e.height}),FJ=(t,e)=>{var n=typeof e.width=="number"?e.width:jm;return{width:n,height:t.height}},NM=V(Tt,zi,OM),BJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},WJ=V(Fi,Tt,$J,Ym,Qm,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=OM(e,a);s==null&&(s=BJ(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),HJ=V(Ui,Tt,UJ,Ym,Qm,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=FJ(e,a);s==null&&(s=zJ(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),KJ=(t,e)=>{var n=Tt(t),r=zi(t,e);if(r!=null){var i=WJ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},qJ=(t,e)=>{var n=Tt(t),r=Xo(t,e);if(r!=null){var i=HJ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},RM=V(Tt,Xo,(t,e)=>{var n=typeof e.width=="number"?e.width:jm;return{width:n,height:t.height}}),VP=(t,e,n)=>{switch(e){case"xAxis":return NM(t,n).width;case"yAxis":return RM(t,n).height;default:return}},DM=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=Qs(t,r),l=e.map(u=>u.value);if(s&&a&&o==="category"&&i&&vR(l))return l}},kx=V([Ne,Gm,dt,ct],DM),jM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Qs(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(a=>a.value)}},Ox=V([Ne,Gm,rd,ct],jM),$P=V([Ne,dJ,Ol,Nl,kx,Ox,od,Ix,ct],(t,e,n,r,i,o,s,a,l)=>{if(e==null)return null;var u=Qs(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}),GJ=(t,e,n,r,i,o,s,a,l)=>{if(!(e==null||r==null)){var u=Qs(t,l),{type:c,ticks:f,tickCount:h}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=c==="category"&&r.bandwidth?r.bandwidth()/p:0;y=l==="angleAxis"&&o!=null&&o.length>=2?Ot(o[0]-o[1])*2*y:y;var w=f||i;if(w){var g=w.map((v,b)=>{var E=s?s.indexOf(v):v;return{index:b,coordinate:r(E)+y,value:v,offset:y}});return g.filter(v=>!Kn(v.coordinate))}return u&&a?a.map((v,b)=>({coordinate:r(v)+y,value:v,index:b,offset:y})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+y,value:v,offset:y})):r.domain().map((v,b)=>({coordinate:r(v)+y,value:s?s[v]:v,index:b,offset:y}))}},MM=V([Ne,rd,Ol,Nl,Ix,od,kx,Ox,ct],GJ),YJ=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=Qs(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ot(r[0]-r[1])*2*u:u,a&&o?o.map((c,f)=>({coordinate:n(c)+u,value:c,index:f,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,f)=>({coordinate:n(c)+u,value:i?i[c]:c,index:f,offset:u}))}},dl=V([Ne,rd,Nl,od,kx,Ox,ct],YJ),Uo=V(dt,Nl,(t,e)=>{if(!(t==null||e==null))return rp(rp({},t),{},{scale:e})}),QJ=V([dt,Ol,Sx,CM],Ax);V((t,e,n)=>px(t,n),QJ,(t,e)=>{if(!(t==null||e==null))return rp(rp({},t),{},{scale:e})});var XJ=V([Ne,Ob,Nb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LM=t=>t.options.defaultTooltipEventType,VM=t=>t.options.validateTooltipEventTypes;function $M(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Nx(t,e){var n=LM(t),r=VM(t);return $M(e,n,r)}function JJ(t){return ie(e=>Nx(e,t))}var UM=(t,e)=>{var n,r=Number(e);if(!(Kn(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ZJ=t=>t.tooltip.settings,uo={active:!1,index:null,dataKey:void 0,coordinate:void 0},eZ={itemInteraction:{click:uo,hover:uo},axisInteraction:{click:uo,hover:uo},keyboardInteraction:uo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FM=mr({name:"tooltip",initialState:eZ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=xi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:tZ,removeTooltipEntrySettings:nZ,setTooltipSettingsState:rZ,setActiveMouseOverItemIndex:BM,mouseLeaveItem:iZ,mouseLeaveChart:zM,setActiveClickItemIndex:oZ,setMouseOverAxisIndex:WM,setMouseClickAxisIndex:sZ,setSyncInteraction:K0,setKeyboardInteraction:q0}=FM.actions,aZ=FM.reducer;function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function fZ(t){return t.index!=null}var HM=(t,e,n,r)=>{if(e==null)return uo;var i=dZ(t,e,n);if(i==null)return uo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(fZ(i)){if(o)return cf(cf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return cf(cf({},uo),{},{coordinate:i.coordinate})},Rx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Yn(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},KM=(t,e,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},qM=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},sd=t=>t.options.tooltipPayloadSearcher,Rl=t=>t.tooltip;function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gZ(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function yZ(t,e){return t??e}var GM=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((h,p)=>{var y,{dataDefinedOnItem:w,settings:g}=p,v=yZ(w,a),b=gZ(v,u,c),E=(y=g==null?void 0:g.dataKey)!==null&&y!==void 0?y:r==null?void 0:r.dataKey,C=g==null?void 0:g.nameKey,k;if(r!=null&&r.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?k=jW(b,r.dataKey,i):k=o(b,e,l,C),Array.isArray(k))k.forEach(S=>{var A=BP(BP({},g),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(RA({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:rt(S.payload,S.dataKey),name:S.name}))});else{var I;h.push(RA({tooltipEntrySettings:g,dataKey:E,payload:k,value:rt(k,E),name:(I=rt(k,C))!==null&&I!==void 0?I:g==null?void 0:g.name}))}return h},f)}},jt=t=>{var e=Ne(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dl=t=>t.tooltip.settings.axisId,Wt=t=>{var e=jt(t),n=Dl(t);return rd(t,e,n)},Dx=V([Wt,Ne,pM,lx,jt],PM),vZ=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wZ=V([jt,Dl],mx),Xm=V([vZ,Wt,wZ],yx),_Z=V([Xm],vx),ta=V([_Z,Zs],wx),jx=V([ta,Wt,Xm],_x),bZ=V([Wt],bx),xZ=V([ta,Xm,td],yM),EZ=V([xZ,Zs,jt],vM),TZ=V([Xm],mM),SZ=V([ta,Wt,TZ,jt],wM),AZ=V([_M,jt,Dl],kl),PZ=V([AZ,jt],EM),IZ=V([bM,jt,Dl],kl),CZ=V([IZ,jt],TM),kZ=V([xM,jt,Dl],kl),OZ=V([kZ,jt],SM),NZ=V([PZ,OZ,CZ],xx),RZ=V([Wt,bZ,EZ,SZ,NZ],Ex),YM=V([Wt,Ne,ta,jx,td,jt,RZ],Tx),DZ=V([YM,Wt,Dx],Px),jZ=V([Wt,YM,DZ,jt],Cx),QM=t=>{var e=jt(t),n=Dl(t),r=!1;return od(t,e,n,r)},XM=V([Wt,QM],Hm),JM=V([Wt,Dx,jZ,XM],Ax),MZ=V([Ne,jx,Wt,jt],DM),LZ=V([Ne,jx,Wt,jt],jM),VZ=(t,e,n,r,i,o,s,a)=>{if(e){var{type:l}=e,u=Qs(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ot(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:o?o[h]:h,index:p,offset:f}))}}},Wi=V([Ne,Wt,Dx,JM,QM,MZ,LZ,jt],VZ),Mx=V([LM,VM,ZJ],(t,e,n)=>$M(n.shared,t,e)),ZM=t=>t.tooltip.settings.trigger,Lx=t=>t.tooltip.settings.defaultIndex,Jm=V([Rl,Mx,ZM,Lx],HM),Bs=V([Jm,ta],Rx),eL=V([Wi,Bs],UM),tL=V([Jm],t=>{if(t)return t.dataKey}),nL=V([Rl,Mx,ZM,Lx],qM),$Z=V([Ui,Fi,Ne,Tt,Wi,Lx,nL,sd],KM),UZ=V([Jm,$Z],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),FZ=V([Jm],t=>t.active),BZ=V([nL,Bs,Zs,Wt,eL,sd,Mx],GM);V([BZ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){zZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=HZ(t,"string");return typeof e=="symbol"?e:e+""}function HZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KZ=()=>ie(Wt),qZ=()=>{var t=KZ(),e=ie(Wi),n=ie(JM);return kb(WP(WP({},t),{},{scale:n}),e)},GZ=()=>ie(lx),Vx=(t,e)=>e,rL=(t,e,n)=>n,$x=(t,e,n,r)=>r,YZ=V(Wi,t=>Pm(t,e=>e.coordinate)),Ux=V([Rl,Vx,rL,$x],HM),iL=V([Ux,ta],Rx),QZ=(t,e,n)=>{if(e!=null){var r=Rl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},oL=V([Rl,Vx,rL,$x],qM),ip=V([Ui,Fi,Ne,Tt,Wi,$x,oL,sd],KM),XZ=V([Ux,ip],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),sL=V(Wi,iL,UM),JZ=V([oL,iL,Zs,Wt,sL,sd,Vx],GM),ZZ=V([Ux],t=>({isActive:t.active,activeIndex:t.index})),eee=(t,e,n,r,i,o,s,a)=>{if(!(!t||!e||!r||!i||!o)){var l=zq(t.chartX,t.chartY,e,n,a);if(l){var u=Hq(l,e),c=Oq(u,s,o,r,i),f=Wq(e,o,c,l);return{activeIndex:String(c),activeCoordinate:f}}}};function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(null,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return(e=nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return typeof e=="symbol"?e:e+""}function ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iee(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=t,c=e,f=n,h=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,y;if(u==="ScatterChart")p=c,y=IG;else if(u==="BarChart")p=CG(s,c,i,o),y=ij;else if(s==="radial"){var{cx:w,cy:g,radius:v,startAngle:b,endAngle:E}=oj(c);p={cx:w,cy:g,startAngle:b,endAngle:E,innerRadius:v,outerRadius:v},y=aj}else p={points:cY(s,c,i)},y=QD;var C=typeof a=="object"&&"className"in a?a.className:void 0,k=df(df(df(df({stroke:"#ccc",pointerEvents:"none"},i),p),ke(a,!1)),{},{payload:f,payloadIndex:h,className:Re("recharts-tooltip-cursor",C)});return x.isValidElement(a)?x.cloneElement(a,k):x.createElement(y,k)}function oee(t){var e=qZ(),n=zD(),r=Db(),i=GZ();return x.createElement(iee,G0({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var aL=x.createContext(null),see=()=>x.useContext(aL),lL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,p,y){var w=n?n+u:u;if(!this._events[w])return!1;var g=this._events[w],v=arguments.length,b,E;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,p),!0;case 6:return g.fn.call(g.context,c,f,h,p,y),!0}for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];g.fn.apply(g.context,b)}else{var C=g.length,k;for(E=0;E<C;E++)switch(g[E].once&&this.removeListener(u,g[E].fn,void 0,!0),v){case 1:g[E].fn.call(g[E].context);break;case 2:g[E].fn.call(g[E].context,c);break;case 3:g[E].fn.call(g[E].context,c,f);break;case 4:g[E].fn.call(g[E].context,c,f,h);break;default:if(!b)for(k=1,b=new Array(v-1);k<v;k++)b[k-1]=arguments[k];g[E].fn.apply(g[E].context,b)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var w=0,g=[],v=y.length;w<v;w++)(y[w].fn!==c||h&&!y[w].once||f&&y[w].context!==f)&&g.push(y[w]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(lL);var aee=lL.exports;const lee=ti(aee);var Tc=new lee,Y0="recharts.syncEvent.tooltip",KP="recharts.syncEvent.brush";function uL(t,e){if(e){var n=Number.parseInt(e,10);if(!Kn(n))return t==null?void 0:t[n]}}var uee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cL=mr({name:"options",initialState:uee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cee=cL.reducer,{createEventEmitter:dee}=cL.actions;function fee(t){return t.tooltip.syncInteraction}var hee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dL=mr({name:"chartData",initialState:hee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:qP,setDataStartEndIndexes:pee,setComputedData:Jse}=dL.actions,mee=dL.reducer,fL=()=>{};function gee(){var t=ie(ux),e=ie(cx),n=at(),r=ie(uM),i=ie(Wi),o=Db(),s=Rb(),a=ie(l=>l.rootProps.className);x.useEffect(()=>{if(t==null)return fL;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){n(c);return}if(i!=null){var h;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},y=r(i,p);h=i[y]}else r==="value"&&(h=i.find(I=>String(I.value)===c.payload.label));var{coordinate:w}=c.payload;if(h==null||c.payload.active===!1||w==null||s==null){n(K0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:g,y:v}=w,b=Math.min(g,s.x+s.width),E=Math.min(v,s.y+s.height),C={x:o==="horizontal"?h.coordinate:b,y:o==="horizontal"?E:h.coordinate},k=K0({active:c.payload.active,coordinate:C,dataKey:c.payload.dataKey,index:String(h.index),label:c.payload.label});n(k)}}};return Tc.on(Y0,l),()=>{Tc.off(Y0,l)}},[a,n,e,t,r,i,o,s])}function yee(){var t=ie(ux),e=ie(cx),n=at();x.useEffect(()=>{if(t==null)return fL;var r=(i,o,s)=>{e!==s&&t===i&&n(pee(o))};return Tc.on(KP,r),()=>{Tc.off(KP,r)}},[n,e,t])}function vee(){var t=at();x.useEffect(()=>{t(dee())},[t]),gee(),yee()}function wee(t,e,n,r,i,o){var s=ie(h=>QZ(h,t,e)),a=ie(cx),l=ie(ux),u=ie(uM),c=ie(fee),f=c==null?void 0:c.active;x.useEffect(()=>{if(!f&&l!=null&&a!=null){var h=K0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Tc.emit(Y0,l,h,a)}},[f,n,s,i,r,a,l,u,o])}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){_ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e,n){return(e=bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eee(t){return t.dataKey}function Tee(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(sG,e)}var QP=[],See={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Al.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dy(t){var e=Lr(t,See),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:y,cursor:w,shared:g,trigger:v,defaultIndex:b,portal:E,axisId:C}=e,k=at(),I=typeof b=="number"?String(b):b;x.useEffect(()=>{k(rZ({shared:g,trigger:v,axisId:C,active:n,defaultIndex:I}))},[k,g,v,C,n,I]);var S=Rb(),A=YD(),P=JJ(g),{activeIndex:R,isActive:N}=ie(Ze=>ZZ(Ze,P,v,I)),j=ie(Ze=>JZ(Ze,P,v,I)),D=ie(Ze=>sL(Ze,P,v,I)),W=ie(Ze=>XZ(Ze,P,v,I)),q=j,Y=see(),U=n??N,[M,F]=bK([q,U]),X=P==="axis"?D:void 0;wee(P,v,W,X,R,U);var se=E??Y;if(se==null)return null;var G=q??QP;U||(G=QP),a&&G.length&&(G=$H(q.filter(Ze=>Ze.value!=null&&(Ze.hide!==!0||e.includeHidden)),c,Eee));var he=G.length>0,ln=x.createElement(hG,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:U,coordinate:W,hasPayload:he,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:S,wrapperStyle:y,lastBoundingBox:M,innerRef:F,hasPortalFromProps:!!E},Tee(s,YP(YP({},e),{},{payload:G,label:X,active:U,coordinate:W,accessibilityLayer:A})));return x.createElement(x.Fragment,null,tO.createPortal(ln,se),U&&x.createElement(oee,{cursor:w,tooltipEventType:P,coordinate:W,payload:q,index:R}))}var hL={},pL={},mL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},f=()=>{u&&c(),w()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},y=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{y(),s=void 0,a=null},g=()=>{c()},v=function(...b){if(i!=null&&i.aborted)return;s=this,a=b;const E=h==null;p(),l&&E&&c()};return v.schedule=p,v.cancel=w,v.flush=g,i==null||i.addEventListener("abort",w,{once:!0}),v}t.debounce=e})(mL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,f=null;const h=e.debounce(function(...w){c=r.apply(this,w),f=null},i,{edges:u}),p=function(...w){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,w),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,w),c)},y=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=y,p}t.debounce=n})(pL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pL;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:a})}t.throttle=n})(hL);var Aee=hL.throttle;const Pee=ti(Aee);var Fu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var My=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:f,className:h,onResize:p,style:y={}}=t,w=x.useRef(null),g=x.useRef();g.current=p,x.useImperativeHandle(e,()=>w.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),E=x.useCallback((k,I)=>{b(S=>{var A=Math.round(k),P=Math.round(I);return S.containerWidth===A&&S.containerHeight===P?S:{containerWidth:A,containerHeight:P}})},[]);x.useEffect(()=>{var k=P=>{var R,{width:N,height:j}=P[0].contentRect;E(N,j),(R=g.current)===null||R===void 0||R.call(g,N,j)};c>0&&(k=Pee(k,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:S,height:A}=w.current.getBoundingClientRect();return E(S,A),I.observe(w.current),()=>{I.disconnect()}},[E,c]);var C=x.useMemo(()=>{var{containerWidth:k,containerHeight:I}=v;if(k<0||I<0)return null;Fu(hs(i)||hs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Fu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var S=hs(i)?k:i,A=hs(o)?I:o;return n&&n>0&&(S?A=S/n:A&&(S=A*n),l&&A>l&&(A=l)),Fu(S>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,A,i,o,s,a,n),x.Children.map(u,P=>x.cloneElement(P,{width:S,height:A,style:jy({width:S,height:A},P.props.style)}))},[n,u,o,l,a,s,v,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:Re("recharts-responsive-container",h),style:jy(jy({},y),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),ad=t=>null;ad.displayName="Cell";function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var la={widthCache:{},cacheCount:0},Dee=2e3,jee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZP="recharts_measurement_span";function Mee(t){var e=Q0({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Bu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Al.isSsr)return{width:0,height:0};var r=Mee(n),i=JSON.stringify({text:e,copyStyle:r});if(la.widthCache[i])return la.widthCache[i];try{var o=document.getElementById(ZP);o||(o=document.createElement("span"),o.setAttribute("id",ZP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Q0(Q0({},jee),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return la.widthCache[i]=l,++la.cacheCount>Dee&&(la.cacheCount=0,la.widthCache={}),l}catch{return{width:0,height:0}}},eI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ee=Object.keys(gL),Pa="NaN";function Uee(t,e){return t*gL[e]}class wn{static parse(e){var n,[,r,i]=(n=Vee.exec(e))!==null&&n!==void 0?n:[];return new wn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Kn(e)&&(this.unit=""),n!==""&&!Lee.test(n)&&(this.num=NaN,this.unit=""),$ee.includes(n)&&(this.num=Uee(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wn(NaN,""):new wn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wn(NaN,""):new wn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wn(NaN,""):new wn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wn(NaN,""):new wn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kn(this.num)}}function yL(t){if(t.includes(Pa))return Pa;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=eI.exec(e))!==null&&n!==void 0?n:[],s=wn.parse(r??""),a=wn.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return Pa;e=e.replace(eI,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,h]=(u=tI.exec(e))!==null&&u!==void 0?u:[],p=wn.parse(c??""),y=wn.parse(h??""),w=f==="+"?p.add(y):p.subtract(y);if(w.isNaN())return Pa;e=e.replace(tI,w.toString())}return e}var nI=/\(([^()]*)\)/;function Fee(t){for(var e=t,n;(n=nI.exec(e))!=null;){var[,r]=n;e=e.replace(nI,yL(r))}return e}function Bee(t){var e=t.replace(/\s+/g,"");return e=Fee(e),e=yL(e),e}function zee(t){try{return Bee(t)}catch{return Pa}}function Ly(t){var e=zee(t.slice(5,-1));return e===Pa?"":e}var Wee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hee=["dx","dy","angle","className","breakAll"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(null,arguments)}function rI(t,e){if(t==null)return{};var n,r,i=Kee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,wL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];vt(e)||(n?i=e.toString().split(""):i=e.toString().split(vL));var o=i.map(a=>({word:a,width:Bu(a,r).width})),s=n?0:Bu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},qee=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=t,u=ne(o),c=s,f=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((j,D)=>{var{word:W,width:q}=D,Y=j[j.length-1];if(Y&&(r==null||i||Y.width+q+n<Number(r)))Y.words.push(W),Y.width+=q+n;else{var U={words:[W],width:q};j.push(U)}return j},[])},h=f(e),p=R=>R.reduce((N,j)=>N.width>j.width?N:j);if(!u||i)return h;var y=h.length>o||p(h).width>Number(r);if(!y)return h;for(var w="",g=R=>{var N=c.slice(0,R),j=wL({breakAll:l,style:a,children:N+w}).wordsWithComputedWidth,D=f(j),W=D.length>o||p(D).width>Number(r);return[W,D]},v=0,b=c.length-1,E=0,C;v<=b&&E<=c.length-1;){var k=Math.floor((v+b)/2),I=k-1,[S,A]=g(I),[P]=g(k);if(!S&&!P&&(v=k+1),S&&P&&(b=k-1),!S&&P){C=A;break}E++}return C||h},iI=t=>{var e=vt(t)?[]:t.toString().split(vL);return[{words:e}]},Gee=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Al.isSsr){var a,l,u=wL({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;a=c,l=f}else return iI(r);return qee({breakAll:o,children:r,maxLines:s,style:i},a,l,e,n)}return iI(r)},oI="#808080",Zm=x.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=oI}=t,c=rI(t,Wee),f=x.useMemo(()=>Gee({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:h,dy:p,angle:y,className:w,breakAll:g}=c,v=rI(c,Hee);if(!Zr(n)||!Zr(r))return null;var b=n+(ne(h)?h:0),E=r+(ne(p)?p:0),C;switch(l){case"start":C=Ly("calc(".concat(o,")"));break;case"middle":C=Ly("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=Ly("calc(".concat(f.length-1," * -").concat(i,")"));break}var k=[];if(s){var I=f[0].width,{width:S}=c;k.push("scale(".concat(ne(S)?S/I:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(b,", ").concat(E,")")),k.length&&(v.transform=k.join(" ")),x.createElement("text",X0({},ke(v,!0),{ref:e,x:b,y:E,className:Re("recharts-text",w),textAnchor:a,fill:u.includes("url")?oI:u}),f.map((A,P)=>{var R=A.words.join(g?"":" ");return x.createElement("tspan",{x:b,dy:P===0?C:i,key:"".concat(R,"-").concat(P)},R)}))});Zm.displayName="Text";var Yee=["offset"],Qee=["labelRef"];function sI(t,e){if(t==null)return{};var n,r,i=Xee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ci.apply(null,arguments)}var tte=t=>{var{value:e,formatter:n}=t,r=vt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Fx=t=>t!=null&&typeof t=="function",nte=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),360);return n*r},rte=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:s}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=i,y=(u+c)/2,w=nte(f,h),g=w>=0?1:-1,v,b;r==="insideStart"?(v=f+g*o,b=p):r==="insideEnd"?(v=h-g*o,b=!p):r==="end"&&(v=h+g*o,b=p),b=w<=0?b:!b;var E=yt(a,l,y,v),C=yt(a,l,y,v+(b?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(C.x,",").concat(C.y),I=vt(t.id)?nl("recharts-radial-line-"):t.id;return x.createElement("text",ci({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:I,d:k})),x.createElement("textPath",{xlinkHref:"#".concat(I)},e))},ite=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:f,y:h}=yt(i,o,a+n,c);return{x:f,y:h,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:w}=yt(i,o,p,c);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ote=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:a,height:l}=e,u=l>=0?1:-1,c=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=a>=0?1:-1,y=p*r,w=p>0?"end":"start",g=p>0?"start":"end";if(i==="top"){var v={x:o+a/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f};return ft(ft({},v),n?{height:Math.max(s-n.y,0),width:a}:{})}if(i==="bottom"){var b={x:o+a/2,y:s+l+c,textAnchor:"middle",verticalAnchor:h};return ft(ft({},b),n?{height:Math.max(n.y+n.height-(s+l),0),width:a}:{})}if(i==="left"){var E={x:o-y,y:s+l/2,textAnchor:w,verticalAnchor:"middle"};return ft(ft({},E),n?{width:Math.max(E.x-n.x,0),height:l}:{})}if(i==="right"){var C={x:o+a+y,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return ft(ft({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:l}:{})}var k=n?{width:a,height:l}:{};return i==="insideLeft"?ft({x:o+y,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},k):i==="insideRight"?ft({x:o+a-y,y:s+l/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?ft({x:o+a/2,y:s+c,textAnchor:"middle",verticalAnchor:h},k):i==="insideBottom"?ft({x:o+a/2,y:s+l-c,textAnchor:"middle",verticalAnchor:f},k):i==="insideTopLeft"?ft({x:o+y,y:s+c,textAnchor:g,verticalAnchor:h},k):i==="insideTopRight"?ft({x:o+a-y,y:s+c,textAnchor:w,verticalAnchor:h},k):i==="insideBottomLeft"?ft({x:o+y,y:s+l-c,textAnchor:g,verticalAnchor:f},k):i==="insideBottomRight"?ft({x:o+a-y,y:s+l-c,textAnchor:w,verticalAnchor:f},k):i&&typeof i=="object"&&(ne(i.x)||hs(i.x))&&(ne(i.y)||hs(i.y))?ft({x:o+mn(i.x,a),y:s+mn(i.y,l),textAnchor:"end",verticalAnchor:"end"},k):ft({x:o+a/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ste=t=>"cx"in t&&ne(t.cx);function jn(t){var{offset:e=5}=t,n=sI(t,Yee),r=ft({offset:e},n),{viewBox:i,position:o,value:s,children:a,content:l,className:u="",textBreakAll:c,labelRef:f}=r,h=Rb(),p=i||h;if(!p||vt(s)&&vt(a)&&!x.isValidElement(l)&&typeof l!="function")return null;if(x.isValidElement(l)){var y=sI(r,Qee);return x.cloneElement(l,y)}var w;if(typeof l=="function"){if(w=x.createElement(l,r),x.isValidElement(w))return w}else w=tte(r);var g=ste(p),v=ke(r,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return rte(r,w,v);var b=g?ite(r):ote(r,p);return x.createElement(Zm,ci({ref:f,className:Re("recharts-label",u)},v,b,{breakAll:c}),w)}jn.displayName="Label";var _L=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:a,innerRadius:l,outerRadius:u,x:c,y:f,top:h,left:p,width:y,height:w,clockWise:g,labelViewBox:v}=t;if(v)return v;if(ne(y)&&ne(w)){if(ne(c)&&ne(f))return{x:c,y:f,width:y,height:w};if(ne(h)&&ne(p))return{x:h,y:p,width:y,height:w}}if(ne(c)&&ne(f))return{x:c,y:f,width:0,height:0};if(ne(e)&&ne(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||a||s||0,clockWise:g};if(t.viewBox)return t.viewBox},ate=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(jn,ci({key:"label-implicit"},r)):Zr(t)?x.createElement(jn,ci({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===jn?x.cloneElement(t,ft({key:"label-implicit"},r)):x.createElement(jn,ci({key:"label-implicit",content:t},r)):Fx(t)?x.createElement(jn,ci({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(jn,ci({},t,{key:"label-implicit"},r)):null},lte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=_L(e),a=Yc(i,jn).map((u,c)=>x.cloneElement(u,{viewBox:n||s,key:"label-".concat(c)}));if(!r)return a;var l=ate(e.label,n||s,o);return[l,...a]};jn.parseViewBox=_L;jn.renderCallByParent=lte;var bL={},xL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(xL);var EL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(EL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL,n=EL,r=xm;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(bL);var ute=bL.last;const cte=ti(ute);var dte=["valueAccessor"],fte=["data","dataKey","clockWise","id","textBreakAll"];function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cI(t,e){if(t==null)return{};var n,r,i=gte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yte=t=>Array.isArray(t.value)?cte(t.value):t.value;function Ss(t){var{valueAccessor:e=yte}=t,n=cI(t,dte),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:a}=n,l=cI(n,fte);return!r||!r.length?null:x.createElement(gn,{className:"recharts-label-list"},r.map((u,c)=>{var f=vt(i)?e(u,c):rt(u&&u.payload,i),h=vt(s)?{}:{id:"".concat(s,"-").concat(c)};return x.createElement(jn,op({},ke(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:a,viewBox:jn.parseViewBox(vt(o)?u:uI(uI({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}Ss.displayName="LabelList";function vte(t,e){return t?t===!0?x.createElement(Ss,{key:"labelList-implicit",data:e}):x.isValidElement(t)||Fx(t)?x.createElement(Ss,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Ss,op({data:e},t,{key:"labelList-implicit"})):null:null}function wte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Yc(r,Ss).map((s,a)=>x.cloneElement(s,{data:e,key:"labelList-".concat(a)}));if(!n)return i;var o=vte(t.label,e);return[o,...i]}Ss.renderCallByParent=wte;var TL=t=>t.graphicalItems.polarItems,_te=V([ct,nd],mx),Bx=V([TL,dt,_te],yx),bte=V([Bx],vx),zx=V([bte,ox],wx),xte=V([zx,dt,Bx],_x),Ete=V([zx,dt,Bx],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=rt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),dI=()=>{},Tte=V([dt,AM,dI,Ete,dI],Ex),SL=V([dt,Ne,zx,xte,td,ct,Tte],Tx),Ste=V([SL,dt,Ol],Px);V([dt,SL,Ste,ct],Cx);var Ate={radiusAxis:{},angleAxis:{}},Pte=mr({name:"polarAxis",initialState:Ate,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),Ite=Pte.reducer;function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wx=(t,e)=>e,Nte=[],Hx=(t,e,n)=>(n==null?void 0:n.length)===0?Nte:n,AL=V([ox,Wx,Hx],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>hI(hI({},e.presentationProps),o.props))),i!=null)return i}),Rte=V([AL,Wx,Hx],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var o,s=rt(r,e.nameKey,e.name),a;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:Dm(s,e.dataKey),color:a,payload:r,type:e.legendType}})}),Dte=V([TL,Wx],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),jte=V([AL,Dte,Hx,Tt],(t,e,n,r)=>{if(!(e==null||t==null))return Sne({offset:r,pieSettings:e,displayedData:t,cells:n})}),Mte={countOfBars:0,cartesianItems:[],polarItems:[]},PL=mr({name:"graphicalItems",initialState:Mte,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=xi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=xi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=xi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Lte,removeBar:Vte,addCartesianGraphicalItem:$te,replaceCartesianGraphicalItem:Ute,removeCartesianGraphicalItem:Fte,addPolarGraphicalItem:Bte,removePolarGraphicalItem:zte}=PL.actions,Wte=PL.reducer;function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gte(t){var e=at(),n=x.useRef(null);return x.useEffect(()=>{var r=mI(mI({},t),{},{stackId:VD(t.stackId)});n.current===null?e($te(r)):n.current!==r&&e(Ute({prev:n.current,next:r})),n.current=r},[e,t]),x.useEffect(()=>()=>{n.current&&(e(Fte(n.current)),n.current=null)},[e]),null}function Yte(t){var e=at();return x.useEffect(()=>(e(Bte(t)),()=>{e(zte(t))}),[e,t]),null}var IL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(IL);var Qte=IL.isPlainObject;const Xte=ti(Qte);function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(null,arguments)}var gI=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Jte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zte=t=>{var e=Lr(t,Jte),n=x.useRef(),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:o,y:s,upperWidth:a,lowerWidth:l,height:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:y}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||u!==+u||a===0&&l===0||u===0)return null;var w=Re("recharts-trapezoid",c);return y?x.createElement(Us,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:a,lowerWidth:l,height:u,x:o,y:s},duration:h,animationEasing:f,isActive:y},g=>{var{upperWidth:v,lowerWidth:b,height:E,x:C,y:k}=g;return x.createElement(Us,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},x.createElement("path",sp({},ke(e,!0),{className:w,d:gI(C,k,v,b,E),ref:n})))}):x.createElement("g",null,x.createElement("path",sp({},ke(e,!0),{className:w,d:gI(o,s,a,l,u)})))},ene=["option","shapeType","propTransformer","activeClassName","isActive"];function tne(t,e){if(t==null)return{};var n,r,i=nne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t,e){return ap(ap({},e),t)}function ane(t,e){return t==="symbols"}function vI(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(ij,n);case"trapezoid":return x.createElement(Zte,n);case"sector":return x.createElement(aj,n);case"symbols":if(ane(e))return x.createElement(VR,n);break;default:return null}}function lne(t){return x.isValidElement(t)?t.props:t}function CL(t){var{option:e,shapeType:n,propTransformer:r=sne,activeClassName:i="recharts-active-shape",isActive:o}=t,s=tne(t,ene),a;if(x.isValidElement(e))a=x.cloneElement(e,ap(ap({},s),lne(e)));else if(typeof e=="function")a=e(s);else if(Xte(e)&&typeof e!="boolean"){var l=r(e,s);a=x.createElement(vI,{shapeType:n,elementProps:l})}else{var u=s;a=x.createElement(vI,{shapeType:n,elementProps:u})}return o?x.createElement(gn,{className:i},a):a}var Kx=(t,e)=>{var n=at();return(r,i)=>o=>{t==null||t(r,i,o),n(BM({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},qx=t=>{var e=at();return(n,r)=>i=>{t==null||t(n,r,i),e(iZ())}},Gx=(t,e)=>{var n=at();return(r,i)=>o=>{t==null||t(r,i,o),n(oZ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function kL(t){var{fn:e,args:n}=t,r=at(),i=In();return x.useEffect(()=>{if(!i){var o=e(n);return r(tZ(o)),()=>{r(nZ(o))}}},[e,n,r,i]),null}var OL=()=>{};function une(t){var{legendPayload:e}=t,n=at(),r=In();return x.useEffect(()=>r?OL:(n(qD(e)),()=>{n(GD(e))}),[n,r,e]),null}function cne(t){var{legendPayload:e}=t,n=at(),r=ie(Ne);return x.useEffect(()=>r!=="centric"&&r!=="radial"?OL:(n(qD(e)),()=>{n(GD(e))}),[n,r,e]),null}function NL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(nl(e)),r=x.useRef(t);return r.current!==t&&(n.current=nl(e),r.current=t),n.current}var dne=["onMouseEnter","onClick","onMouseLeave"];function fne(t,e){if(t==null)return{};var n,r,i=hne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eg(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(null,arguments)}function gne(t){var e=x.useMemo(()=>ke(t,!1),[t]),n=x.useMemo(()=>Yc(t.children,ad),[t.children]),r=x.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=ie(o=>Rte(o,r,n));return x.createElement(cne,{legendPayload:i})}function yne(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:a,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r==null?void 0:r.map(c=>c.tooltipPayload),positions:r==null?void 0:r.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:Dm(a,e),hide:l,type:u,color:s,unit:""}}}var vne=(t,e)=>t>e?"start":t<e?"end":"middle",wne=(t,e,n)=>typeof e=="function"?e(t):mn(e,n,n*.8),_ne=(t,e,n)=>{var{top:r,left:i,width:o,height:s}=e,a=jD(o,s),l=i+mn(t.cx,o,o/2),u=r+mn(t.cy,s,s/2),c=mn(t.innerRadius,a,0),f=wne(n,t.outerRadius,a),h=t.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},bne=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),360);return n*r},xne=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Re("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(QD,zs({},e,{type:"linear",className:n}))},Ene=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=Re("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Zm,zs({},e,{alignmentBaseline:"middle",className:i}),r)};function Tne(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!e)return null;var a=ke(n,!1),l=ke(i,!1),u=ke(o,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,p)=>{var y=(h.startAngle+h.endAngle)/2,w=yt(h.cx,h.cy,h.outerRadius+c,y),g=nt(nt(nt(nt({},a),h),{},{stroke:"none"},l),{},{index:p,textAnchor:vne(w.x,h.cx)},w),v=nt(nt(nt(nt({},a),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[yt(h.cx,h.cy,h.outerRadius,y),w],key:"line"});return x.createElement(gn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},o&&xne(o,v),Ene(i,g,rt(h,s)))});return x.createElement(gn,{className:"recharts-pie-labels"},f)}function RL(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,s=ie(Bs),{onMouseEnter:a,onClick:l,onMouseLeave:u}=i,c=fne(i,dne),f=Kx(a,i.dataKey),h=qx(u),p=Gx(l,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var g=n&&String(w)===s,v=s?r:null,b=g?n:v,E=nt(nt({},y),{},{stroke:y.stroke,tabIndex:-1,[UD]:w,[FD]:i.dataKey});return x.createElement(gn,zs({tabIndex:-1,className:"recharts-pie-sector"},vm(c,y,w),{onMouseEnter:f(y,w),onMouseLeave:h(y,w),onClick:p(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),x.createElement(CL,zs({option:b,isActive:g,shapeType:"sector"},E)))}),x.createElement(Tne,{sectors:e,props:i,showLabels:o}))}function Sne(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:s,startAngle:a,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=n,h=Math.abs(n.minAngle),p=bne(a,l),y=Math.abs(p),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,g=r.filter(I=>rt(I,u,0)!==0).length,v=(y>=360?g:g-1)*w,b=y-g*h-v,E=r.reduce((I,S)=>{var A=rt(S,u,0);return I+(ne(A)?A:0)},0),C;if(E>0){var k;C=r.map((I,S)=>{var A=rt(I,u,0),P=rt(I,c,S),R=_ne(n,o,I),N=(ne(A)?A:0)/E,j,D=nt(nt({},I),i&&i[S]&&i[S].props);S?j=k.endAngle+Ot(p)*w*(A!==0?1:0):j=a;var W=j+Ot(p)*((A!==0?h:0)+N*b),q=(j+W)/2,Y=(R.innerRadius+R.outerRadius)/2,U=[{name:P,value:A,payload:D,dataKey:u,type:f}],M=yt(R.cx,R.cy,Y,q);return k=nt(nt(nt(nt({},n.presentationProps),{},{percent:N,cornerRadius:s,name:P,tooltipPayload:U,midAngle:q,middleRadius:Y,tooltipPosition:M},D),R),{},{value:rt(I,u),startAngle:j,endAngle:W,payload:D,paddingAngle:Ot(p)*w}),k})}return C}function Ane(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:a,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:f}=e,h=NL(e,"recharts-pie-"),p=n.current,[y,w]=x.useState(!0),g=x.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),v=x.useCallback(()=>{typeof c=="function"&&c(),w(!0)},[c]);return x.createElement(Us,{begin:o,duration:s,isActive:i,easing:a,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:g,key:h},b=>{var{t:E}=b,C=[],k=r&&r[0],I=k.startAngle;return r.forEach((S,A)=>{var P=p&&p[A],R=A>0?$o(S,"paddingAngle",0):0;if(P){var N=eo(P.endAngle-P.startAngle,S.endAngle-S.startAngle),j=nt(nt({},S),{},{startAngle:I+R,endAngle:I+N(E)+R});C.push(j),I=j.endAngle}else{var{endAngle:D,startAngle:W}=S,q=eo(0,D-W),Y=q(E),U=nt(nt({},S),{},{startAngle:I+R,endAngle:I+Y+R});C.push(U),I=U.endAngle}}),n.current=C,x.createElement(gn,null,x.createElement(RL,{sectors:C,activeShape:l,inactiveShape:u,allOtherPieProps:e,showLabels:!y}))})}function Pne(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=x.useRef(null),s=o.current;return n&&e&&e.length&&(!s||s!==e)?x.createElement(Ane,{props:t,previousSectorsRef:o}):x.createElement(RL,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Ine(t){var{hide:e,className:n,rootTabIndex:r}=t,i=Re("recharts-pie",n);return e?null:x.createElement(gn,{tabIndex:r,className:i},x.createElement(Pne,t))}var DL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Al.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Cne(t){var e=Lr(t,DL),n=x.useMemo(()=>Yc(t.children,ad),[t.children]),r=ke(e,!1),i=x.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),o=ie(s=>jte(s,i,n));return x.createElement(x.Fragment,null,x.createElement(kL,{fn:yne,args:nt(nt({},e),{},{sectors:o})}),x.createElement(Ine,zs({},e,{sectors:o})))}class Yx extends x.PureComponent{constructor(){super(...arguments),eg(this,"id",nl("recharts-pie-"))}render(){return x.createElement(x.Fragment,null,x.createElement(Yte,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),x.createElement(gne,this.props),x.createElement(Cne,this.props),this.props.children)}}eg(Yx,"displayName","Pie");eg(Yx,"defaultProps",DL);var kne=V([Tt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),One=V([kne,Ui,Fi],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Nne=t=>{var e=In();return ie(n=>Uo(n,"xAxis",t,e))},Rne=t=>{var e=In();return ie(n=>Uo(n,"yAxis",t,e))},jL=()=>ie(One),Dne=()=>{var t=at();return x.useEffect(()=>(t(Lte()),()=>{t(Vte())})),null},jne=["children"];function Mne(t,e){if(t==null)return{};var n,r,i=Lne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _I=()=>{},ML=x.createContext({addErrorBar:_I,removeErrorBar:_I}),Vne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LL=x.createContext(Vne);function $ne(t){var{children:e}=t,n=Mne(t,jne);return x.createElement(LL.Provider,{value:n},e)}var Une=()=>x.useContext(LL),Fne=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:s,stackId:a,hide:l,type:u,barSize:c}=t,[f,h]=x.useState([]),p=x.useCallback(g=>{h(v=>[...v,g])},[h]),y=x.useCallback(g=>{h(v=>v.filter(b=>b!==g))},[h]),w=In();return x.createElement(ML.Provider,{value:{addErrorBar:p,removeErrorBar:y}},x.createElement(Gte,{type:u,data:s,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:f,stackId:a,hide:l,barSize:c,isPanorama:w}),e)};function Bne(t){var{addErrorBar:e,removeErrorBar:n}=x.useContext(ML);return x.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var zne=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function VL(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}function Kne(t,e){if(t==null)return{};var n,r,i=qne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gne(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:a}=t,l=Kne(t,zne),u=ke(l,!1),{data:c,dataPointFormatter:f,xAxisId:h,yAxisId:p,errorBarOffset:y}=Une(),w=Nne(h),g=Rne(p);if((w==null?void 0:w.scale)==null||(g==null?void 0:g.scale)==null||c==null||e==="x"&&w.type!=="number")return null;var v=c.map(b=>{var{x:E,y:C,value:k,errorVal:I}=f(b,r,e);if(!I)return null;var S=[],A,P;if(Array.isArray(I)?[A,P]=I:A=P=I,e==="x"){var{scale:R}=w,N=C+y,j=N+n,D=N-n,W=R(k-A),q=R(k+P);S.push({x1:q,y1:j,x2:q,y2:D}),S.push({x1:W,y1:N,x2:q,y2:N}),S.push({x1:W,y1:j,x2:W,y2:D})}else if(e==="y"){var{scale:Y}=g,U=E+y,M=U-n,F=U+n,X=Y(k-A),se=Y(k+P);S.push({x1:M,y1:se,x2:F,y2:se}),S.push({x1:U,y1:X,x2:U,y2:se}),S.push({x1:M,y1:X,x2:F,y2:X})}var G="".concat(E+y,"px ").concat(C+y,"px");return x.createElement(gn,Sc({className:"recharts-errorBar",key:"bar-".concat(S.map(he=>"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)))},u),S.map(he=>{var ln=i?{transformOrigin:"".concat(he.x1-5,"px")}:void 0;return x.createElement(Us,{from:{transform:"scaleY(0)",transformOrigin:G},to:{transform:"scaleY(1)",transformOrigin:G},begin:o,easing:a,isActive:i,duration:s,key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2),style:{transformOrigin:G}},x.createElement("line",Sc({},he,{style:ln})))}))});return x.createElement(gn,{className:"recharts-errorBars"},v)}var $L=x.createContext(void 0);function Yne(t){var e=x.useContext($L);return t??e??"x"}function Qne(t){var{direction:e,children:n}=t;return x.createElement($L.Provider,{value:e},n)}var UL={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Xne(t){var e=Yne(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:s}=Lr(t,UL);return x.createElement(x.Fragment,null,x.createElement(Bne,{dataKey:t.dataKey,direction:e}),x.createElement(Gne,Sc({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:s})))}class FL extends x.Component{render(){return x.createElement(Xne,this.props)}}VL(FL,"defaultProps",UL);VL(FL,"displayName","ErrorBar");var Jne="Invariant failed";function Zne(t,e){throw new Error(Jne)}var ere=["x","y"];function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ire(t,e){if(t==null)return{};var n,r,i=ore(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sre(t,e){var{x:n,y:r}=t,i=ire(t,ere),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return du(du(du(du(du({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function BL(t){return x.createElement(CL,J0({shapeType:"rectangle",propTransformer:sre,activeClassName:"recharts-active-bar"},t))}var are=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ne(e))return e;var o=ne(r)||vt(r);return o?e(r,i):(o||Zne(),n)}};function zL(t,e){var n,r,i=ie(u=>zi(u,t)),o=ie(u=>Xo(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kn.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function lre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=jL(),{needClipX:o,needClipY:s,needClip:a}=zL(e,n);if(!a)return null;var{x:l,y:u,width:c,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?l:l-c/2,y:s?u:u-f/2,width:o?c:c*2,height:s?f:f*2}))}var ure=["onMouseEnter","onMouseLeave","onClick"],cre=["value","background","tooltipPosition"],dre=["onMouseEnter","onClick","onMouseLeave"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tg(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z0(t,e){if(t==null)return{};var n,r,i=pre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mre=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Dm(n,e),payload:t}]};function gre(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:a}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Dm(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:a}}}function yre(t){var e=ie(Bs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:a,onClick:l}=o,u=Z0(o,ure),c=Kx(s,r),f=qx(a),h=Gx(l,r);if(!i||n==null)return null;var p=ke(i,!1);return x.createElement(x.Fragment,null,n.map((y,w)=>{var{value:g,background:v,tooltipPosition:b}=y,E=Z0(y,cre);if(!v)return null;var C=c(y,w),k=f(y,w),I=h(y,w),S=nn(nn(nn(nn(nn({option:i,isActive:String(w)===e},E),{},{fill:"#eee"},v),p),vm(u,y,w)),{},{onMouseEnter:C,onMouseLeave:k,onClick:I,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(BL,Ac({key:"background-bar-".concat(w)},S))}))}function WL(t){var{data:e,props:n,showLabels:r}=t,i=ke(n,!1),{shape:o,dataKey:s,activeBar:a}=n,l=ie(Bs),u=ie(tL),{onMouseEnter:c,onClick:f,onMouseLeave:h}=n,p=Z0(n,dre),y=Kx(c,s),w=qx(h),g=Gx(f,s);return e?x.createElement(x.Fragment,null,e.map((v,b)=>{var E=a&&String(b)===l&&(u==null||s===u),C=E?a:o,k=nn(nn(nn({},i),v),{},{isActive:E,option:C,index:b,dataKey:s});return x.createElement(gn,Ac({className:"recharts-bar-rectangle"},vm(p,v,b),{onMouseEnter:y(v,b),onMouseLeave:w(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),x.createElement(BL,k))}),r&&Ss.renderCallByParent(n,e)):null}function vre(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,f=n.current,h=NL(e,"recharts-bar-"),[p,y]=x.useState(!1),w=x.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),g=x.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return x.createElement(Us,{begin:s,duration:a,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:g,key:h},v=>{var{t:b}=v,E=b===1?r:r.map((C,k)=>{var I=f&&f[k];if(I){var S=eo(I.x,C.x),A=eo(I.y,C.y),P=eo(I.width,C.width),R=eo(I.height,C.height);return nn(nn({},C),{},{x:S(b),y:A(b),width:P(b),height:R(b)})}if(i==="horizontal"){var N=eo(0,C.height),j=N(b);return nn(nn({},C),{},{y:C.y+C.height-j,height:j})}var D=eo(0,C.width),W=D(b);return nn(nn({},C),{},{width:W})});return b>0&&(n.current=E),x.createElement(gn,null,x.createElement(WL,{props:e,data:E,showLabels:!p}))})}function wre(t){var{data:e,isAnimationActive:n}=t,r=x.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?x.createElement(vre,{previousRectanglesRef:r,props:t}):x.createElement(WL,{props:t,data:e,showLabels:!0})}var HL=0,_re=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:rt(t,e)}};class bre extends x.PureComponent{constructor(){super(...arguments),tg(this,"id",nl("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:a,background:l,id:u,layout:c}=this.props;if(e)return null;var f=Re("recharts-bar",i),h=vt(u)?this.id:u;return x.createElement(gn,{className:f},a&&x.createElement("defs",null,x.createElement(lre,{clipPathId:h,xAxisId:o,yAxisId:s})),x.createElement(gn,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(h,")"):null},x.createElement(yre,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(wre,this.props)),x.createElement(Qne,{direction:c==="horizontal"?"y":"x"},this.props.children))}}var KL={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Al.isSsr,legendType:"rect",minPointSize:HL,xAxisId:0,yAxisId:0};function xre(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c}=Lr(t,KL),{needClip:f}=zL(e,n),h=Db(),p=In(),y=x.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:VD(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),w=Yc(t.children,ad),g=ie(E=>Qre(E,e,n,p,y,w));if(h!=="vertical"&&h!=="horizontal")return null;var v,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?v=0:v=h==="vertical"?b.height/2:b.width/2,x.createElement($ne,{xAxisId:e,yAxisId:n,data:g,dataPointFormatter:_re,errorBarOffset:v},x.createElement(bre,Ac({},t,{layout:h,needClip:f,data:g,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Ere(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:a,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:p}=t,y=e==="horizontal"?a:s,w=c?y.scale.domain():null,g=$q({numericAxis:y});return f.map((v,b)=>{var E,C,k,I,S,A;c?E=Dq(c[b],w):(E=rt(v,n),Array.isArray(E)||(E=[g,E]));var P=are(r,HL)(E[1],b);if(e==="horizontal"){var R,[N,j]=[a.scale(E[0]),a.scale(E[1])];C=kA({axis:s,ticks:l,bandSize:o,offset:i.offset,entry:v,index:b}),k=(R=j??N)!==null&&R!==void 0?R:void 0,I=i.size;var D=N-j;if(S=Kn(D)?0:D,A={x:C,y:h.top,width:I,height:h.height},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var W=Ot(S||P)*(Math.abs(P)-Math.abs(S));k-=W,S+=W}}else{var[q,Y]=[s.scale(E[0]),s.scale(E[1])];if(C=q,k=kA({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:v,index:b}),I=Y-q,S=i.size,A={x:h.left,y:k,width:h.width,height:S},Math.abs(P)>0&&Math.abs(I)<Math.abs(P)){var U=Ot(I||P)*(Math.abs(P)-Math.abs(I));I+=U}}var M=nn(nn({},v),{},{x:C,y:k,width:I,height:S,value:c?E:E[1],payload:v,background:A,tooltipPosition:{x:C+I/2,y:k+S/2}},p&&p[b]&&p[b].props);return M})}class lp extends x.PureComponent{render(){return x.createElement(Fne,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},x.createElement(Dne,null),x.createElement(une,{legendPayload:mre(this.props)}),x.createElement(kL,{fn:gre,args:this.props}),x.createElement(xre,this.props))}}tg(lp,"displayName","Bar");tg(lp,"defaultProps",KL);function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre=(t,e)=>e,Ire=(t,e,n)=>n,Cre=(t,e,n,r)=>r,Qx=(t,e,n,r,i)=>i,kre=(t,e,n,r,i)=>i.maxBarSize,Ore=(t,e,n,r,i,o)=>o,TI=(t,e,n)=>{var r=n??t;if(!vt(r))return mn(r,e,0)},Nre=V([Ne,gx,Pre,Ire,Cre],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Rre=(t,e,n,r)=>{var i=Ne(t);return i==="horizontal"?H0(t,"yAxis",n,r):H0(t,"xAxis",e,r)},Dre=(t,e,n)=>{var r=Ne(t);return r==="horizontal"?VP(t,"xAxis",e):VP(t,"yAxis",n)};function jre(t){return t.stackId!=null&&t.dataKey!=null}var Mre=(t,e,n)=>{var r={},i=t.filter(jre),o=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),a=Object.entries(s).map(u=>{var[c,f]=u,h=f.map(y=>y.dataKey),p=TI(e,n,f[0].barSize);return{stackId:c,dataKeys:h,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=TI(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...a,...l]},Lre=V([Nre,eJ,Dre],Mre),Vre=(t,e,n,r,i)=>{var o,s,a=Ne(t),l=aM(t),{maxBarSize:u}=i,c=vt(u)?l:u,f,h;return a==="horizontal"?(f=Uo(t,"xAxis",e,r),h=dl(t,"xAxis",e,r)):(f=Uo(t,"yAxis",n,r),h=dl(t,"yAxis",n,r)),(o=(s=kb(f,h,!0))!==null&&s!==void 0?s:c)!==null&&o!==void 0?o:0},qL=(t,e,n,r)=>{var i=Ne(t),o,s;return i==="horizontal"?(o=Uo(t,"xAxis",e,r),s=dl(t,"xAxis",e,r)):(o=Uo(t,"yAxis",n,r),s=dl(t,"yAxis",n,r)),kb(o,s)};function $re(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=mn(t,n,0,!0),a,l=[];if(Yn(r[0].barSize)){var u=!1,c=n/o,f=r.reduce((v,b)=>v+(b.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&c>0&&(u=!0,c*=.9,f=o*c);var h=(n-f)/2>>0,p={offset:h-s,size:0};a=r.reduce((v,b)=>{var E,C={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},k=[...v,C];return p=k[k.length-1].position,k},l)}else{var y=mn(e,n,0,!0);n-2*y-(o-1)*s<=0&&(s=0);var w=(n-2*y-(o-1)*s)/o;w>1&&(w>>=0);var g=Yn(i)?Math.min(w,i):w;a=r.reduce((v,b,E)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(w+s)*E+(w-g)/2,size:g}}],l)}return a}}var Ure=(t,e,n,r,i,o,s)=>{var a=vt(s)?e:s,l=$re(n,r,i!==o?i:o,t,a);return i!==o&&l!=null&&(l=l.map(u=>ff(ff({},u),{},{position:ff(ff({},u.position),{},{offset:u.position.offset-i/2})}))),l},Fre=V([Lre,aM,ZX,lM,Vre,qL,kre],Ure),Bre=(t,e,n,r)=>Uo(t,"xAxis",e,r),zre=(t,e,n,r)=>Uo(t,"yAxis",n,r),Wre=(t,e,n,r)=>dl(t,"xAxis",e,r),Hre=(t,e,n,r)=>dl(t,"yAxis",n,r),Kre=V([Fre,Qx],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),qre=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(s=>s.key===e.dataKey);return o}}}}},Gre=V([gx,Qx],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),Yre=V([Rre,Qx],qre),Qre=V([Tt,Bre,zre,Wre,Hre,Kre,Ne,Kj,qL,Yre,Gre,Ore],(t,e,n,r,i,o,s,a,l,u,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=a;if(!(c==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:w}=c,g;if(w!=null&&w.length>0?g=w:g=h==null?void 0:h.slice(p,y+1),g!=null)return Ere({layout:s,barSettings:c,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:g,offset:t,cells:f})}}),GL=t=>{var{chartData:e}=t,n=at(),r=In();return x.useEffect(()=>r?()=>{}:(n(qP(e)),()=>{n(qP(void 0))}),[e,n,r]),null},SI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Xre=mr({name:"brush",initialState:SI,reducers:{setBrushSettings(t,e){return e.payload==null?SI:e.payload}}}),Jre=Xre.reducer;function Zre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xx{static create(e){return new Xx(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Zre(Xx,"EPS",1e-4);function nie(t){return(t%180+180)%180}var rie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=nie(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},iie={dots:[],areas:[],lines:[]},oie=mr({name:"referenceElements",initialState:iie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=xi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=xi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=xi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),sie=oie.reducer,aie=x.createContext(void 0),lie=t=>{var{children:e}=t,[n]=x.useState("".concat(nl("recharts"),"-clip")),r=jL();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return x.createElement(aie.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:o,height:a,width:s}))),e)};function Vy(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function YL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rie(r,n)}function cie(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:a}=t;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function up(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function die(t,e){return YL(t,e+1)}function fie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=e,l=0,u=1,c=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:YL(r,u)};var w=l,g,v=()=>(g===void 0&&(g=n(y,w)),g),b=y.coordinate,E=l===0||up(t,b,v,c,a);E||(l=0,c=s,u+=1),E&&(c=b+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return(e=pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=e,{end:l}=e,u=function(h){var p=o[h],y,w=()=>(y===void 0&&(y=n(p,h)),y);if(h===s-1){var g=t*(p.coordinate+t*w()/2-l);o[h]=p=Jt(Jt({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else o[h]=p=Jt(Jt({},p),{},{tickCoord:p.coordinate});var v=up(t,p.tickCoord,w,a,l);v&&(l=p.tickCoord-t*(w()/2+i),o[h]=Jt(Jt({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function yie(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=e;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=Jt(Jt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=up(t,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=Jt(Jt({},c),{},{isShow:!0}))}for(var y=o?a-1:a,w=function(b){var E=s[b],C,k=()=>(C===void 0&&(C=n(E,b)),C);if(b===0){var I=t*(E.coordinate-t*k()/2-l);s[b]=E=Jt(Jt({},E),{},{tickCoord:I<0?E.coordinate-I*t:E.coordinate})}else s[b]=E=Jt(Jt({},E),{},{tickCoord:E.coordinate});var S=up(t,E.tickCoord,k,l,u);S&&(l=E.tickCoord+t*(k()/2+i),s[b]=Jt(Jt({},E),{},{isShow:!0}))},g=0;g<y;g++)w(g);return s}function Jx(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:f}=t;if(!i||!i.length||!r)return[];if(ne(l)||Al.isSsr){var h;return(h=die(i,ne(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],y=a==="top"||a==="bottom"?"width":"height",w=c&&y==="width"?Bu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=(E,C)=>{var k=typeof u=="function"?u(E.value,C):E.value;return y==="width"?uie(Bu(k,{fontSize:e,letterSpacing:n}),w,f):Bu(k,{fontSize:e,letterSpacing:n})[y]},v=i.length>=2?Ot(i[1].coordinate-i[0].coordinate):1,b=cie(o,v,y);return l==="equidistantPreserveStart"?fie(v,b,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=yie(v,b,g,i,s,l==="preserveStartEnd"):p=gie(v,b,g,i,s),p.filter(E=>E.isShow))}var vie=["viewBox"],wie=["viewBox"];function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(null,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function II(t,e){if(t==null)return{};var n,r,i=_ie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zx(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=II(e,vie),o=this.props,{viewBox:s}=o,a=II(o,wie);return!Vy(r,s)||!Vy(i,a)||!Vy(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:a,mirror:l,tickMargin:u}=this.props,c,f,h,p,y,w,g=l?-1:1,v=e.tickSize||a,b=ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=f=e.coordinate,p=r+ +!l*o,h=p-g*v,w=h-g*u,y=b;break;case"left":h=p=e.coordinate,f=n+ +!l*i,c=f-g*v,y=c-g*u,w=b;break;case"right":h=p=e.coordinate,f=n+ +l*i,c=f+g*v,y=c+g*u,w=b;break;default:c=f=e.coordinate,p=r+ +l*o,h=p+g*v,w=h+g*u,y=b;break}return{line:{x1:c,y1:h,x2:f,y2:p},tick:{x:y,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a}=this.props,l=_t(_t(_t({},ke(this.props,!1)),ke(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);l=_t(_t({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!s||o==="right"&&s);l=_t(_t({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return x.createElement("line",Ia({},l,{className:Re("recharts-cartesian-axis-line",$o(a,"className"))}))}static renderTickItem(e,n,r){var i,o=Re(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,_t(_t({},n),{},{className:o}));else if(typeof e=="function")i=e(_t(_t({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Re(s,e.className)),i=x.createElement(Zm,Ia({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:a,unit:l}=this.props,u=Jx(_t(_t({},this.props),{},{ticks:r}),e,n),c=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=ke(this.props,!1),p=ke(s,!1),y=_t(_t({},h),{},{fill:"none"},ke(i,!1)),w=u.map((g,v)=>{var{line:b,tick:E}=this.getTickLineCoord(g),C=_t(_t(_t(_t({textAnchor:c,verticalAnchor:f},h),{},{stroke:"none",fill:o},p),E),{},{index:v,payload:g,visibleTicksCount:u.length,tickFormatter:a});return x.createElement(gn,Ia({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},vm(this.props,g,v)),i&&x.createElement("line",Ia({},y,b,{className:Re("recharts-cartesian-axis-tick-line",$o(i,"className"))})),s&&Jo.renderTickItem(s,C,"".concat(typeof a=="function"?a(g.value,v):g.value).concat(l||"")))});return w.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:x.createElement(gn,{className:Re("recharts-cartesian-axis",i),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),jn.renderCallByParent(this.props))}}Zx(Jo,"displayName","CartesianAxis");Zx(Jo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eie=["x1","y1","x2","y2","key"],Tie=["offset"],Sie=["xAxisId","yAxisId"],Aie=["xAxisId","yAxisId"];function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return(e=Iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iie(t){var e=Cie(t,"string");return typeof e=="symbol"?e:e+""}function Cie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(null,arguments)}function cp(t,e){if(t==null)return{};var n,r,i=kie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=t;return x.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QL(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=e,l=cp(e,Eie),u=ke(l,!1),c=cp(u,Tie);n=x.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function Nie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=cp(t,Sie),s=i.map((a,l)=>{var u=rn(rn({},o),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return QL(r,u)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Rie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=cp(t,Aie),s=i.map((a,l)=>{var u=rn(rn({},o),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return QL(r,u)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Die(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=a.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],y=p?i+s-f:u[h+1]-f;if(y<=0)return null;var w=h%e.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function jie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],y=p?i+s-f:u[h+1]-f;if(y<=0)return null;var w=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:y,height:a,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Mie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return MD(Jx(rn(rn(rn({},Jo.defaultProps),n),{},{ticks:LD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Lie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return MD(Jx(rn(rn(rn({},Jo.defaultProps),n),{},{ticks:LD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Vie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ew(t){var e=WD(),n=HD(),r=zD(),i=rn(rn({},Lr(t,Vie)),{},{x:ne(t.x)?t.x:r.left,y:ne(t.y)?t.y:r.top,width:ne(t.width)?t.width:r.width,height:ne(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,y=In(),w=ie(P=>$P(P,"xAxis",o,y)),g=ie(P=>$P(P,"yAxis",s,y));if(!ne(u)||u<=0||!ne(c)||c<=0||!ne(a)||a!==+a||!ne(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||Mie,b=i.horizontalCoordinatesGenerator||Lie,{horizontalPoints:E,verticalPoints:C}=i;if((!E||!E.length)&&typeof b=="function"){var k=h&&h.length,I=b({yAxis:g?rn(rn({},g),{},{ticks:k?h:g.ticks}):void 0,width:e,height:n,offset:r},k?!0:f);Fu(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(E=I)}if((!C||!C.length)&&typeof v=="function"){var S=p&&p.length,A=v({xAxis:w?rn(rn({},w),{},{ticks:S?p:w.ticks}):void 0,width:e,height:n,offset:r},S?!0:f);Fu(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(C=A)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Oie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Die,ys({},i,{horizontalPoints:E})),x.createElement(jie,ys({},i,{verticalPoints:C})),x.createElement(Nie,ys({},i,{offset:r,horizontalPoints:E,xAxis:w,yAxis:g})),x.createElement(Rie,ys({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:g})))}ew.displayName="CartesianGrid";function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){$ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ie(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bie={xAxis:{},yAxis:{},zAxis:{}},XL=mr({name:"cartesianAxis",initialState:Bie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=OI(OI({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:zie,removeXAxis:Wie,addYAxis:Hie,removeYAxis:Kie,addZAxis:Zse,removeZAxis:eae,updateYAxisWidth:qie}=XL.actions,Gie=XL.reducer,Yie=["children"],Qie=["dangerouslySetInnerHTML","ticks"];function JL(t,e,n){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(null,arguments)}function ZL(t,e){if(t==null)return{};var n,r,i=Zie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eoe(t){var e=at(),n=x.useMemo(()=>{var o=ZL(t,Yie);return o},[t]),r=ie(o=>zi(o,n.id)),i=n===r;return x.useEffect(()=>(e(zie(n)),()=>{e(Wie(n))}),[n,e]),i?t.children:null}var toe=t=>{var{xAxisId:e,className:n}=t,r=ie(BD),i=In(),o="xAxis",s=ie(f=>Nl(f,o,e,i)),a=ie(f=>MM(f,o,e,i)),l=ie(f=>NM(f,e)),u=ie(f=>KJ(f,e));if(l==null||u==null)return null;var c=ZL(t,Qie);return x.createElement(Jo,tw({},c,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Re("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},noe=t=>{var e,n,r,i,o;return x.createElement(eoe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},x.createElement(toe,t))};class dp extends x.Component{render(){return x.createElement(noe,this.props)}}JL(dp,"displayName","XAxis");JL(dp,"defaultProps",{allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,height:kn.height,hide:!1,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tickCount:kn.tickCount,type:kn.type,xAxisId:0});var roe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},ioe=["dangerouslySetInnerHTML","ticks"];function e4(t,e,n){return(e=ooe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=soe(t,"string");return typeof e=="symbol"?e:e+""}function soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}function aoe(t,e){if(t==null)return{};var n,r,i=loe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uoe(t){var e=at();return x.useEffect(()=>(e(Hie(t)),()=>{e(Kie(t))}),[t,e]),null}var coe=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=x.useRef(null),a=x.useRef(null),l=ie(BD),u=In(),c=at(),f="yAxis",h=ie(v=>Nl(v,f,n,u)),p=ie(v=>RM(v,n)),y=ie(v=>qJ(v,n)),w=ie(v=>MM(v,f,n,u));if(x.useLayoutEffect(()=>{var v;if(!(i!=="auto"||!p||Fx(o)||x.isValidElement(o))){var b=s.current,E=b==null||(v=b.tickRefs)===null||v===void 0?void 0:v.current,{tickSize:C,tickMargin:k}=b.props,I=roe({ticks:E,label:a.current,labelGapWithTick:5,tickSize:C,tickMargin:k});Math.round(p.width)!==Math.round(I)&&c(qie({id:n,width:I}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||y==null)return null;var g=aoe(t,ioe);return x.createElement(Jo,nw({},g,{ref:s,labelRef:a,scale:h,x:y.x,y:y.y,width:p.width,height:p.height,className:Re("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:w}))},doe=t=>{var e,n,r,i,o;return x.createElement(x.Fragment,null,x.createElement(uoe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),x.createElement(coe,t))},foe={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,width:On.width,yAxisId:0};class fp extends x.Component{render(){return x.createElement(doe,this.props)}}e4(fp,"displayName","YAxis");e4(fp,"defaultProps",foe);var hoe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=x;function poe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var moe=typeof Object.is=="function"?Object.is:poe,goe=ld.useSyncExternalStore,yoe=ld.useRef,voe=ld.useEffect,woe=ld.useMemo,_oe=ld.useDebugValue;hoe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=yoe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=woe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,moe(c,p))return y;var w=r(p);return i!==void 0&&i(y,w)?(c=p,y):(c=p,f=w)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=goe(t,o[0],o[1]);return voe(function(){s.hasValue=!0,s.value=a},[a]),_oe(a),a};function boe(t){t()}function xoe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){boe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var NI={notify(){},get:()=>[]};function Eoe(t,e){let n,r=NI,i=0,o=!1;function s(w){c();const g=r.subscribe(w);let v=!1;return()=>{v||(v=!0,g(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return o}function c(){i++,n||(n=t.subscribe(l),r=xoe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=NI)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const y={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return y}var Toe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Soe=Toe(),Aoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Poe=Aoe(),Ioe=()=>Soe||Poe?x.useLayoutEffect:x.useEffect,Coe=Ioe(),$y=Symbol.for("react-redux-context"),Uy=typeof globalThis<"u"?globalThis:{};function koe(){if(!x.createContext)return{};const t=Uy[$y]??(Uy[$y]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Ooe=koe();function Noe(t){const{children:e,context:n,serverState:r,store:i}=t,o=x.useMemo(()=>{const l=Eoe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);Coe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Ooe;return x.createElement(a.Provider,{value:o},e)}var Roe=Noe,Doe=(t,e)=>e,e1=V([Doe,Ne,sJ,jt,XM,Wi,YZ,Tt],eee),t1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},t4=fr("mouseClick"),n4=Qc();n4.startListening({actionCreator:t4,effect:(t,e)=>{var n=t.payload,r=e1(e.getState(),t1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(sZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rw=fr("mouseMove"),r4=Qc();r4.startListening({actionCreator:rw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Nx(r,r.tooltip.settings.shared),o=e1(r,t1(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(zM()))}});function joe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var RI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},i4=mr({name:"rootProps",initialState:RI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:RI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Moe=i4.reducer,{updateOptions:Loe}=i4.actions,o4=mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Voe}=o4.actions,$oe=o4.reducer,s4=fr("keyDown"),a4=fr("focus"),n1=Qc();n1.startListening({actionCreator:s4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(Rx(i,ta(n))),a=Wi(n);if(o==="Enter"){var l=ip(n,"axis","hover",String(i.index));e.dispatch(q0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=XJ(n),c=u==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,h=s+f*c;if(!(a==null||h>=a.length||h<0)){var p=ip(n,"axis","hover",String(h));e.dispatch(q0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});n1.startListening({actionCreator:a4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=ip(n,"axis","hover",String(o));e.dispatch(q0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var er=fr("externalEvent"),l4=Qc();l4.startListening({actionCreator:er,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:UZ(n),activeDataKey:tL(n),activeIndex:Bs(n),activeLabel:eL(n),activeTooltipIndex:Bs(n),isTooltipActive:FZ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Uoe=V([Rl],t=>t.tooltipItemPayloads),Foe=V([Uoe,sd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),u4=fr("touchMove"),c4=Qc();c4.startListening({actionCreator:u4,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Nx(r,r.tooltip.settings.shared);if(i==="axis"){var o=e1(r,t1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(UD),c=(s=l.getAttribute(FD))!==null&&s!==void 0?s:void 0,f=Foe(e.getState(),u,c);e.dispatch(BM({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}});var Boe=fD({brush:Jre,cartesianAxis:Gie,chartData:mee,graphicalItems:Wte,layout:vq,legend:tG,options:cee,polarAxis:Ite,polarOptions:$oe,referenceElements:sie,rootProps:Moe,tooltip:aZ}),zoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return zK({reducer:Boe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([n4.middleware,r4.middleware,n1.middleware,l4.middleware,c4.middleware]),devTools:{serialize:{replacer:joe},name:"recharts-".concat(n)}})};function d4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=In(),o=x.useRef(null);if(i)return n;o.current==null&&(o.current=zoe(e,r));var s=xb;return x.createElement(Roe,{context:s,store:o.current},n)}function f4(t){var{layout:e,width:n,height:r,margin:i}=t,o=at(),s=In();return x.useEffect(()=>{s||(o(mq(e)),o(gq({width:n,height:r})),o(pq(i)))},[o,s,e,n,r,i]),null}function h4(t){var e=at();return x.useEffect(()=>{e(Loe(t))},[e,t]),null}var Woe=["children"];function Hoe(t,e){if(t==null)return{};var n,r,i=Koe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(null,arguments)}var qoe={width:"100%",height:"100%"},Goe=x.forwardRef((t,e)=>{var n=WD(),r=HD(),i=YD();if(!sl(n)||!sl(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,x.createElement(_R,hp({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:qoe,ref:e}),o)}),Yoe=t=>{var{children:e}=t,n=ie(Lm);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return x.createElement(_R,{width:r,height:i,x:s,y:o},e)},DI=x.forwardRef((t,e)=>{var{children:n}=t,r=Hoe(t,Woe),i=In();return i?x.createElement(Yoe,null,n):x.createElement(Goe,hp({ref:e},r),n)});function Qoe(){var t=at(),[e,n]=x.useState(null),r=ie(Kq);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Yn(o)&&o!==r&&t(yq(o))}},[e,t,r]),n}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){Joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Joe(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=ese(t,"string");return typeof e=="symbol"?e:e+""}function ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tse=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:y,onTouchStart:w,style:g,width:v}=t,b=at(),[E,C]=x.useState(null),[k,I]=x.useState(null);vee();var S=Qoe(),A=x.useCallback(G=>{S(G),typeof e=="function"&&e(G),C(G),I(G)},[S,e,C,I]),P=x.useCallback(G=>{b(t4(G)),b(er({handler:o,reactEvent:G}))},[b,o]),R=x.useCallback(G=>{b(rw(G)),b(er({handler:u,reactEvent:G}))},[b,u]),N=x.useCallback(G=>{b(zM()),b(er({handler:c,reactEvent:G}))},[b,c]),j=x.useCallback(G=>{b(rw(G)),b(er({handler:f,reactEvent:G}))},[b,f]),D=x.useCallback(()=>{b(a4())},[b]),W=x.useCallback(G=>{b(s4(G.key))},[b]),q=x.useCallback(G=>{b(er({handler:s,reactEvent:G}))},[b,s]),Y=x.useCallback(G=>{b(er({handler:a,reactEvent:G}))},[b,a]),U=x.useCallback(G=>{b(er({handler:l,reactEvent:G}))},[b,l]),M=x.useCallback(G=>{b(er({handler:h,reactEvent:G}))},[b,h]),F=x.useCallback(G=>{b(er({handler:w,reactEvent:G}))},[b,w]),X=x.useCallback(G=>{b(u4(G)),b(er({handler:y,reactEvent:G}))},[b,y]),se=x.useCallback(G=>{b(er({handler:p,reactEvent:G}))},[b,p]);return x.createElement(aL.Provider,{value:E},x.createElement(qW.Provider,{value:k},x.createElement("div",{className:Re("recharts-wrapper",r),style:Xoe({position:"relative",cursor:"default",width:v,height:i},g),onClick:P,onContextMenu:q,onDoubleClick:Y,onFocus:D,onKeyDown:W,onMouseDown:U,onMouseEnter:R,onMouseLeave:N,onMouseMove:j,onMouseUp:M,onTouchEnd:se,onTouchMove:X,onTouchStart:F,ref:A},n)))}),nse=["children","className","width","height","style","compact","title","desc"];function rse(t,e){if(t==null)return{};var n,r,i=ise(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p4=x.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=t,c=rse(t,nse),f=ke(c,!1);return a?x.createElement(DI,{otherAttributes:f,title:l,desc:u},n):x.createElement(tse,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(DI,{otherAttributes:f,title:l,desc:u,ref:e},x.createElement(lie,null,n)))}),ose=["width","height"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function sse(t,e){if(t==null)return{};var n,r,i=ase(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lse={top:5,right:5,bottom:5,left:5},use={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lse,reverseStackOrder:!1,syncMethod:"index"},cse=x.forwardRef(function(e,n){var r,i=Lr(e.categoricalChartProps,use),{width:o,height:s}=i,a=sse(i,ose);if(!sl(o)||!sl(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(d4,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(GL,{chartData:h.data}),x.createElement(f4,{width:o,height:s,layout:i.layout,margin:i.margin}),x.createElement(h4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(p4,iw({},a,{width:o,height:s,ref:n})))}),dse=["axis","item"],MI=x.forwardRef((t,e)=>x.createElement(cse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dse,tooltipPayloadSearcher:uL,categoricalChartProps:t,ref:e}));function fse(t){var e=at();return x.useEffect(()=>{e(Voe(t))},[e,t]),null}var hse=["width","height","layout"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function pse(t,e){if(t==null)return{};var n,r,i=mse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gse={top:5,right:5,bottom:5,left:5},yse={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gse,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},vse=x.forwardRef(function(e,n){var r,i=Lr(e.categoricalChartProps,yse),{width:o,height:s,layout:a}=i,l=pse(i,hse);if(!sl(o)||!sl(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(d4,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(GL,{chartData:i.data}),x.createElement(f4,{width:o,height:s,layout:a,margin:i.margin}),x.createElement(h4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(fse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(p4,ow({width:o,height:s},l,{ref:n})))}),wse=["item"],_se={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bse=x.forwardRef((t,e)=>{var n=Lr(t,_se);return x.createElement(vse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wse,tooltipPayloadSearcher:uL,categoricalChartProps:n,ref:e})});const xse=({countryCode:t,className:e="w-6 h-4"})=>{const n=`https://flagcdn.com/w40/${t.toLowerCase()}.png`;return m.jsx("img",{src:n,alt:`Bandeira ${t}`,className:`${e} object-cover rounded-sm`,onError:r=>{const i=r.target;i.style.display="none";const o=i.parentElement;o&&(o.innerHTML="")}})},Ese=({videos:t})=>{const[e,n]=x.useState("all"),[r,i]=x.useState("7d"),[o,s]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState([]),[f,h]=x.useState([]),[p,y]=x.useState(new Date().toISOString().split("T")[0]),[w,g]=x.useState(!1),[v,b]=x.useState(!1),[E,C]=x.useState(!1),k=()=>{const U=new Date;let M=new Date,F=new Date;switch(r){case"24h":M.setHours(U.getHours()-24);break;case"2d":M.setDate(U.getDate()-2);break;case"7d":M.setDate(U.getDate()-7);break;case"30d":M.setDate(U.getDate()-30);break;case"custom":return M=new Date(`${o}T00:00:00`),F=new Date(`${a}T23:59:59`),{startDate:M,endDate:F}}return{startDate:M,endDate:U}},I=async()=>{g(!0);const{startDate:U,endDate:M}=k();try{let F=We(Te(ue,"analytics"),be("timestamp",">=",_e.fromDate(U)),be("timestamp","<=",_e.fromDate(M)),mi("timestamp","desc"));e!=="all"&&(F=We(Te(ue,"analytics"),be("videoId","==",e),be("timestamp",">=",_e.fromDate(U)),be("timestamp","<=",_e.fromDate(M)),mi("timestamp","desc")));const se=(await tr(F)).docs.map(G=>({id:G.id,...G.data(),timestamp:G.data().timestamp.toDate()}));c(se)}catch(F){console.error("Erro ao carregar analytics:",F)}g(!1)},S=async()=>{b(!0);try{const U=new Date(`${p}T00:00:00`),M=new Date(`${p}T23:59:59`);let F=We(Te(ue,"analytics"),be("timestamp",">=",_e.fromDate(U)),be("timestamp","<=",_e.fromDate(M)),mi("timestamp","desc"));e!=="all"&&(F=We(Te(ue,"analytics"),be("videoId","==",e),be("timestamp",">=",_e.fromDate(U)),be("timestamp","<=",_e.fromDate(M)),mi("timestamp","desc")));const se=(await tr(F)).docs.map(G=>({id:G.id,...G.data(),timestamp:G.data().timestamp.toDate()}));h(se)}catch(U){console.error("Erro ao carregar dia:",U)}b(!1)};x.useEffect(()=>{I()},[e,r,o,a]),x.useEffect(()=>{S()},[p,e]);const A=u.reduce((U,M)=>{const F=U.find(X=>X.countryCode===M.countryCode);return F?F.clicks++:U.push({country:M.country,countryCode:M.countryCode,clicks:1}),U},[]).sort((U,M)=>M.clicks-U.clicks),P=u.reduce((U,M)=>{const F=U.find(X=>X.name===M.device);return F?F.value++:U.push({name:M.device,value:1,color:M.device==="Mobile"?"#00DBD9":M.device==="Desktop"?"#DBDB00":"#10b981"}),U},[]),R=[],{startDate:N,endDate:j}=k();if(r==="24h")for(let U=23;U>=0;U--){const M=new Date;M.setHours(M.getHours()-U);const F=M.getHours().toString().padStart(2,"0")+":00",X=u.filter(se=>{const G=new Date(se.timestamp);return G.getHours()===M.getHours()&&G.getDate()===M.getDate()}).length;R.push({hour:F,clicks:X})}else{const U=Math.ceil((j.getTime()-N.getTime())/864e5);for(let M=U-1;M>=0;M--){const F=new Date;F.setDate(F.getDate()-M);const X=F.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),se=u.filter(G=>new Date(G.timestamp).toDateString()===F.toDateString()).length;R.push({hour:X,clicks:se})}}const D=[];for(let U=0;U<24;U++){const M=U.toString().padStart(2,"0")+":00",F=f.filter(X=>new Date(X.timestamp).getHours()===U).length;D.push({hour:M,clicks:F})}const W=E?A:A.slice(0,10),q=()=>{const U=[["Posio","Pas","Cdigo do Pas","Cliques"],...A.map((se,G)=>[G+1,se.country,se.countryCode,se.clicks])].map(se=>se.join(",")).join(`
`),M=new Blob([U],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),X=URL.createObjectURL(M);F.setAttribute("href",X),F.setAttribute("download",`analytics_paises_${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},Y=()=>{const U=[["Hora","Cliques"],...D.map(se=>[se.hour,se.clicks])].map(se=>se.join(",")).join(`
`),M=new Blob([U],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),X=URL.createObjectURL(M);F.setAttribute("href",X),F.setAttribute("download",`analytics_horas_${p}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx(rW,{className:"mr-3 text-[#00DBD9]"}),"Analytics"]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("select",{value:e,onChange:U=>n(U.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",children:[m.jsx("option",{value:"all",children:"Todos os vdeos"}),t.map(U=>m.jsx("option",{value:U.id,children:U.title},U.id))]}),m.jsxs("select",{value:r,onChange:U=>i(U.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus-ring-[#00DBD9]",children:[m.jsx("option",{value:"24h",children:"ltimas 24 horas"}),m.jsx("option",{value:"2d",children:"ltimos 2 dias"}),m.jsx("option",{value:"7d",children:"ltimos 7 dias"}),m.jsx("option",{value:"30d",children:"ltimos 30 dias"}),m.jsx("option",{value:"custom",children:"Personalizado"})]})]})]}),r==="custom"&&m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(XS,{className:"text-gray-400",size:20}),m.jsx("label",{className:"text-gray-400",children:"De:"}),m.jsx("input",{type:"date",value:o,onChange:U=>s(U.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("label",{className:"text-gray-400",children:"At:"}),m.jsx("input",{type:"date",value:a,onChange:U=>l(U.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]"})]})]}),m.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[m.jsx(sW,{className:"mr-2 text-[#00DBD9]",size:20}),"Cliques por Hora - Dia Especfico"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(XS,{className:"text-gray-400",size:16}),m.jsx("input",{type:"date",value:p,onChange:U=>y(U.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]"})]}),m.jsxs("button",{onClick:Y,className:"flex items-center px-3 py-2 bg-[#00DBD9] hover:bg-[#5ff2ef] text-black rounded-lg transition-colors text-sm",children:[m.jsx(d0,{size:16,className:"mr-2"}),"CSV"]})]})]}),v?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00DBD9]"})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"h-64 mb-4",children:m.jsx(My,{width:"100%",height:"100%",children:m.jsxs(MI,{data:D,children:[m.jsx(ew,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(dp,{dataKey:"hour",stroke:"#9CA3AF"}),m.jsx(fp,{stroke:"#9CA3AF"}),m.jsx(Dy,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"}}),m.jsx(lp,{dataKey:"clicks",fill:"#00DBD9",radius:[4,4,0,0]})]})})}),m.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Total de cliques no dia ",new Date(p).toLocaleDateString("pt-BR"),": ",f.length]})]})]}),w?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00DBD9]"})}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[m.jsx(yW,{className:"mr-2 text-[#00DBD9]",size:20}),"Cliques ",r==="24h"?"por Hora":"por Dia"]}),m.jsx("div",{className:"h-64",children:m.jsx(My,{width:"100%",height:"100%",children:m.jsxs(MI,{data:R,children:[m.jsx(ew,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(dp,{dataKey:"hour",stroke:"#9CA3AF"}),m.jsx(fp,{stroke:"#9CA3AF"}),m.jsx(Dy,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"}}),m.jsx(lp,{dataKey:"clicks",fill:"#00DBD9",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[m.jsx(hW,{className:"mr-2 text-[#00DBD9]",size:20}),"Dispositivos"]}),m.jsx("div",{className:"h-64",children:m.jsx(My,{width:"100%",height:"100%",children:m.jsxs(bse,{children:[m.jsx(Yx,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:P.map((U,M)=>m.jsx(ad,{fill:U.color},`cell-${M}`))}),m.jsx(Dy,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#FFFFFF"}})]})})}),m.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:P.map((U,M)=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:U.color}}),m.jsxs("span",{className:"text-gray-200 text-sm",children:[U.name," (",U.value,")"]})]},M))})]}),m.jsxs("div",{className:"lg:col-span-2 p-6 rounded-xl border border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[m.jsx(lW,{className:"mr-2 text-[#00DBD9]",size:20}),"Pases (",A.length," total)"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:q,className:"flex items-center px-3 py-1 bg-[#00DBD9] hover:bg-[#7ffffd] text-black rounded-lg transition-colors text-sm",children:[m.jsx(d0,{size:16,className:"mr-1"}),"CSV"]}),A.length>10&&m.jsx("button",{onClick:()=>C(!E),className:"flex items-center px-3 py-1 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors text-sm",children:E?m.jsxs(m.Fragment,{children:[m.jsx(oW,{size:16,className:"mr-1"}),"Mostrar menos"]}):m.jsxs(m.Fragment,{children:[m.jsx(iW,{size:16,className:"mr-1"}),"Ver todos"]})})]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"#"}),m.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Pas"}),m.jsx("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:"Cliques"})]})}),m.jsx("tbody",{children:W.map((U,M)=>m.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800",children:[m.jsx("td",{className:"py-3 px-4 text-gray-300",children:M+1}),m.jsx("td",{className:"py-3 px-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(xse,{countryCode:U.countryCode}),m.jsx("span",{className:"text-white",children:U.country})]})}),m.jsx("td",{className:"py-3 px-4 text-right",children:m.jsx("span",{className:"bg-[#00DBD9] text-black px-2 py-1 rounded-full text-sm font-medium",children:U.clicks})})]},U.countryCode))})]}),A.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-400",children:"Nenhum dado encontrado para o perodo selecionado."})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:u.length}),m.jsx("div",{className:"text-gray-400 text-sm",children:"Total de Cliques"})]}),m.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:A.length}),m.jsx("div",{className:"text-gray-400 text-sm",children:"Pases nicos"})]}),m.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:P.length}),m.jsx("div",{className:"text-gray-400 text-sm",children:"Tipos de Dispositivo"})]})]})]})},Tse=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState([]),[a,l]=x.useState(!1);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;l(!0);const w=We(Te(ue,"chatMessages"),be("videoId","==",e),mi("timestamp","desc")),g=Ln(w,E=>{const C=E.docs.map(k=>{var I;return{id:k.id,...k.data(),timestamp:(I=k.data().timestamp)==null?void 0:I.toDate()}});i(C),l(!1)}),v=We(Te(ue,"chatModeration"),be("videoId","==",e)),b=Ln(v,E=>{const C=E.docs.map(k=>{var I,S;return{id:k.id,...k.data(),mutedUntil:(I=k.data().mutedUntil)==null?void 0:I.toDate(),createdAt:(S=k.data().createdAt)==null?void 0:S.toDate()}});s(C)});return()=>{g(),b()}},[e]);const u=async w=>{if(confirm("Tem certeza que deseja deletar esta mensagem?"))try{await Rn(on(ue,"chatMessages",w))}catch(g){console.error("Erro ao deletar mensagem:",g),alert("Erro ao deletar mensagem")}},c=async w=>{try{const g=on(ue,"chatModeration",`${e}_${w}`);await Y2(g,{videoId:e,username:w,mutedUntil:null,permanentlyMuted:!0,createdAt:new Date}),alert(`Usurio ${w} foi silenciado permanentemente`)}catch(g){console.error("Erro ao silenciar usurio:",g),alert("Erro ao silenciar usurio")}},f=async w=>{try{const g=on(ue,"chatModeration",`${e}_${w}`);await Rn(g),alert(`Usurio ${w} foi dessilenciado`)}catch(g){console.error("Erro ao dessilenciar:",g),alert("Erro ao dessilenciar usurio")}},h=w=>{const g=o.find(v=>v.username===w);return g?!!(g.permanentlyMuted||g.mutedUntil&&g.mutedUntil>new Date):!1},p=w=>{const g=o.find(v=>v.username===w);return g?g.permanentlyMuted?"Silenciado permanentemente":g.mutedUntil&&g.mutedUntil>new Date?`Silenciado por ${Math.ceil((g.mutedUntil.getTime()-Date.now())/6e4)} min`:null:null},y=t.find(w=>w.id===e);return m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx(hR,{className:"mr-3 text-[#00DBD9]"}),"Moderao de Chat"]})}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),m.jsx("select",{value:e,onChange:w=>n(w.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(w=>m.jsx("option",{value:w.id,children:w.title},w.id))})]}),e&&m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:[y==null?void 0:y.title," - Mensagens em tempo real"]}),a?m.jsx("div",{className:"flex justify-center items-center py-8",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):r.length===0?m.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nenhuma mensagem no chat ainda"}):m.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.map(w=>{var b;const g=h(w.username),v=p(w.username);return m.jsx("div",{className:`p-3 rounded-lg border ${g?"bg-red-900/20 border-red-800":"bg-gray-800 border-gray-700"}`,children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[m.jsx("span",{className:"text-white font-semibold text-sm",children:w.username}),v&&m.jsx("span",{className:"text-xs bg-red-900 text-red-300 px-2 py-0.5 rounded",children:v}),m.jsx("span",{className:"text-xs text-gray-500",children:(b=w.timestamp)==null?void 0:b.toLocaleString()})]}),m.jsx("div",{className:"text-gray-300 text-sm",children:w.message})]}),m.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[m.jsx("button",{onClick:()=>u(w.id),className:"p-1.5 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Deletar mensagem",children:m.jsx(Sl,{size:14})}),g?m.jsxs("button",{onClick:()=>f(w.username),className:"flex items-center px-2 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs transition-colors",children:[m.jsx(wW,{size:14,className:"mr-1"}),"Dessilenciar"]}):m.jsxs("button",{onClick:()=>c(w.username),className:"flex items-center px-2 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-xs transition-colors",title:"Silenciar permanentemente",children:[m.jsx(_W,{size:14,className:"mr-1"}),"Silenciar"]})]})]})},w.id)})})]})]})},Sse=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState(!1),[a,l]=x.useState({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"}),[u,c]=x.useState(null);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;const g=We(Te(ue,"featureButtons"),be("videoId","==",e));return Ln(g,b=>{const E=b.docs.map(C=>{var k,I;return{id:C.id,...C.data(),createdAt:(k=C.data().createdAt)==null?void 0:k.toDate(),updatedAt:(I=C.data().updatedAt)==null?void 0:I.toDate()}});i(E)})},[e]);const f=async g=>{g.preventDefault();try{u?await tl(on(ue,"featureButtons",u),{text:a.text,link:a.link,isActive:a.isActive,backgroundColor:a.backgroundColor,textColor:a.textColor,updatedAt:new Date}):await bi(Te(ue,"featureButtons"),{videoId:e,text:a.text,link:a.link,isActive:a.isActive,backgroundColor:a.backgroundColor,textColor:a.textColor,createdAt:new Date,updatedAt:new Date}),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"}),s(!1),c(null)}catch(v){console.error("Erro ao salvar boto:",v),alert("Erro ao salvar boto")}},h=g=>{l({text:g.text,link:g.link,isActive:g.isActive,backgroundColor:g.backgroundColor,textColor:g.textColor}),c(g.id),s(!0)},p=async g=>{if(confirm("Tem certeza que deseja deletar este boto?"))try{await Rn(on(ue,"featureButtons",g))}catch(v){console.error("Erro ao deletar:",v),alert("Erro ao deletar boto")}},y=async(g,v)=>{try{await tl(on(ue,"featureButtons",g),{isActive:!v,updatedAt:new Date})}catch(b){console.error("Erro ao atualizar status:",b)}},w=t.find(g=>g.id===e);return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx(pR,{className:"mr-3 text-[#00DBD9]"}),"Gerenciar Feature Buttons"]}),!o&&m.jsx("button",{onClick:()=>{s(!0),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"bg-[#00DBD9] hover:bg-[#97fffd] text-black px-4 py-2 rounded-lg transition-colors",children:"Novo Feature Button"})]}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),m.jsx("select",{value:e,onChange:g=>n(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(g=>m.jsx("option",{value:g.id,children:g.title},g.id))})]}),o&&m.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white",children:[u?"Editar":"Novo"," Feature Button"]}),m.jsx("button",{onClick:()=>{s(!1),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"text-gray-400 hover:text-white",children:m.jsx(sb,{size:20})})]}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto *"}),m.jsx("input",{type:"text",value:a.text,onChange:g=>l(v=>({...v,text:g.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ex: Pulsa para hacer tu inscripcin",required:!0,maxLength:100})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Link do Boto *"}),m.jsx("input",{type:"url",value:a.link,onChange:g=>l(v=>({...v,link:g.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://exemplo.com",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Cor de Fundo"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"color",value:a.backgroundColor,onChange:g=>l(v=>({...v,backgroundColor:g.target.value})),className:"w-12 h-10 rounded cursor-pointer"}),m.jsx("input",{type:"text",value:a.backgroundColor,onChange:g=>l(v=>({...v,backgroundColor:g.target.value})),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"#4ade80"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Cor do Texto"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"color",value:a.textColor,onChange:g=>l(v=>({...v,textColor:g.target.value})),className:"w-12 h-10 rounded cursor-pointer"}),m.jsx("input",{type:"text",value:a.textColor,onChange:g=>l(v=>({...v,textColor:g.target.value})),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"#000000"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Preview"}),m.jsx("button",{type:"button",className:"w-full py-3 px-6 rounded-lg text-center font-semibold",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text||"Preview do boto"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:g=>l(v=>({...v,isActive:g.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-red-500"}),m.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Boto ativo (visvel na pgina do vdeo)"})]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:()=>{s(!1),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),m.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-[#00DBD9] hover:bg-[#90fdfb] text-black rounded-lg transition-colors",children:[m.jsx(ob,{size:16,className:"mr-2"}),u?"Atualizar":"Criar"]})]})]})]}),m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[m.jsx("div",{className:"p-4 border-b border-gray-800",children:m.jsxs("h3",{className:"text-lg font-semibold text-white",children:[w==null?void 0:w.title," - Feature Buttons"]})}),m.jsx("div",{className:"divide-y divide-gray-800",children:r.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400",children:"Nenhum feature button para este vdeo"}):r.map(g=>m.jsx("div",{className:"p-4 hover:bg-gray-800 transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"flex items-center space-x-2 mb-2",children:m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${g.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:g.isActive?"Ativo":"Inativo"})}),m.jsx("div",{className:"inline-block py-2 px-4 rounded-lg font-semibold mb-2",style:{backgroundColor:g.backgroundColor,color:g.textColor},children:g.text}),m.jsx("p",{className:"text-sm text-gray-400 break-all",children:g.link})]}),m.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[m.jsx("button",{onClick:()=>y(g.id,g.isActive),className:`px-3 py-1 text-sm rounded transition-colors ${g.isActive?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:g.isActive?"Desativar":"Ativar"}),m.jsx("button",{onClick:()=>h(g),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Editar"}),m.jsx("button",{onClick:()=>p(g.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:m.jsx(Sl,{size:16})})]})]})},g.id))})]})]})},Ase=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState(!1),[a,l]=x.useState({message:"",link:"",isActive:!0}),[u,c]=x.useState(null);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;const g=We(Te(ue,"pinnedMessages"),be("videoId","==",e));return Ln(g,b=>{const E=b.docs.map(C=>{var k,I;return{id:C.id,...C.data(),createdAt:(k=C.data().createdAt)==null?void 0:k.toDate(),updatedAt:(I=C.data().updatedAt)==null?void 0:I.toDate()}});i(E)})},[e]);const f=async g=>{g.preventDefault();try{u?await tl(on(ue,"pinnedMessages",u),{message:a.message,link:a.link||null,isActive:a.isActive,updatedAt:new Date}):await bi(Te(ue,"pinnedMessages"),{videoId:e,message:a.message,link:a.link||null,isActive:a.isActive,createdAt:new Date,updatedAt:new Date}),l({message:"",link:"",isActive:!0}),s(!1),c(null)}catch(v){console.error("Erro ao salvar mensagem fixada:",v),alert("Erro ao salvar mensagem fixada")}},h=g=>{l({message:g.message,link:g.link||"",isActive:g.isActive}),c(g.id),s(!0)},p=async g=>{if(confirm("Tem certeza que deseja deletar esta mensagem fixada?"))try{await Rn(on(ue,"pinnedMessages",g))}catch(v){console.error("Erro ao deletar:",v),alert("Erro ao deletar mensagem fixada")}},y=async(g,v)=>{try{await tl(on(ue,"pinnedMessages",g),{isActive:!v,updatedAt:new Date})}catch(b){console.error("Erro ao atualizar status:",b)}},w=t.find(g=>g.id===e);return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx(f0,{className:"mr-3 text-[#00DBD9]"}),"Gerenciar Mensagens Fixadas"]}),!o&&m.jsx("button",{onClick:()=>{s(!0),c(null),l({message:"",link:"",isActive:!0})},className:"bg-[#00DBD9] hover:bg-[#80f5f3] text-black px-4 py-2 rounded-lg transition-colors",children:"Nova Mensagem Fixada"})]}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),m.jsx("select",{value:e,onChange:g=>n(g.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",children:t.map(g=>m.jsx("option",{value:g.id,children:g.title},g.id))})]}),o&&m.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white",children:[u?"Editar":"Nova"," Mensagem Fixada"]}),m.jsx("button",{onClick:()=>{s(!1),c(null),l({message:"",link:"",isActive:!0})},className:"text-gray-400 hover:text-white",children:m.jsx(sb,{size:20})})]}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Mensagem *"}),m.jsx("textarea",{value:a.message,onChange:g=>l(v=>({...v,message:g.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",rows:3,required:!0,maxLength:500})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Link (opcional)"}),m.jsx("input",{type:"url",value:a.link,onChange:g=>l(v=>({...v,link:g.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",placeholder:"https://exemplo.com"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:g=>l(v=>({...v,isActive:g.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-[#00DBD9]"}),m.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Mensagem ativa (visvel no chat)"})]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:()=>{s(!1),c(null),l({message:"",link:"",isActive:!0})},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),m.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-[#00DBD9] hover:bg-[#91f6f4] text-black rounded-lg transition-colors",children:[m.jsx(ob,{size:16,className:"mr-2"}),u?"Atualizar":"Criar"]})]})]})]}),m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[m.jsx("div",{className:"p-4 border-b border-gray-800",children:m.jsxs("h3",{className:"text-lg font-semibold text-white",children:[w==null?void 0:w.title," - Mensagens Fixadas"]})}),m.jsx("div",{className:"divide-y divide-gray-800",children:r.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400",children:"Nenhuma mensagem fixada para este vdeo"}):r.map(g=>m.jsx("div",{className:"p-4 hover:bg-gray-800 transition-colors",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(f0,{size:16,className:"text-gray-400"}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${g.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:g.isActive?"Ativa":"Inativa"})]}),m.jsx("p",{className:"text-white mb-1",children:g.message}),g.link&&m.jsx("a",{href:g.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 text-sm hover:underline",children:g.link})]}),m.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[m.jsx("button",{onClick:()=>y(g.id,g.isActive),className:`px-3 py-1 text-sm rounded transition-colors ${g.isActive?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:g.isActive?"Desativar":"Ativar"}),m.jsx("button",{onClick:()=>h(g),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Editar"}),m.jsx("button",{onClick:()=>p(g.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:m.jsx(Sl,{size:16})})]})]})},g.id))})]})]})},Pse=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState(""),[o,s]=x.useState(""),[a,l]=x.useState(!1),[u,c]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState([]);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{const k=localStorage.getItem("moderatorLastMessage"),I=localStorage.getItem("moderatorLastLink"),S=localStorage.getItem("moderatorMessageHistory");if(k&&c(k),I&&h(I),S)try{y(JSON.parse(S))}catch(A){console.error("Erro ao carregar histrico:",A)}},[]);const w=async k=>{if(k.preventDefault(),!r.trim()){alert("Por favor, insira uma mensagem.");return}l(!0);try{await bi(Te(ue,"chatMessages"),{videoId:e,username:"Moderador",message:r.trim(),link:o.trim()||null,isModerator:!0,timestamp:new Date});const I=r.trim(),S=o.trim();c(I),h(S),localStorage.setItem("moderatorLastMessage",I),localStorage.setItem("moderatorLastLink",S);const P=[{message:I,link:S,timestamp:Date.now()},...p].slice(0,20);y(P),localStorage.setItem("moderatorMessageHistory",JSON.stringify(P)),i(""),s(""),alert("Mensagem enviada com sucesso!")}catch(I){console.error("Erro ao enviar mensagem:",I),alert("Erro ao enviar mensagem. Tente novamente.")}finally{l(!1)}},g=async()=>{if(!u){alert("Nenhuma mensagem anterior para repetir.");return}l(!0);try{await bi(Te(ue,"chatMessages"),{videoId:e,username:"Moderador",message:u,link:f||null,isModerator:!0,timestamp:new Date}),alert("Mensagem anterior reenviada com sucesso!")}catch(k){console.error("Erro ao reenviar mensagem:",k),alert("Erro ao reenviar mensagem. Tente novamente.")}finally{l(!1)}},v=async k=>{if(confirm("Deseja reenviar esta mensagem?")){l(!0);try{await bi(Te(ue,"chatMessages"),{videoId:e,username:"Moderador",message:k.message,link:k.link||null,isModerator:!0,timestamp:new Date}),alert("Mensagem reenviada com sucesso!")}catch(I){console.error("Erro ao reenviar mensagem:",I),alert("Erro ao reenviar mensagem. Tente novamente.")}finally{l(!1)}}},b=k=>{const I=p.filter(S=>S.timestamp!==k);y(I),localStorage.setItem("moderatorMessageHistory",JSON.stringify(I))},E=()=>{confirm("Tem certeza que deseja limpar todo o histrico de mensagens?")&&(y([]),localStorage.removeItem("moderatorMessageHistory"))},C=t.find(k=>k.id===e);return m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx($f,{className:"mr-3 text-[#00DBD9]"}),"Enviar Mensagem no Chat (Moderador)"]})}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),m.jsx("select",{value:e,onChange:k=>n(k.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",children:t.map(k=>m.jsx("option",{value:k.id,children:k.title},k.id))})]}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Enviar mensagem como Moderador no chat de: ",C==null?void 0:C.title]}),m.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Mensagem *"}),m.jsx("textarea",{value:r,onChange:k=>i(k.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",rows:4,placeholder:"Digite a mensagem do moderador...",required:!0,maxLength:500}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.length,"/500 caracteres"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Link (opcional)"}),m.jsx("input",{type:"url",value:o,onChange:k=>s(k.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#00DBD9]",placeholder:"https://exemplo.com (opcional)"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se preenchido, o link ser exibido abaixo da mensagem e ser clicvel"})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Preview da mensagem:"}),m.jsxs("div",{className:"bg-[#131313] rounded-xl p-3 border border-[#2b2b2b]",children:[m.jsx("span",{className:"text-[11px] block mb-1",style:{color:"#FFE100"},children:"Moderador"}),r?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm leading-snug break-words text-white",children:r}),o&&m.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-sm leading-snug break-words hover:underline",style:{color:"#FFE100"},children:o})]}):m.jsx("p",{className:"text-sm text-gray-500",children:"Sua mensagem aparecer aqui..."})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[u&&m.jsxs("button",{type:"button",onClick:g,disabled:a,className:"flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white rounded-lg transition-colors",children:[a?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):m.jsx(pW,{size:18,className:"mr-2"}),"Repetir ltima"]}),m.jsxs("button",{type:"submit",disabled:a||!r.trim(),className:"flex items-center px-6 py-3 bg-[#00DBD9] hover:bg-[#80f8f6] disabled:bg-[#a9faf9] disabled:opacity-50 text-black rounded-lg transition-colors",children:[a?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):m.jsx($f,{size:18,className:"mr-2"}),a?"Enviando...":"Enviar Mensagem"]})]})]})]}),p.length>0&&m.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[m.jsx(cW,{className:"mr-2 text-red-500",size:20}),"Histrico de Mensagens (",p.length,")"]}),m.jsx("button",{onClick:E,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Limpar Histrico"})]}),m.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:p.map(k=>m.jsx("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700 hover:bg-gray-750 transition-colors",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[m.jsxs("div",{className:"bg-[#131313] rounded-xl p-3 border border-[#2b2b2b] mb-2",children:[m.jsx("span",{className:"text-[11px] block mb-1",style:{color:"#FFE100"},children:"Moderador"}),m.jsx("p",{className:"text-sm leading-snug break-words text-white",children:k.message}),k.link&&m.jsx("a",{href:k.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm leading-snug break-words hover:underline",style:{color:"#FFE100"},children:k.link})]}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.timestamp).toLocaleString()})]}),m.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[m.jsx("button",{onClick:()=>v(k),disabled:a,className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white rounded text-sm transition-colors",title:"Reenviar esta mensagem",children:m.jsx($f,{size:14})}),m.jsx("button",{onClick:()=>b(k.timestamp),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors",title:"Remover do histrico",children:m.jsx(Sl,{size:14})})]})]})},k.timestamp))})]})]})},Ise=()=>{const[t,e]=x.useState([]),[n,r]=x.useState([]),[i,o]=x.useState(!1),[s,a]=x.useState(null),[l,u]=x.useState(!0),[c,f]=x.useState("videos"),[h,p]=x.useState(null),[y,w]=x.useState(!1);x.useEffect(()=>{const I=We(Te(ue,"videos"),mi("createdAt","desc"));return Ln(I,A=>{const P=A.docs.map(R=>{var N,j;return{id:R.id,...R.data(),createdAt:(N=R.data().createdAt)==null?void 0:N.toDate(),updatedAt:(j=R.data().updatedAt)==null?void 0:j.toDate()}});e(P),r(P.filter(R=>R.isActive)),u(!1)})},[]);const g=async(I,S)=>{try{const A=We(Te(ue,"chatMessages"),be("videoId","==",I),mi("timestamp","asc")),R=(await tr(A)).docs.map(q=>{var Y;return{id:q.id,...q.data(),timestamp:(Y=q.data().timestamp)==null?void 0:Y.toDate()}});if(R.length===0){alert("No h mensagens de chat para este vdeo.");return}const N=["Username,Email,Message,Link,IsModerator,Timestamp",...R.map(q=>{var Y;return`"${q.username}","${q.email||""}","${q.message.replace(/"/g,'""')}","${q.link||""}","${q.isModerator?"Sim":"No"}","${((Y=q.timestamp)==null?void 0:Y.toLocaleString())||""}"`})].join(`
`),j=new Blob([N],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),W=URL.createObjectURL(j);D.setAttribute("href",W),D.setAttribute("download",`chat_${S.replace(/[^a-zA-Z0-9]/g,"_")}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch(A){console.error("Erro ao baixar chat:",A),alert("Erro ao baixar o chat. Tente novamente.")}},v=I=>{a(I),o(!0)},b=()=>{o(!1),a(null)},E=async I=>{p(I),w(!0)},C=async()=>{if(h)try{await Rn(on(ue,"videos",h));const I=We(Te(ue,"chatMessages"),be("videoId","==",h)),S=await tr(I);await Promise.all(S.docs.map(M=>Rn(M.ref)));const A=We(Te(ue,"analytics"),be("videoId","==",h)),P=await tr(A);await Promise.all(P.docs.map(M=>Rn(M.ref)));const R=We(Te(ue,"featureButtons"),be("videoId","==",h)),N=await tr(R);await Promise.all(N.docs.map(M=>Rn(M.ref)));const j=We(Te(ue,"pinnedMessages"),be("videoId","==",h)),D=await tr(j);await Promise.all(D.docs.map(M=>Rn(M.ref)));const W=We(Te(ue,"chatModeration"),be("videoId","==",h)),q=await tr(W);await Promise.all(q.docs.map(M=>Rn(M.ref)));const Y=We(Te(ue,"videoLikes"),be("videoId","==",h)),U=await tr(Y);await Promise.all(U.docs.map(M=>Rn(M.ref))),alert("Vdeo e todos os dados relacionados foram deletados com sucesso!"),w(!1),p(null)}catch(I){console.error("Erro ao deletar vdeo:",I),alert("Erro ao deletar vdeo. Tente novamente.")}},k=()=>{w(!1),p(null)};return l?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-white",children:"Painel Administrativo"}),c==="videos"&&m.jsxs("button",{onClick:()=>o(!0),className:"bg-[#00DBD9] hover:bg-cyan-500 text-black px-6 py-3 rounded-lg flex items-center transition duration-200",children:[m.jsx(pR,{className:"mr-2",size:20}),"Novo Vdeo"]})]}),m.jsx("div",{className:"mb-8",children:m.jsx("div",{className:"border-b border-gray-800",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsx("button",{onClick:()=>f("videos"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="videos"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Vdeos"}),m.jsx("button",{onClick:()=>f("moderation"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="moderation"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Moderao de Chat"}),m.jsx("button",{onClick:()=>f("moderatorChat"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="moderatorChat"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Enviar no Chat"}),m.jsx("button",{onClick:()=>f("pinned"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="pinned"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Mensagens Fixadas"}),m.jsx("button",{onClick:()=>f("buttons"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="buttons"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Feature Buttons"}),m.jsx("button",{onClick:()=>f("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="analytics"?"border-[#00DBD9] text-[#00DBD9]":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Analytics"})]})})}),i&&m.jsx(CW,{video:s,onClose:b,allVideos:t}),c==="videos"&&m.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden border border-gray-800",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Ttulo"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Logo"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Slug"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Criado em"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-800",children:t.map(I=>{var S;return m.jsxs("tr",{className:"hover:bg-gray-800 transition duration-200",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-white font-medium",children:I.title})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.logoUrl?m.jsx("img",{src:I.logoUrl,alt:"Logo",className:"h-8 max-w-16 object-contain bg-gray-700 rounded p-1"}):m.jsx("span",{className:"text-gray-500 text-sm",children:"Sem logo"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"text-gray-400 font-mono",children:["/",I.slug]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:I.isActive?"Ativo":"Inativo"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-400",children:(S=I.createdAt)==null?void 0:S.toLocaleDateString()}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>v(I),className:"text-blue-400 hover:text-blue-300 p-1 rounded transition-colors",title:"Editar",children:m.jsx(gW,{size:18})}),m.jsx("button",{onClick:()=>g(I.id,I.title),className:"text-yellow-400 hover:text-yellow-300 p-1 rounded transition-colors",title:"Baixar Chat CSV",children:m.jsx(d0,{size:18})}),m.jsx("a",{href:`/${I.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 p-1 rounded transition-colors",title:"Ver Pgina",children:m.jsx(fR,{size:18})}),m.jsx("button",{onClick:()=>E(I.id),className:"text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Deletar Vdeo",children:m.jsx(Sl,{size:18})})]})})]},I.id)})})]}),t.length===0&&m.jsx("div",{className:"text-center py-12 text-gray-400",children:"Nenhum vdeo cadastrado ainda."})]})}),c==="analytics"&&m.jsx(Ese,{videos:t}),c==="moderation"&&m.jsx(Tse,{videos:n}),c==="buttons"&&m.jsx(Sse,{videos:n}),c==="pinned"&&m.jsx(Ase,{videos:n}),c==="moderatorChat"&&m.jsx(Pse,{videos:n}),y&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-md border border-gray-800",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmar Deleo"}),m.jsx("p",{className:"text-gray-300 mb-6",children:"Tem certeza que deseja deletar este vdeo? Esta ao ir deletar:"}),m.jsxs("ul",{className:"text-gray-400 mb-6 space-y-2 list-disc list-inside",children:[m.jsx("li",{children:"O vdeo"}),m.jsx("li",{children:"Todas as mensagens do chat"}),m.jsx("li",{children:"Todos os dados de analytics"}),m.jsx("li",{children:"Todos os feature buttons"}),m.jsx("li",{children:"Todas as mensagens fixadas"}),m.jsx("li",{children:"Todas as moderaes de chat"}),m.jsx("li",{children:"Todos os likes"})]}),m.jsx("p",{className:"text-red-400 font-semibold mb-6",children:"Esta ao no pode ser desfeita!"}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Deletar Tudo"})]})]})})})]})},Cse={containerBg:"#1a1a1a",headerBg:"#202020",bodyBg:"#1a1a1a",footerBg:"#303030",pinnedBg:"#131313",pinnedBorder:"#2b2b2b",avatarBg:"#2a2a2a",avatarBorder:"#3a3a3a",nameColor:"#9ca3af",nameModeradorColor:"#FFE100",messageColor:"#ffffff",inputPillBg:"#ffffff",inputPlaceholder:"#6b7280",inputText:"#0f0f0f",sendBtnBg:"#ffffff",sendBtnBorder:"#d9d9d9",sendIcon:"#000000",showBorders:!1,borderColor:"#2b2b2b",borderRadiusPx:16},Fy=["#40BAC4","#A78BFA","#F59E0B","#10B981","#EF4444","#3B82F6","#F472B6","#22D3EE","#84CC16","#FB923C"];function kse(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Math.abs(e)}function Ose(t){if(!t)return Fy[0];const e=kse(t.trim().toLowerCase())%Fy.length;return Fy[e]}function Nse(t){const e=(t||"").trim();return e?e[0].toUpperCase():"?"}function Rse(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}const m4=sV.memo(({messages:t,pinnedMessage:e,isMuted:n,muteMessage:r,newMessage:i,onChangeMessage:o,onSubmitMessage:s,inputRef:a,messagesEndRef:l,theme:u})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{backgroundColor:u.bodyBg},children:[e&&m.jsx("div",{className:"sticky top-0 z-10 mb-2 p-3 rounded-xl",style:{backgroundColor:u.pinnedBg,border:`1px solid ${u.pinnedBorder}`},children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(f0,{size:16,className:"mt-0.5 shrink-0",color:u.nameColor}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("span",{className:"text-[11px] block mb-1",style:{color:u.nameColor},children:"Moderador"}),e.link?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:e.message}),m.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm leading-snug break-words hover:underline",style:{color:u.nameModeradorColor},children:e.link})]}):m.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:e.message})]})]})}),t.length===0&&m.jsx("div",{className:"text-center py-10",style:{color:u.nameColor},children:"Se el primero en comentar"}),t.map(c=>{if(c.isModerator)return m.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:u.pinnedBg,border:`1px solid ${u.pinnedBorder}`},children:m.jsx("div",{className:"flex items-start gap-2",children:m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("span",{className:"text-[11px] block mb-1",style:{color:u.nameModeradorColor},children:"Moderador"}),c.link?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:c.message}),m.jsx("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm leading-snug break-words hover:underline",style:{color:u.nameModeradorColor},children:c.link})]}):m.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:c.message})]})})},c.id);const f=Ose(c.username||""),h=Nse(c.username||"");return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",style:{backgroundColor:f,border:"none"},"aria-hidden":!0,children:m.jsx("span",{className:"text-[12px] font-bold leading-none select-none",style:{color:"#FFFFFF"},children:h})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-[10px] leading-none mb-1",style:{color:u.nameColor},children:c.username}),m.jsx("div",{className:"text-sm font-semibold leading-snug break-words",style:{color:u.messageColor},children:c.message})]})]},c.id)}),m.jsx("div",{ref:l})]}),m.jsxs("form",{onSubmit:s,className:"px-3 py-8",style:{backgroundColor:u.footerBg,borderTop:u.showBorders?`1px solid ${u.borderColor}`:"none"},children:[n&&m.jsx("div",{className:"mb-2 text-xs text-center",style:{color:"#f87171"},children:r}),m.jsx("div",{className:"w-full",children:m.jsxs("div",{className:"w-full flex items-center rounded-full shadow-sm px-4 py-2",style:{backgroundColor:u.inputPillBg,border:`1px solid ${u.sendBtnBorder}`},children:[m.jsx("input",{ref:a,type:"text",value:i,onChange:o,placeholder:n?"No puedes enviar mensajes":"Escriba su mensaje",className:"flex-1 bg-transparent text-[15px] focus:outline-none",style:{color:u.inputText,caretColor:u.inputText},maxLength:500,disabled:n,autoComplete:"off"}),m.jsx("button",{type:"submit",disabled:!i.trim()||n,"aria-label":"Enviar",title:"Enviar",className:"ml-2 inline-flex items-center justify-center w-10 h-10 rounded-full active:scale-[0.98] transition disabled:opacity-50",style:{backgroundColor:u.sendBtnBg,border:`1px solid ${u.sendBtnBorder}`},children:m.jsx($f,{size:18,color:u.sendIcon})})]})})]})]}));m4.displayName="ChatBody";const LI=({videoId:t,isMobile:e=!1,theme:n={}})=>{const r={...Cse,...n},[i,o]=x.useState([]),[s,a]=x.useState(null),[l,u]=x.useState(""),[c,f]=x.useState(""),[h,p]=x.useState(""),[y,w]=x.useState(!0),[g,v]=x.useState(!1),[b,E]=x.useState(""),C=x.useRef(null),k=x.useRef(null);x.useEffect(()=>{const N=We(Te(ue,"chatMessages"),be("videoId","==",t),mi("timestamp","asc"));return Ln(N,D=>{const W=D.docs.map(q=>{var Y;return{id:q.id,...q.data(),timestamp:(Y=q.data().timestamp)==null?void 0:Y.toDate()}});o(W)})},[t]),x.useEffect(()=>{const N=We(Te(ue,"pinnedMessages"),be("videoId","==",t),be("isActive","==",!0));return Ln(N,D=>{var Y,U,M,F;if(D.empty){a(null);return}const W=D.docs[0],q=W.data();a({id:W.id,...q,createdAt:((U=(Y=q.createdAt)==null?void 0:Y.toDate)==null?void 0:U.call(Y))??q.createdAt??null,updatedAt:((F=(M=q.updatedAt)==null?void 0:M.toDate)==null?void 0:F.call(M))??q.updatedAt??null})})},[t]),x.useEffect(()=>{const N=localStorage.getItem("chatUsername"),j=localStorage.getItem("chatEmail");N&&j?(f(N),p(j),w(!1),I(N)):(N&&f(N),j&&p(j))},[]),x.useEffect(()=>{if(c){const N=setInterval(()=>{I(c)},1e4);return()=>clearInterval(N)}},[c,t]);const I=async N=>{var j,D;try{const W=We(Te(ue,"chatModeration"),be("videoId","==",t),be("username","==",N)),q=await tr(W);if(q.empty){v(!1),E("");return}const Y=q.docs[0].data();if(Y.permanentlyMuted){v(!0),E("Voc foi silenciado permanentemente neste vdeo");return}if(Y.mutedUntil){const U=Y.mutedUntil instanceof Date?Y.mutedUntil:((D=(j=Y.mutedUntil).toDate)==null?void 0:D.call(j))??new Date(Y.mutedUntil);if(U>new Date){v(!0);const M=Math.ceil((U.getTime()-Date.now())/6e4);E(`Voc est silenciado por mais ${M} minuto(s)`)}else v(!1),E("")}else v(!1),E("")}catch(W){console.error("Erro ao verificar status de mute:",W)}},S=N=>{if(N.preventDefault(),!c.trim()){alert("Por favor, insira seu nome.");return}if(!h.trim()||!Rse(h.trim())){alert("Por favor, insira um e-mail vlido.");return}const j=c.trim(),D=h.trim();localStorage.setItem("chatUsername",j),localStorage.setItem("chatEmail",D),w(!1),I(j),setTimeout(()=>{var W;return(W=k.current)==null?void 0:W.focus()},0)},A=async N=>{var D,W;if(N.preventDefault(),!l.trim()||g)return;const j=l.trim();u("");try{await bi(Te(ue,"chatMessages"),{videoId:t,username:c,email:h,message:j,isModerator:!1,timestamp:new Date}),(D=k.current)==null||D.focus()}catch(q){console.error("Erro ao enviar mensagem:",q),u(j),(W=k.current)==null||W.focus()}},P=x.useCallback(N=>{u(N.target.value)},[]);if(y)return m.jsx("div",{className:"shadow-2xl p-6 flex items-center justify-center",style:{height:"60vh",backgroundColor:r.containerBg,border:r.showBorders?`1px solid ${r.borderColor}`:"none",borderRadius:r.borderRadiusPx,overflow:"hidden"},children:m.jsxs("div",{className:"text-center w-full max-w-sm",children:[m.jsx(hR,{className:"mx-auto h-12 w-12 mb-4",color:"#00DBD9"}),m.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:r.messageColor},children:"Chat en vivo"}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsx("input",{type:"text",value:c,onChange:N=>f(N.target.value),placeholder:"Ingresa tu nombre",className:"w-full px-4 py-3 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-300",style:{backgroundColor:"#0f0f0f",color:"#ffffff",border:`1px solid ${r.borderColor}`},maxLength:20,required:!0}),m.jsx("input",{type:"email",value:h,onChange:N=>p(N.target.value),placeholder:"Ingresa tu correo electrnico",className:"w-full px-4 py-3 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-amber-300",style:{backgroundColor:"#0f0f0f",color:"#ffffff",border:`1px solid ${r.borderColor}`},required:!0}),m.jsx("button",{type:"submit",className:"w-full text-black font-medium py-3 px-4 rounded-lg transition",style:{backgroundColor:"#00DBD9"},children:"Unirse al chat"})]})]})});const R=e?"min(50vh, 620px)":"min(82vh, 900px)";return m.jsxs("div",{className:"shadow-2xl flex flex-col",style:{height:R,backgroundColor:r.containerBg,border:r.showBorders?`1px solid ${r.borderColor}`:"none",borderRadius:r.borderRadiusPx,overflow:"hidden"},children:[m.jsx("div",{className:e?"p-3":"p-4",style:{backgroundColor:r.headerBg,borderBottom:r.showBorders?`1px solid ${r.borderColor}`:"none"},children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:e?"text-base font-semibold":"text-lg font-semibold",style:{color:r.messageColor},children:"Chat en vivo"}),m.jsx("button",{className:"hover:opacity-80","aria-label":"Menu",style:{color:r.nameColor},children:m.jsxs("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"currentColor",children:[m.jsx("circle",{cx:"2",cy:"2",r:"2"}),m.jsx("circle",{cx:"2",cy:"8",r:"2"}),m.jsx("circle",{cx:"2",cy:"14",r:"2"})]})})]})}),m.jsx(m4,{messages:i,pinnedMessage:s,isMuted:g,muteMessage:b,newMessage:l,onChangeMessage:P,onSubmitMessage:A,inputRef:k,messagesEndRef:C,theme:r})]})},Dse="/assets/OSF-CJ7QdaXa.svg",VI=({video:t})=>m.jsx("div",{className:"bg-black border-b border-[#3a3a3a] p-4",children:m.jsx("div",{className:"flex justify-center",children:t.logoUrl?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:Dse,alt:"Logo",className:"h-8 max-w-32 object-contain"}),m.jsx("p",{className:"text-3xl ml-5 mr-5 -mt-1 text-white",children:"|"}),m.jsx("img",{src:t.logoUrl,alt:"Logo",className:"h-8 max-w-32 object-contain"})]}):m.jsx("div",{className:"h-8 w-32 bg-[#3a3a3a] rounded flex items-center justify-center",children:m.jsx("span",{className:"text-gray-500 text-sm",children:"Logo"})})})}),$I=({video:t})=>t.description?m.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:m.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[t.authorPhotoUrl?m.jsx("img",{src:t.authorPhotoUrl,alt:t.authorName||"Author",className:"w-10 h-10 rounded-full object-cover"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:m.jsx(vW,{size:20,className:"text-gray-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-white font-semibold text-sm",children:t.authorName||"Author"}),m.jsx("div",{className:"text-gray-300 text-sm mt-2 whitespace-pre-wrap break-words",children:t.description})]})]})}):null,jse="modulepreload",Mse=function(t){return"/"+t},UI={},FI=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Mse(l),l in UI)return;UI[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jse,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},Lse=async t=>{var e,n;try{const r=await fetch(`https://restcountries.com/v3.1/alpha/${t}`,{timeout:3e3});if(!r.ok)throw new Error("Falha na requisio");return((n=(e=(await r.json())[0])==null?void 0:e.name)==null?void 0:n.common)||t}catch(r){return console.warn("Erro ao obter nome do pas:",r),t}},Vse=async()=>{const t=localStorage.getItem("userLocation");if(t)try{const e=JSON.parse(t),n=new Date(e.timestamp);if((new Date().getTime()-n.getTime())/(1e3*60*60)<24)return{country:e.country,country_code:e.country_code,ip:e.ip}}catch(e){console.warn("Erro ao ler cache de localizao:",e)}try{const e=await fetch("https://ipinfo.io/json?token=5dd56127c02307",{timeout:5e3});if(!e.ok)throw new Error("Falha na requisio");const n=await e.json(),r=n.country||"XX",o={country:await Lse(r),country_code:r,ip:n.ip||"Unknown"};return localStorage.setItem("userLocation",JSON.stringify({...o,timestamp:new Date().toISOString()})),o}catch(e){return console.warn("Erro ao obter localizao:",e),{country:"Unknown",country_code:"XX",ip:"Unknown"}}},$se=()=>{const t=navigator.userAgent;let e="Desktop";/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)&&(/iPad/i.test(t)?e="Tablet":e="Mobile");let n="Unknown";/Windows/i.test(t)?n="Windows":/Mac/i.test(t)?n="macOS":/Linux/i.test(t)?n="Linux":/Android/i.test(t)?n="Android":/iPhone|iPad|iPod/i.test(t)&&(n="iOS");let r="Unknown";return/Chrome/i.test(t)&&!/Edge/i.test(t)?r="Chrome":/Firefox/i.test(t)?r="Firefox":/Safari/i.test(t)&&!/Chrome/i.test(t)?r="Safari":/Edge/i.test(t)?r="Edge":/Opera/i.test(t)&&(r="Opera"),{device:e,os:n,browser:r}},Use=async t=>{const e=`tracked_${t}_${Date.now().toString().slice(0,-5)}`;if(!sessionStorage.getItem(e))try{const r=await Vse(),i=$se(),{collection:o,addDoc:s}=await FI(async()=>{const{collection:l,addDoc:u}=await Promise.resolve().then(()=>$8);return{collection:l,addDoc:u}},[]),{db:a}=await FI(async()=>{const{db:l}=await Promise.resolve().then(()=>eW);return{db:l}},void 0);await s(o(a,"analytics"),{videoId:t,timestamp:new Date,country:(r==null?void 0:r.country)||"Unknown",countryCode:(r==null?void 0:r.country_code)||"XX",device:i.device,os:i.os,browser:i.browser,ip:(r==null?void 0:r.ip)||"Unknown",userAgent:navigator.userAgent}),sessionStorage.setItem(e,"true")}catch(r){console.error("Erro ao rastrear visualizao:",r)}},By=t=>{const e=t.data()||{},n=r=>r!=null&&r.toDate?r.toDate():r??null;return{id:t.id,...e,createdAt:n(e.createdAt),updatedAt:n(e.updatedAt),premiereDate:n(e.premiereDate)}},Fse="America/Sao_Paulo",Bse="America/Mexico_City",zse="es-ES",BI=(t,e)=>new Intl.DateTimeFormat(zse,{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:e}).format(t),Wse=({slug:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(null),[o,s]=x.useState(null),[a,l]=x.useState(null),[u,c]=x.useState(0),[f,h]=x.useState(!1),[p,y]=x.useState(!0),[w,g]=x.useState(!1),[v,b]=x.useState("chat"),E=x.useRef(null),C=()=>{let W=localStorage.getItem("userIdentifier");return W||(W=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userIdentifier",W)),W};x.useEffect(()=>{const W=()=>{g(window.innerWidth<768)};return W(),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const k=W=>{const q=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,Y=W==null?void 0:W.match(q);return Y?Y[1]:null};x.useEffect(()=>{y(!0),n(null),i(null),s(null);const W=We(Te(ue,"videos"),be("slug","==",t)),q=Ln(W,async Y=>{if(Y.empty){n(null),y(!1);return}const U=Y.docs[0],M=By(U);if(!M.isActive&&M.redirectUrl){window.location.href=M.redirectUrl;return}n(M),y(!1),M.id!==E.current&&(Use(M.id),E.current=M.id)},Y=>{console.error("Erro ao ouvir vdeo em tempo real:",Y),y(!1)});return()=>{q()}},[t]),x.useEffect(()=>{if(!e)return;if(!e.isActive){l(null);return}const W=We(Te(ue,"featureButtons"),be("videoId","==",e.id),be("isActive","==",!0));return Ln(W,Y=>{var M,F;if(Y.empty){l(null);return}const U=Y.docs[0];l({id:U.id,...U.data(),createdAt:(M=U.data().createdAt)==null?void 0:M.toDate(),updatedAt:(F=U.data().updatedAt)==null?void 0:F.toDate()})})},[e==null?void 0:e.id,e==null?void 0:e.isActive]),x.useEffect(()=>{if(!e)return;const W=We(Te(ue,"videoLikes"),be("videoId","==",e.id));return Ln(W,Y=>{c(Y.size);const U=C(),M=Y.docs.find(F=>F.data().userIdentifier===U);h(!!M)})},[e]),x.useEffect(()=>{if(!e)return;let W=null,q=null;const Y=M=>{const F=on(ue,"videos",M);W=Ln(F,X=>{X.exists()?i(By(X)):i(null)},X=>{console.error("Erro ao ouvir vdeo anterior:",X)})},U=M=>{const F=on(ue,"videos",M);q=Ln(F,X=>{X.exists()?s(By(X)):s(null)},X=>{console.error("Erro ao ouvir prximo vdeo:",X)})};return e.previousVideoId?Y(e.previousVideoId):i(null),e.nextVideoId?U(e.nextVideoId):s(null),()=>{W&&W(),q&&q()}},[e==null?void 0:e.previousVideoId,e==null?void 0:e.nextVideoId,e==null?void 0:e.id]);const I=async()=>{if(!e)return;const W=C();try{if(f){const q=We(Te(ue,"videoLikes"),be("videoId","==",e.id),be("userIdentifier","==",W)),Y=await tr(q);Y.empty||await Rn(on(ue,"videoLikes",Y.docs[0].id))}else await bi(Te(ue,"videoLikes"),{videoId:e.id,userIdentifier:W,createdAt:new Date})}catch(q){console.error("Erro ao processar like:",q)}},S=async()=>{const W=window.location.href,q=(e==null?void 0:e.displayTitle)||"Video";if(navigator.share)try{await navigator.share({title:q,url:W})}catch(Y){console.error("Erro ao compartilhar:",Y)}else try{await navigator.clipboard.writeText(W),alert("Link copiado para a rea de transferncia!")}catch(Y){console.error("Erro ao copiar link:",Y)}};if(p)return m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});if(!e)return m.jsx("div",{className:"min-h-screen bg-black] flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Video no encontrado"}),m.jsx("p",{className:"text-gray-400",children:"El video que buscas no existe o no est disponible."})]})});const A=k(e.youtubeUrl),P=!e.isActive,R=P&&e.inactiveMode==="premiere",N=P&&e.inactiveMode==="unavailable",j=()=>N?m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[#1a1a1a] flex items-center justify-center",children:m.jsxs("div",{className:"text-center px-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Video no disponible"}),m.jsx("p",{className:"text-gray-400",children:"Este contenido no est disponible en este momento"})]})}):R?m.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:e.premiereThumbnailUrl?m.jsx("img",{src:e.premiereThumbnailUrl,alt:"Thumbnail de estreia",className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full bg-[#1a1a1a] flex items-center justify-center",children:m.jsxs("div",{className:"text-center px-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"En breve"}),m.jsx("p",{className:"text-gray-400",children:"Este video se estrenar pronto"})]})})}):m.jsx("iframe",{src:`https://www.youtube.com/embed/${A}?autoplay=0&rel=0&modestbranding=1`,title:e.displayTitle,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),D=(W="")=>{if(!(R&&e.premiereDate))return null;const q=e.premiereDate instanceof Date?e.premiereDate:new Date(e.premiereDate),Y=BI(q,Fse),U=BI(q,Bse);return m.jsx("div",{className:W,children:m.jsxs("div",{className:"space-y-1 w-[100%]",children:[m.jsxs("p",{className:"text-gray-300",children:["Estreno (Mxico): ",U]}),m.jsxs("p",{className:"text-gray-400",children:["Estreno (Brasil): ",Y]})]})})};return w?m.jsxs("div",{className:"min-h-screen bg-black",children:[m.jsx(VI,{video:e}),m.jsxs("div",{className:"pb-20",children:[m.jsx("div",{className:"relative pb-[56.25%] h-0 bg-black",children:j()}),D("px-4 pt-6 pb-6 text-center"),a&&m.jsx("div",{className:"px-4 pt-3",children:m.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-4 rounded-lg text-center font-semibold transition-transform hover:scale-[1.02] duration-200",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text})}),(r||o)&&m.jsxs("div",{className:"px-4 py-3 flex gap-2",children:[r&&m.jsxs("a",{href:`/${r.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] hover:bg-[#ff7373] text-white rounded-lg transition-colors",children:[m.jsx(JS,{size:20}),m.jsx("span",{className:"text-sm",children:"Anterior"})]}),o&&m.jsxs("a",{href:`/${o.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] hover:bg-[#ff7373] text-white rounded-lg transition-colors",children:[m.jsx("span",{className:"text-sm",children:"Siguiente"}),m.jsx(ZS,{size:20})]})]}),m.jsxs("div",{className:"px-4",children:[m.jsxs("div",{className:"border-b border-[#2a2a2a] flex",children:[m.jsx("button",{onClick:()=>b("chat"),className:`flex-1 py-3 text-sm font-medium transition-colors ${v==="chat"?"text-white border-b-2 border-white":"text-gray-400"}`,children:"Chat en vivo"}),m.jsx("button",{onClick:()=>b("description"),className:`flex-1 py-3 text-sm font-medium transition-colors ${v==="description"?"text-white border-b-2 border-white":"text-gray-400"}`,children:"Descripcin"})]}),m.jsx("div",{className:"mt-4",children:v==="chat"?P?m.jsx("div",{className:"text-center py-10 text-gray-400",children:"El chat est deshabilitado"}):m.jsx(LI,{videoId:e.id,isMobile:!0}):m.jsxs("div",{className:"pb-24",children:[m.jsx("h1",{className:"text-lg font-bold text-white mb-3",children:e.displayTitle}),!P&&e.description&&m.jsx($I,{video:e}),P&&e.authorName&&m.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[e.authorPhotoUrl?m.jsx("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"w-10 h-10 rounded-full object-cover"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:m.jsx("span",{className:"text-gray-400 text-sm",children:e.authorName[0]})}),m.jsx("div",{className:"flex-1",children:m.jsx("h3",{className:"text-white font-semibold text-sm",children:e.authorName})})]})})]})})]})]})]}):m.jsxs("div",{className:"min-h-screen bg-black",children:[m.jsx(VI,{video:e}),m.jsx("div",{className:"container mx-auto px-4 py-6",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl border border-[#2a2a2a] mb-4",children:m.jsx("div",{className:"relative pb-[56.25%] h-0 bg-black",children:j()})}),D("mb-4 text-center"),a&&m.jsx("div",{className:"mb-4",children:m.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 rounded-lg text-center font-semibold transition-transform hover:scale-[1.02] duration-200",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text})}),m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("div",{className:"text-white font-semibold",children:e.displayTitle}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:I,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-colors ${f?"bg-red-600 border-red-600 text-white":"bg-white border-gray-300 text-black hover:bg-gray-100"}`,children:[m.jsx(uW,{size:18,fill:f?"currentColor":"none"}),m.jsx("span",{className:"text-sm font-medium",children:"Deja tu like"})]}),m.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-black rounded-full hover:bg-gray-100 transition-colors",children:[m.jsx(mW,{size:18}),m.jsx("span",{className:"text-sm font-medium",children:"Comparte este contenido"})]})]})]}),(r||o)&&m.jsxs("div",{className:"mb-4 flex gap-3",children:[r&&m.jsxs("a",{href:`/${r.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg transition-colors",children:[m.jsx(JS,{size:20}),m.jsx("span",{children:"Clase Anterior"})]}),o&&m.jsxs("a",{href:`/${o.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg transition-colors",children:[m.jsx("span",{children:"Siguiente Clase"}),m.jsx(ZS,{size:20})]})]}),!P&&e.description&&m.jsx($I,{video:e}),P&&e.authorName&&m.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[e.authorPhotoUrl?m.jsx("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"w-10 h-10 rounded-full object-cover"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:m.jsx("span",{className:"text-gray-400 text-sm",children:e.authorName[0]})}),m.jsx("div",{className:"flex-1",children:m.jsx("h3",{className:"text-white font-semibold text-sm",children:e.authorName})})]})})]}),m.jsx("div",{className:"lg:col-span-1",children:P?m.jsx("div",{className:"bg-[#1a1a1a] rounded-xl border border-[#2a2a2a] p-6 text-center",children:m.jsx("p",{className:"text-gray-400",children:"El chat est deshabilitado"})}):m.jsx(LI,{videoId:e.id,isMobile:!1})})]})})]})};function Hse(){const{user:t,loading:e}=ib();return e?m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):m.jsx(kU,{children:m.jsxs(aU,{children:[m.jsx(Sf,{path:"/admin",element:t?m.jsx(EW,{children:m.jsx(Ise,{})}):m.jsx(bW,{})}),m.jsx(Sf,{path:"/:slug",element:m.jsx(Wse,{slug:window.location.pathname.substring(1)})}),m.jsx(Sf,{path:"/",element:m.jsx(oU,{to:"/admin",replace:!0})})]})})}nO(document.getElementById("root")).render(m.jsx(x.StrictMode,{children:m.jsx(Hse,{})}));
