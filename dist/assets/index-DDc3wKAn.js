var z4=Object.defineProperty;var W4=(t,e,n)=>e in t?z4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bg=(t,e,n)=>W4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BI={exports:{}},fp={},zI={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc=Symbol.for("react.element"),K4=Symbol.for("react.portal"),H4=Symbol.for("react.fragment"),q4=Symbol.for("react.strict_mode"),G4=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),Q4=Symbol.for("react.context"),X4=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Z4=Symbol.for("react.memo"),eV=Symbol.for("react.lazy"),eE=Symbol.iterator;function tV(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var WI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KI=Object.assign,HI={};function dl(t,e,n){this.props=t,this.context=e,this.refs=HI,this.updater=n||WI}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qI(){}qI.prototype=dl.prototype;function ow(t,e,n){this.props=t,this.context=e,this.refs=HI,this.updater=n||WI}var sw=ow.prototype=new qI;sw.constructor=ow;KI(sw,dl.prototype);sw.isPureReactComponent=!0;var tE=Array.isArray,GI=Object.prototype.hasOwnProperty,aw={current:null},YI={key:!0,ref:!0,__self:!0,__source:!0};function QI(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)GI.call(e,r)&&!YI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sc,type:t,key:o,ref:s,props:i,_owner:aw.current}}function nV(t,e){return{$$typeof:Sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sc}function rV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nE=/\/+/g;function xg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rV(""+t.key):e.toString(36)}function ff(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sc:case K4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xg(s,0):r,tE(i)?(n="",t!=null&&(n=t.replace(nE,"$&/")+"/"),ff(i,e,n,"",function(u){return u})):i!=null&&(lw(i)&&(i=nV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",tE(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+xg(o,a);s+=ff(o,e,n,l,i)}else if(l=tV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+xg(o,a++),s+=ff(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ad(t,e,n){if(t==null)return t;var r=[],i=0;return ff(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},hf={transition:null},oV={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:hf,ReactCurrentOwner:aw};function XI(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ad,forEach:function(t,e,n){Ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ad(t,function(){e++}),e},toArray:function(t){return Ad(t,function(e){return e})||[]},only:function(t){if(!lw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=dl;pe.Fragment=H4;pe.Profiler=G4;pe.PureComponent=ow;pe.StrictMode=q4;pe.Suspense=J4;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oV;pe.act=XI;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KI({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=aw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GI.call(e,l)&&!YI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sc,type:t.type,key:i,ref:o,props:r,_owner:s}};pe.createContext=function(t){return t={$$typeof:Q4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y4,_context:t},t.Consumer=t};pe.createElement=QI;pe.createFactory=function(t){var e=QI.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:X4,render:t}};pe.isValidElement=lw;pe.lazy=function(t){return{$$typeof:eV,_payload:{_status:-1,_result:t},_init:iV}};pe.memo=function(t,e){return{$$typeof:Z4,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=hf.transition;hf.transition={};try{t()}finally{hf.transition=e}};pe.unstable_act=XI;pe.useCallback=function(t,e){return yn.current.useCallback(t,e)};pe.useContext=function(t){return yn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return yn.current.useEffect(t,e)};pe.useId=function(){return yn.current.useId()};pe.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return yn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};pe.useRef=function(t){return yn.current.useRef(t)};pe.useState=function(t){return yn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return yn.current.useTransition()};pe.version="18.3.1";zI.exports=pe;var x=zI.exports;const sV=Zr(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV=x,lV=Symbol.for("react.element"),uV=Symbol.for("react.fragment"),cV=Object.prototype.hasOwnProperty,dV=aV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fV={key:!0,ref:!0,__self:!0,__source:!0};function JI(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cV.call(e,r)&&!fV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lV,type:t,key:o,ref:s,props:i,_owner:dV.current}}fp.Fragment=uV;fp.jsx=JI;fp.jsxs=JI;BI.exports=fp;var _=BI.exports,ZI={exports:{}},Yn={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var Y=L.length;L.push(B);e:for(;0<Y;){var se=Y-1>>>1,q=L[se];if(0<i(q,B))L[se]=B,L[Y]=q,Y=se;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],Y=L.pop();if(Y!==B){L[0]=Y;e:for(var se=0,q=L.length,fe=q>>>1;se<fe;){var an=2*(se+1)-1,Je=L[an],mr=an+1,gr=L[mr];if(0>i(Je,Y))mr<q&&0>i(gr,Je)?(L[se]=gr,L[mr]=Y,se=mr):(L[se]=Je,L[an]=Y,se=an);else if(mr<q&&0>i(gr,Y))L[se]=gr,L[mr]=Y,se=mr;else break e}}return B}function i(L,B){var Y=L.sortIndex-B.sortIndex;return Y!==0?Y:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function I(L){if(v=!1,E(L),!g)if(n(l)!==null)g=!0,te(R);else{var B=n(u);B!==null&&U(I,B.startTime-L)}}function R(L,B){g=!1,v&&(v=!1,y(S),S=-1),p=!0;var Y=h;try{for(E(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!N());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var q=se(f.expirationTime<=B);B=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),E(B)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var an=n(u);an!==null&&U(I,an.startTime-B),fe=!1}return fe}finally{f=null,h=Y,p=!1}}var C=!1,A=null,S=-1,P=5,O=-1;function N(){return!(t.unstable_now()-O<P)}function j(){if(A!==null){var L=t.unstable_now();O=L;var B=!0;try{B=A(!0,L)}finally{B?D():(C=!1,A=null)}}else C=!1}var D;if(typeof b=="function")D=function(){b(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=j,D=function(){J.postMessage(null)}}else D=function(){m(j,0)};function te(L){A=L,C||(C=!0,D())}function U(L,B){S=m(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,te(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Y=h;h=B;try{return L()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=h;h=L;try{return B()}finally{h=Y}},t.unstable_scheduleCallback=function(L,B,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,L={id:c++,callback:B,priorityLevel:L,startTime:Y,expirationTime:q,sortIndex:-1},Y>se?(L.sortIndex=Y,e(u,L),n(l)===null&&L===n(u)&&(v?(y(S),S=-1):v=!0,U(I,Y-se))):(L.sortIndex=q,e(l,L),g||p||(g=!0,te(R))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var B=h;return function(){var Y=h;h=B;try{return L.apply(this,arguments)}finally{h=Y}}}})(tC);eC.exports=tC;var hV=eC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV=x,Wn=hV;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nC=new Set,Bu={};function Fs(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(Bu[t]=e,t=0;t<e.length;t++)nC.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),By=Object.prototype.hasOwnProperty,mV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rE={},iE={};function gV(t){return By.call(iE,t)?!0:By.call(rE,t)?!1:mV.test(t)?iE[t]=!0:(rE[t]=!0,!1)}function yV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vV(t,e,n,r){if(e===null||typeof e>"u"||yV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var uw=/[\-:]([a-z])/g;function cw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uw,cw);zt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uw,cw);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uw,cw);zt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dw(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vV(e,n,i,r)&&(n=null),r||i===null?gV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=pV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),ca=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),fw=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),rC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Ky=Symbol.for("react.suspense_list"),pw=Symbol.for("react.memo"),Yi=Symbol.for("react.lazy"),oC=Symbol.for("react.offscreen"),oE=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Eg;function du(t){if(Eg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eg=e&&e[1]||""}return`
`+Eg+t}var Tg=!1;function Ag(t,e){if(!t||Tg)return"";Tg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Tg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function wV(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function Hy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case ca:return"Portal";case zy:return"Profiler";case fw:return"StrictMode";case Wy:return"Suspense";case Ky:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iC:return(t.displayName||"Context")+".Consumer";case rC:return(t._context.displayName||"Context")+".Provider";case hw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pw:return e=t.displayName||null,e!==null?e:Hy(t.type)||"Memo";case Yi:e=t._payload,t=t._init;try{return Hy(t(e))}catch{}}return null}function _V(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(e);case 8:return e===fw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bV(t){var e=sC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=bV(t))}function aC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $f(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qy(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Po(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lC(t,e){e=e.checked,e!=null&&dw(t,"checked",e,!1)}function Gy(t,e){lC(t,e);var n=Po(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yy(t,e.type,Po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yy(t,e,n){(e!=="number"||$f(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function Sa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Po(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(fu(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Po(n)}}function uC(t,e){var n=Po(e.value),r=Po(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,dC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xV=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){xV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function fC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function hC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EV=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jy(t,e){if(e){if(EV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Zy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=null;function mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tv=null,Pa=null,Ia=null;function cE(t){if(t=Cc(t)){if(typeof tv!="function")throw Error(H(280));var e=t.stateNode;e&&(e=yp(e),tv(t.stateNode,t.type,e))}}function pC(t){Pa?Ia?Ia.push(t):Ia=[t]:Pa=t}function mC(){if(Pa){var t=Pa,e=Ia;if(Ia=Pa=null,cE(t),e)for(t=0;t<e.length;t++)cE(e[t])}}function gC(t,e){return t(e)}function yC(){}var Sg=!1;function vC(t,e,n){if(Sg)return t(e,n);Sg=!0;try{return gC(t,e,n)}finally{Sg=!1,(Pa!==null||Ia!==null)&&(yC(),mC())}}function Wu(t,e){var n=t.stateNode;if(n===null)return null;var r=yp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var nv=!1;if(bi)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){nv=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{nv=!1}function TV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Eu=!1,Uf=null,Ff=!1,rv=null,AV={onError:function(t){Eu=!0,Uf=t}};function SV(t,e,n,r,i,o,s,a,l){Eu=!1,Uf=null,TV.apply(AV,arguments)}function PV(t,e,n,r,i,o,s,a,l){if(SV.apply(this,arguments),Eu){if(Eu){var u=Uf;Eu=!1,Uf=null}else throw Error(H(198));Ff||(Ff=!0,rv=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dE(t){if(Bs(t)!==t)throw Error(H(188))}function IV(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dE(i),t;if(o===r)return dE(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function _C(t){return t=IV(t),t!==null?bC(t):null}function bC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bC(t);if(e!==null)return e;t=t.sibling}return null}var xC=Wn.unstable_scheduleCallback,fE=Wn.unstable_cancelCallback,CV=Wn.unstable_shouldYield,kV=Wn.unstable_requestPaint,lt=Wn.unstable_now,OV=Wn.unstable_getCurrentPriorityLevel,gw=Wn.unstable_ImmediatePriority,EC=Wn.unstable_UserBlockingPriority,Bf=Wn.unstable_NormalPriority,NV=Wn.unstable_LowPriority,TC=Wn.unstable_IdlePriority,hp=null,Br=null;function RV(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(hp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:MV,DV=Math.log,jV=Math.LN2;function MV(t){return t>>>=0,t===0?32:31-(DV(t)/jV|0)|0}var Cd=64,kd=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=hu(a):(o&=s,o!==0&&(r=hu(o)))}else s=n&~i,s!==0?r=hu(s):o!==0&&(r=hu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ar(e),i=1<<n,r|=t[n],e&=~i;return r}function LV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function iv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AC(){var t=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),t}function Pg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=n}function $V(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function SC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PC,vw,IC,CC,kC,ov=!1,Od=[],co=null,fo=null,ho=null,Ku=new Map,Hu=new Map,Zi=[],UV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hE(t,e){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Yl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Cc(e),e!==null&&vw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FV(t,e,n,r,i){switch(e){case"focusin":return co=Yl(co,t,e,n,r,i),!0;case"dragenter":return fo=Yl(fo,t,e,n,r,i),!0;case"mouseover":return ho=Yl(ho,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ku.set(o,Yl(Ku.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hu.set(o,Yl(Hu.get(o)||null,t,e,n,r,i)),!0}return!1}function OC(t){var e=ss(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=wC(n),e!==null){t.blockedOn=e,kC(t.priority,function(){IC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ev=r,n.target.dispatchEvent(r),ev=null}else return e=Cc(n),e!==null&&vw(e),t.blockedOn=n,!1;e.shift()}return!0}function pE(t,e,n){pf(t)&&n.delete(e)}function BV(){ov=!1,co!==null&&pf(co)&&(co=null),fo!==null&&pf(fo)&&(fo=null),ho!==null&&pf(ho)&&(ho=null),Ku.forEach(pE),Hu.forEach(pE)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,ov||(ov=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,BV)))}function qu(t){function e(i){return Ql(i,t)}if(0<Od.length){Ql(Od[0],t);for(var n=1;n<Od.length;n++){var r=Od[n];r.blockedOn===t&&(r.blockedOn=null)}}for(co!==null&&Ql(co,t),fo!==null&&Ql(fo,t),ho!==null&&Ql(ho,t),Ku.forEach(e),Hu.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)OC(n),n.blockedOn===null&&Zi.shift()}var Ca=ji.ReactCurrentBatchConfig,Wf=!0;function zV(t,e,n,r){var i=Ce,o=Ca.transition;Ca.transition=null;try{Ce=1,ww(t,e,n,r)}finally{Ce=i,Ca.transition=o}}function WV(t,e,n,r){var i=Ce,o=Ca.transition;Ca.transition=null;try{Ce=4,ww(t,e,n,r)}finally{Ce=i,Ca.transition=o}}function ww(t,e,n,r){if(Wf){var i=sv(t,e,n,r);if(i===null)Lg(t,e,r,Kf,n),hE(t,r);else if(FV(i,t,e,n,r))r.stopPropagation();else if(hE(t,r),e&4&&-1<UV.indexOf(t)){for(;i!==null;){var o=Cc(i);if(o!==null&&PC(o),o=sv(t,e,n,r),o===null&&Lg(t,e,r,Kf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Lg(t,e,r,null,n)}}var Kf=null;function sv(t,e,n,r){if(Kf=null,t=mw(r),t=ss(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kf=t,null}function NC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OV()){case gw:return 1;case EC:return 4;case Bf:case NV:return 16;case TC:return 536870912;default:return 16}default:return 16}}var ao=null,_w=null,mf=null;function RC(){if(mf)return mf;var t,e=_w,n=e.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return mf=i.slice(t,1<r?1-r:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nd(){return!0}function mE(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nd:mE,this.isPropagationStopped=mE,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=Qn(fl),Ic=Qe({},fl,{view:0,detail:0}),KV=Qn(Ic),Ig,Cg,Xl,pp=Qe({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Ig=t.screenX-Xl.screenX,Cg=t.screenY-Xl.screenY):Cg=Ig=0,Xl=t),Ig)},movementY:function(t){return"movementY"in t?t.movementY:Cg}}),gE=Qn(pp),HV=Qe({},pp,{dataTransfer:0}),qV=Qn(HV),GV=Qe({},Ic,{relatedTarget:0}),kg=Qn(GV),YV=Qe({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),QV=Qn(YV),XV=Qe({},fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JV=Qn(XV),ZV=Qe({},fl,{data:0}),yE=Qn(ZV),e3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n3[t])?!!e[t]:!1}function xw(){return r3}var i3=Qe({},Ic,{key:function(t){if(t.key){var e=e3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xw,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o3=Qn(i3),s3=Qe({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vE=Qn(s3),a3=Qe({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xw}),l3=Qn(a3),u3=Qe({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),c3=Qn(u3),d3=Qe({},pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f3=Qn(d3),h3=[9,13,27,32],Ew=bi&&"CompositionEvent"in window,Tu=null;bi&&"documentMode"in document&&(Tu=document.documentMode);var p3=bi&&"TextEvent"in window&&!Tu,DC=bi&&(!Ew||Tu&&8<Tu&&11>=Tu),wE=" ",_E=!1;function jC(t,e){switch(t){case"keyup":return h3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function m3(t,e){switch(t){case"compositionend":return MC(e);case"keypress":return e.which!==32?null:(_E=!0,wE);case"textInput":return t=e.data,t===wE&&_E?null:t;default:return null}}function g3(t,e){if(fa)return t==="compositionend"||!Ew&&jC(t,e)?(t=RC(),mf=_w=ao=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DC&&e.locale!=="ko"?null:e.data;default:return null}}var y3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y3[t.type]:e==="textarea"}function LC(t,e,n,r){pC(r),e=Hf(e,"onChange"),0<e.length&&(n=new bw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Au=null,Gu=null;function v3(t){GC(t,0)}function mp(t){var e=ma(t);if(aC(e))return t}function w3(t,e){if(t==="change")return e}var VC=!1;if(bi){var Og;if(bi){var Ng="oninput"in document;if(!Ng){var xE=document.createElement("div");xE.setAttribute("oninput","return;"),Ng=typeof xE.oninput=="function"}Og=Ng}else Og=!1;VC=Og&&(!document.documentMode||9<document.documentMode)}function EE(){Au&&(Au.detachEvent("onpropertychange",$C),Gu=Au=null)}function $C(t){if(t.propertyName==="value"&&mp(Gu)){var e=[];LC(e,Gu,t,mw(t)),vC(v3,e)}}function _3(t,e,n){t==="focusin"?(EE(),Au=e,Gu=n,Au.attachEvent("onpropertychange",$C)):t==="focusout"&&EE()}function b3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mp(Gu)}function x3(t,e){if(t==="click")return mp(e)}function E3(t,e){if(t==="input"||t==="change")return mp(e)}function T3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:T3;function Yu(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!By.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function TE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var n=TE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TE(n)}}function UC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FC(){for(var t=window,e=$f();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$f(t.document)}return e}function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A3(t){var e=FC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UC(n.ownerDocument.documentElement,n)){if(r!==null&&Tw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=AE(n,o);var s=AE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S3=bi&&"documentMode"in document&&11>=document.documentMode,ha=null,av=null,Su=null,lv=!1;function SE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lv||ha==null||ha!==$f(r)||(r=ha,"selectionStart"in r&&Tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Yu(Su,r)||(Su=r,r=Hf(av,"onSelect"),0<r.length&&(e=new bw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ha)))}function Rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pa={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Rg={},BC={};bi&&(BC=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function gp(t){if(Rg[t])return Rg[t];if(!pa[t])return t;var e=pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BC)return Rg[t]=e[n];return t}var zC=gp("animationend"),WC=gp("animationiteration"),KC=gp("animationstart"),HC=gp("transitionend"),qC=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){qC.set(t,e),Fs(e,[t])}for(var Dg=0;Dg<PE.length;Dg++){var jg=PE[Dg],P3=jg.toLowerCase(),I3=jg[0].toUpperCase()+jg.slice(1);Vo(P3,"on"+I3)}Vo(zC,"onAnimationEnd");Vo(WC,"onAnimationIteration");Vo(KC,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(HC,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function IE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PV(r,e,void 0,t),t.currentTarget=null}function GC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;IE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;IE(i,a,u),o=l}}}if(Ff)throw t=rv,Ff=!1,rv=null,t}function Ue(t,e){var n=e[hv];n===void 0&&(n=e[hv]=new Set);var r=t+"__bubble";n.has(r)||(YC(e,t,2,!1),n.add(r))}function Mg(t,e,n){var r=0;e&&(r|=4),YC(n,t,r,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[Dd]){t[Dd]=!0,nC.forEach(function(n){n!=="selectionchange"&&(C3.has(n)||Mg(n,!1,t),Mg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dd]||(e[Dd]=!0,Mg("selectionchange",!1,e))}}function YC(t,e,n,r){switch(NC(e)){case 1:var i=zV;break;case 4:i=WV;break;default:i=ww}n=i.bind(null,e,n,t),i=void 0,!nv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ss(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}vC(function(){var u=o,c=mw(n),f=[];e:{var h=qC.get(t);if(h!==void 0){var p=bw,g=t;switch(t){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":p=o3;break;case"focusin":g="focus",p=kg;break;case"focusout":g="blur",p=kg;break;case"beforeblur":case"afterblur":p=kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=l3;break;case zC:case WC:case KC:p=QV;break;case HC:p=c3;break;case"scroll":p=KV;break;case"wheel":p=f3;break;case"copy":case"cut":case"paste":p=JV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vE}var v=(e&4)!==0,m=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,E;b!==null;){E=b;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,y!==null&&(I=Wu(b,y),I!=null&&v.push(Xu(b,I,E)))),m)break;b=b.return}0<v.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ev&&(g=n.relatedTarget||n.fromElement)&&(ss(g)||g[xi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ss(g):null,g!==null&&(m=Bs(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=gE,I="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=vE,I="onPointerLeave",y="onPointerEnter",b="pointer"),m=p==null?h:ma(p),E=g==null?h:ma(g),h=new v(I,b+"leave",p,n,c),h.target=m,h.relatedTarget=E,I=null,ss(c)===u&&(v=new v(y,b+"enter",g,n,c),v.target=E,v.relatedTarget=m,I=v),m=I,p&&g)t:{for(v=p,y=g,b=0,E=v;E;E=ra(E))b++;for(E=0,I=y;I;I=ra(I))E++;for(;0<b-E;)v=ra(v),b--;for(;0<E-b;)y=ra(y),E--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=ra(v),y=ra(y)}v=null}else v=null;p!==null&&CE(f,h,p,v,!1),g!==null&&m!==null&&CE(f,m,g,v,!0)}}e:{if(h=u?ma(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=w3;else if(bE(h))if(VC)R=E3;else{R=b3;var C=_3}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=x3);if(R&&(R=R(t,u))){LC(f,R,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Yy(h,"number",h.value)}switch(C=u?ma(u):window,t){case"focusin":(bE(C)||C.contentEditable==="true")&&(ha=C,av=u,Su=null);break;case"focusout":Su=av=ha=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,SE(f,n,c);break;case"selectionchange":if(S3)break;case"keydown":case"keyup":SE(f,n,c)}var A;if(Ew)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else fa?jC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(DC&&n.locale!=="ko"&&(fa||S!=="onCompositionStart"?S==="onCompositionEnd"&&fa&&(A=RC()):(ao=c,_w="value"in ao?ao.value:ao.textContent,fa=!0)),C=Hf(u,S),0<C.length&&(S=new yE(S,t,null,n,c),f.push({event:S,listeners:C}),A?S.data=A:(A=MC(n),A!==null&&(S.data=A)))),(A=p3?m3(t,n):g3(t,n))&&(u=Hf(u,"onBeforeInput"),0<u.length&&(c=new yE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}GC(f,e)})}function Xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wu(t,n),o!=null&&r.unshift(Xu(t,o,i)),o=Wu(t,e),o!=null&&r.push(Xu(t,o,i))),t=t.return}return r}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wu(n,o),l!=null&&s.unshift(Xu(n,l,a))):i||(l=Wu(n,o),l!=null&&s.push(Xu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var k3=/\r\n?/g,O3=/\u0000|\uFFFD/g;function kE(t){return(typeof t=="string"?t:""+t).replace(k3,`
`).replace(O3,"")}function jd(t,e,n){if(e=kE(e),kE(t)!==e&&n)throw Error(H(425))}function qf(){}var uv=null,cv=null;function dv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(t){return OE.resolve(null).then(t).catch(D3)}:fv;function D3(t){setTimeout(function(){throw t})}function Vg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),$r="__reactFiber$"+hl,Ju="__reactProps$"+hl,xi="__reactContainer$"+hl,hv="__reactEvents$"+hl,j3="__reactListeners$"+hl,M3="__reactHandles$"+hl;function ss(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NE(t);t!==null;){if(n=t[$r])return n;t=NE(t)}return e}t=n,n=t.parentNode}return null}function Cc(t){return t=t[$r]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function yp(t){return t[Ju]||null}var pv=[],ga=-1;function $o(t){return{current:t}}function Be(t){0>ga||(t.current=pv[ga],pv[ga]=null,ga--)}function Ve(t,e){ga++,pv[ga]=t.current,t.current=e}var Io={},on=$o(Io),An=$o(!1),Es=Io;function $a(t,e){var n=t.type.contextTypes;if(!n)return Io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Gf(){Be(An),Be(on)}function RE(t,e,n){if(on.current!==Io)throw Error(H(168));Ve(on,e),Ve(An,n)}function QC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,_V(t)||"Unknown",i));return Qe({},n,r)}function Yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Es=on.current,Ve(on,t),Ve(An,An.current),!0}function DE(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=QC(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,Be(An),Be(on),Ve(on,t)):Be(An),Ve(An,n)}var si=null,vp=!1,$g=!1;function XC(t){si===null?si=[t]:si.push(t)}function L3(t){vp=!0,XC(t)}function Uo(){if(!$g&&si!==null){$g=!0;var t=0,e=Ce;try{var n=si;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,vp=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),xC(gw,Uo),i}finally{Ce=e,$g=!1}}return null}var ya=[],va=0,Qf=null,Xf=0,er=[],tr=0,Ts=null,ui=1,ci="";function es(t,e){ya[va++]=Xf,ya[va++]=Qf,Qf=t,Xf=e}function JC(t,e,n){er[tr++]=ui,er[tr++]=ci,er[tr++]=Ts,Ts=t;var r=ui;t=ci;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var o=32-Ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ui=1<<32-Ar(e)+i|n<<i|r,ci=o+t}else ui=1<<o|n<<i|r,ci=t}function Aw(t){t.return!==null&&(es(t,1),JC(t,1,0))}function Sw(t){for(;t===Qf;)Qf=ya[--va],ya[va]=null,Xf=ya[--va],ya[va]=null;for(;t===Ts;)Ts=er[--tr],er[tr]=null,ci=er[--tr],er[tr]=null,ui=er[--tr],er[tr]=null}var Fn=null,Vn=null,ze=!1,br=null;function ZC(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Vn=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:ui,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Vn=null,!0):!1;default:return!1}}function mv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gv(t){if(ze){var e=Vn;if(e){var n=e;if(!jE(t,e)){if(mv(t))throw Error(H(418));e=po(n.nextSibling);var r=Fn;e&&jE(t,e)?ZC(r,n):(t.flags=t.flags&-4097|2,ze=!1,Fn=t)}}else{if(mv(t))throw Error(H(418));t.flags=t.flags&-4097|2,ze=!1,Fn=t}}}function ME(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Md(t){if(t!==Fn)return!1;if(!ze)return ME(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dv(t.type,t.memoizedProps)),e&&(e=Vn)){if(mv(t))throw ek(),Error(H(418));for(;e;)ZC(t,e),e=po(e.nextSibling)}if(ME(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Fn?po(t.stateNode.nextSibling):null;return!0}function ek(){for(var t=Vn;t;)t=po(t.nextSibling)}function Ua(){Vn=Fn=null,ze=!1}function Pw(t){br===null?br=[t]:br.push(t)}var V3=ji.ReactCurrentBatchConfig;function Jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LE(t){var e=t._init;return e(t._payload)}function tk(t){function e(y,b){if(t){var E=y.deletions;E===null?(y.deletions=[b],y.flags|=16):E.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=vo(y,b),y.index=0,y.sibling=null,y}function o(y,b,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<b?(y.flags|=2,b):E):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,E,I){return b===null||b.tag!==6?(b=Hg(E,y.mode,I),b.return=y,b):(b=i(b,E),b.return=y,b)}function l(y,b,E,I){var R=E.type;return R===da?c(y,b,E.props.children,I,E.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Yi&&LE(R)===b.type)?(I=i(b,E.props),I.ref=Jl(y,b,E),I.return=y,I):(I=Ef(E.type,E.key,E.props,null,y.mode,I),I.ref=Jl(y,b,E),I.return=y,I)}function u(y,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=qg(E,y.mode,I),b.return=y,b):(b=i(b,E.children||[]),b.return=y,b)}function c(y,b,E,I,R){return b===null||b.tag!==7?(b=gs(E,y.mode,I,R),b.return=y,b):(b=i(b,E),b.return=y,b)}function f(y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Hg(""+b,y.mode,E),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sd:return E=Ef(b.type,b.key,b.props,null,y.mode,E),E.ref=Jl(y,null,b),E.return=y,E;case ca:return b=qg(b,y.mode,E),b.return=y,b;case Yi:var I=b._init;return f(y,I(b._payload),E)}if(fu(b)||ql(b))return b=gs(b,y.mode,E,null),b.return=y,b;Ld(y,b)}return null}function h(y,b,E,I){var R=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(y,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sd:return E.key===R?l(y,b,E,I):null;case ca:return E.key===R?u(y,b,E,I):null;case Yi:return R=E._init,h(y,b,R(E._payload),I)}if(fu(E)||ql(E))return R!==null?null:c(y,b,E,I,null);Ld(y,E)}return null}function p(y,b,E,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(E)||null,a(b,y,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Sd:return y=y.get(I.key===null?E:I.key)||null,l(b,y,I,R);case ca:return y=y.get(I.key===null?E:I.key)||null,u(b,y,I,R);case Yi:var C=I._init;return p(y,b,E,C(I._payload),R)}if(fu(I)||ql(I))return y=y.get(E)||null,c(b,y,I,R,null);Ld(b,I)}return null}function g(y,b,E,I){for(var R=null,C=null,A=b,S=b=0,P=null;A!==null&&S<E.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var O=h(y,A,E[S],I);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(y,A),b=o(O,b,S),C===null?R=O:C.sibling=O,C=O,A=P}if(S===E.length)return n(y,A),ze&&es(y,S),R;if(A===null){for(;S<E.length;S++)A=f(y,E[S],I),A!==null&&(b=o(A,b,S),C===null?R=A:C.sibling=A,C=A);return ze&&es(y,S),R}for(A=r(y,A);S<E.length;S++)P=p(A,y,S,E[S],I),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),b=o(P,b,S),C===null?R=P:C.sibling=P,C=P);return t&&A.forEach(function(N){return e(y,N)}),ze&&es(y,S),R}function v(y,b,E,I){var R=ql(E);if(typeof R!="function")throw Error(H(150));if(E=R.call(E),E==null)throw Error(H(151));for(var C=R=null,A=b,S=b=0,P=null,O=E.next();A!==null&&!O.done;S++,O=E.next()){A.index>S?(P=A,A=null):P=A.sibling;var N=h(y,A,O.value,I);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(y,A),b=o(N,b,S),C===null?R=N:C.sibling=N,C=N,A=P}if(O.done)return n(y,A),ze&&es(y,S),R;if(A===null){for(;!O.done;S++,O=E.next())O=f(y,O.value,I),O!==null&&(b=o(O,b,S),C===null?R=O:C.sibling=O,C=O);return ze&&es(y,S),R}for(A=r(y,A);!O.done;S++,O=E.next())O=p(A,y,S,O.value,I),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?S:O.key),b=o(O,b,S),C===null?R=O:C.sibling=O,C=O);return t&&A.forEach(function(j){return e(y,j)}),ze&&es(y,S),R}function m(y,b,E,I){if(typeof E=="object"&&E!==null&&E.type===da&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Sd:e:{for(var R=E.key,C=b;C!==null;){if(C.key===R){if(R=E.type,R===da){if(C.tag===7){n(y,C.sibling),b=i(C,E.props.children),b.return=y,y=b;break e}}else if(C.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Yi&&LE(R)===C.type){n(y,C.sibling),b=i(C,E.props),b.ref=Jl(y,C,E),b.return=y,y=b;break e}n(y,C);break}else e(y,C);C=C.sibling}E.type===da?(b=gs(E.props.children,y.mode,I,E.key),b.return=y,y=b):(I=Ef(E.type,E.key,E.props,null,y.mode,I),I.ref=Jl(y,b,E),I.return=y,y=I)}return s(y);case ca:e:{for(C=E.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(y,b.sibling),b=i(b,E.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=qg(E,y.mode,I),b.return=y,y=b}return s(y);case Yi:return C=E._init,m(y,b,C(E._payload),I)}if(fu(E))return g(y,b,E,I);if(ql(E))return v(y,b,E,I);Ld(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,E),b.return=y,y=b):(n(y,b),b=Hg(E,y.mode,I),b.return=y,y=b),s(y)):n(y,b)}return m}var Fa=tk(!0),nk=tk(!1),Jf=$o(null),Zf=null,wa=null,Iw=null;function Cw(){Iw=wa=Zf=null}function kw(t){var e=Jf.current;Be(Jf),t._currentValue=e}function yv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ka(t,e){Zf=t,Iw=wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Iw!==t)if(t={context:t,memoizedValue:e,next:null},wa===null){if(Zf===null)throw Error(H(308));wa=t,Zf.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var as=null;function Ow(t){as===null?as=[t]:as.push(t)}function rk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ow(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function Nw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ik(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Ow(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yw(t,n)}}function VE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eh(t,e,n,r){var i=t.updateQueue;Qi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Qe({},f,h);break e;case 2:Qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ss|=s,t.lanes=s,t.memoizedState=f}}function $E(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var kc={},zr=$o(kc),Zu=$o(kc),ec=$o(kc);function ls(t){if(t===kc)throw Error(H(174));return t}function Rw(t,e){switch(Ve(ec,e),Ve(Zu,t),Ve(zr,kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xy(e,t)}Be(zr),Ve(zr,e)}function Ba(){Be(zr),Be(Zu),Be(ec)}function ok(t){ls(ec.current);var e=ls(zr.current),n=Xy(e,t.type);e!==n&&(Ve(Zu,t),Ve(zr,n))}function Dw(t){Zu.current===t&&(Be(zr),Be(Zu))}var qe=$o(0);function th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ug=[];function jw(){for(var t=0;t<Ug.length;t++)Ug[t]._workInProgressVersionPrimary=null;Ug.length=0}var vf=ji.ReactCurrentDispatcher,Fg=ji.ReactCurrentBatchConfig,As=0,Ye=null,_t=null,It=null,nh=!1,Pu=!1,tc=0,$3=0;function Yt(){throw Error(H(321))}function Mw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function Lw(t,e,n,r,i,o){if(As=o,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?z3:W3,t=n(r,i),Pu){o=0;do{if(Pu=!1,tc=0,25<=o)throw Error(H(301));o+=1,It=_t=null,e.updateQueue=null,vf.current=K3,t=n(r,i)}while(Pu)}if(vf.current=rh,e=_t!==null&&_t.next!==null,As=0,It=_t=Ye=null,nh=!1,e)throw Error(H(300));return t}function Vw(){var t=tc!==0;return tc=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ye.memoizedState=It=t:It=It.next=t,It}function ur(){if(_t===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=It===null?Ye.memoizedState:It.next;if(e!==null)It=e,_t=t;else{if(t===null)throw Error(H(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?Ye.memoizedState=It=t:It=It.next=t}return It}function nc(t,e){return typeof e=="function"?e(t):e}function Bg(t){var e=ur(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((As&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ye.lanes|=c,Ss|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Cr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ye.lanes|=o,Ss|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zg(t){var e=ur(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Cr(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function sk(){}function ak(t,e){var n=Ye,r=ur(),i=e(),o=!Cr(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,$w(ck.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,rc(9,uk.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(H(349));As&30||lk(n,e,i)}return i}function lk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uk(t,e,n,r){e.value=n,e.getSnapshot=r,dk(e)&&fk(t)}function ck(t,e,n){return n(function(){dk(e)&&fk(t)})}function dk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function fk(t){var e=Ei(t,1);e!==null&&Sr(e,t,1,-1)}function UE(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=B3.bind(null,Ye,t),[e.memoizedState,t]}function rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hk(){return ur().memoizedState}function wf(t,e,n,r){var i=Lr();Ye.flags|=t,i.memoizedState=rc(1|e,n,void 0,r===void 0?null:r)}function wp(t,e,n,r){var i=ur();r=r===void 0?null:r;var o=void 0;if(_t!==null){var s=_t.memoizedState;if(o=s.destroy,r!==null&&Mw(r,s.deps)){i.memoizedState=rc(e,n,o,r);return}}Ye.flags|=t,i.memoizedState=rc(1|e,n,o,r)}function FE(t,e){return wf(8390656,8,t,e)}function $w(t,e){return wp(2048,8,t,e)}function pk(t,e){return wp(4,2,t,e)}function mk(t,e){return wp(4,4,t,e)}function gk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yk(t,e,n){return n=n!=null?n.concat([t]):null,wp(4,4,gk.bind(null,e,t),n)}function Uw(){}function vk(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wk(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _k(t,e,n){return As&21?(Cr(n,e)||(n=AC(),Ye.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function U3(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Fg.transition;Fg.transition={};try{t(!1),e()}finally{Ce=n,Fg.transition=r}}function bk(){return ur().memoizedState}function F3(t,e,n){var r=yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xk(t))Ek(e,n);else if(n=rk(t,e,n,r),n!==null){var i=hn();Sr(n,t,r,i),Tk(n,e,r)}}function B3(t,e,n){var r=yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xk(t))Ek(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,s)){var l=e.interleaved;l===null?(i.next=i,Ow(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rk(t,e,i,r),n!==null&&(i=hn(),Sr(n,t,r,i),Tk(n,e,r))}}function xk(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function Ek(t,e){Pu=nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yw(t,n)}}var rh={readContext:lr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},z3={readContext:lr,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:FE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wf(4194308,4,gk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F3.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:UE,useDebugValue:Uw,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=UE(!1),e=t[0];return t=U3.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=Lr();if(ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Nt===null)throw Error(H(349));As&30||lk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,FE(ck.bind(null,r,o,t),[t]),r.flags|=2048,rc(9,uk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lr(),e=Nt.identifierPrefix;if(ze){var n=ci,r=ui;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W3={readContext:lr,useCallback:vk,useContext:lr,useEffect:$w,useImperativeHandle:yk,useInsertionEffect:pk,useLayoutEffect:mk,useMemo:wk,useReducer:Bg,useRef:hk,useState:function(){return Bg(nc)},useDebugValue:Uw,useDeferredValue:function(t){var e=ur();return _k(e,_t.memoizedState,t)},useTransition:function(){var t=Bg(nc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:ak,useId:bk,unstable_isNewReconciler:!1},K3={readContext:lr,useCallback:vk,useContext:lr,useEffect:$w,useImperativeHandle:yk,useInsertionEffect:pk,useLayoutEffect:mk,useMemo:wk,useReducer:zg,useRef:hk,useState:function(){return zg(nc)},useDebugValue:Uw,useDeferredValue:function(t){var e=ur();return _t===null?e.memoizedState=t:_k(e,_t.memoizedState,t)},useTransition:function(){var t=zg(nc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:ak,useId:bk,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _p={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=yo(t),o=gi(r,i);o.payload=e,n!=null&&(o.callback=n),e=mo(t,o,i),e!==null&&(Sr(e,t,i,r),yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=yo(t),o=gi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=mo(t,o,i),e!==null&&(Sr(e,t,i,r),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=yo(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=mo(t,i,r),e!==null&&(Sr(e,t,r,n),yf(e,t,r))}};function BE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Yu(n,r)||!Yu(i,o):!0}function Ak(t,e,n){var r=!1,i=Io,o=e.contextType;return typeof o=="object"&&o!==null?o=lr(o):(i=Sn(e)?Es:on.current,r=e.contextTypes,o=(r=r!=null)?$a(t,i):Io),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function zE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_p.enqueueReplaceState(e,e.state,null)}function wv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lr(o):(o=Sn(e)?Es:on.current,i.context=$a(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_p.enqueueReplaceState(i,i.state,null),eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",r=e;do n+=wV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H3=typeof WeakMap=="function"?WeakMap:Map;function Sk(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oh||(oh=!0,kv=r),_v(t,e)},n}function Pk(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_v(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_v(t,e),typeof r!="function"&&(go===null?go=new Set([this]):go.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function WE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s$.bind(null,t,e,n),e.then(t,t))}function KE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,mo(n,e,1))),n.lanes|=1),t)}var q3=ji.ReactCurrentOwner,En=!1;function dn(t,e,n,r){e.child=t===null?nk(e,null,n,r):Fa(e,t.child,n,r)}function qE(t,e,n,r,i){n=n.render;var o=e.ref;return ka(e,i),r=Lw(t,e,n,r,o,i),n=Vw(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(ze&&n&&Aw(e),e.flags|=1,dn(t,e,r,i),e.child)}function GE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Gw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ik(t,e,o,r,i)):(t=Ef(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yu,n(s,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=vo(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ik(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yu(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return bv(t,e,n,r,i)}function Ck(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ba,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(ba,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ve(ba,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ve(ba,Nn),Nn|=r;return dn(t,e,i,n),e.child}function kk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bv(t,e,n,r,i){var o=Sn(n)?Es:on.current;return o=$a(e,o),ka(e,i),n=Lw(t,e,n,r,o,i),r=Vw(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(ze&&r&&Aw(e),e.flags|=1,dn(t,e,n,i),e.child)}function YE(t,e,n,r,i){if(Sn(n)){var o=!0;Yf(e)}else o=!1;if(ka(e,i),e.stateNode===null)_f(t,e),Ak(e,n,r),wv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Sn(n)?Es:on.current,u=$a(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zE(e,s,r,u),Qi=!1;var h=e.memoizedState;s.state=h,eh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||An.current||Qi?(typeof c=="function"&&(vv(e,n,c,r),l=e.memoizedState),(a=Qi||BE(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ik(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=Sn(n)?Es:on.current,l=$a(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&zE(e,s,r,l),Qi=!1,h=e.memoizedState,s.state=h,eh(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||An.current||Qi?(typeof p=="function"&&(vv(e,n,p,r),g=e.memoizedState),(u=Qi||BE(e,n,u,r,h,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return xv(t,e,n,r,o,i)}function xv(t,e,n,r,i,o){kk(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&DE(e,n,!1),Ti(t,e,o);r=e.stateNode,q3.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Fa(e,t.child,null,o),e.child=Fa(e,null,a,o)):dn(t,e,a,o),e.memoizedState=r.state,i&&DE(e,n,!0),e.child}function Ok(t){var e=t.stateNode;e.pendingContext?RE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RE(t,e.context,!1),Rw(t,e.containerInfo)}function QE(t,e,n,r,i){return Ua(),Pw(i),e.flags|=256,dn(t,e,n,r),e.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function Tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nk(t,e,n){var r=e.pendingProps,i=qe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(qe,i&1),t===null)return gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ep(s,r,0,null),t=gs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tv(n),e.memoizedState=Ev,t):Fw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G3(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=vo(a,o):(o=gs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Tv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ev,r}return o=t.child,t=o.sibling,r=vo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=Ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vd(t,e,n,r){return r!==null&&Pw(r),Fa(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G3(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wg(Error(H(422))),Vd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ep({mode:"visible",children:r.children},i,0,null),o=gs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fa(e,t.child,null,s),e.child.memoizedState=Tv(s),e.memoizedState=Ev,o);if(!(e.mode&1))return Vd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Wg(o,r,void 0),Vd(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ei(t,i),Sr(r,t,i,-1))}return qw(),r=Wg(Error(H(421))),Vd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vn=po(i.nextSibling),Fn=e,ze=!0,br=null,t!==null&&(er[tr++]=ui,er[tr++]=ci,er[tr++]=Ts,ui=t.id,ci=t.overflow,Ts=e),e=Fw(e,r.children),e.flags|=4096,e)}function XE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yv(t.return,e,n)}function Kg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Rk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(dn(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,n,e);else if(t.tag===19)XE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kg(e,!0,n,null,o);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y3(t,e,n){switch(e.tag){case 3:Ok(e),Ua();break;case 5:ok(e);break;case 1:Sn(e.type)&&Yf(e);break;case 4:Rw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Jf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?Nk(t,e,n):(Ve(qe,qe.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Ve(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Ck(t,e,n)}return Ti(t,e,n)}var Dk,Av,jk,Mk;Dk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Av=function(){};jk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(zr.current);var o=null;switch(n){case"input":i=qy(t,i),r=qy(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Qy(t,i),r=Qy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qf)}Jy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Mk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zl(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q3(t,e,n){var r=e.pendingProps;switch(Sw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Sn(e.type)&&Gf(),Qt(e),null;case 3:return r=e.stateNode,Ba(),Be(An),Be(on),jw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(Rv(br),br=null))),Av(t,e),Qt(e),null;case 5:Dw(e);var i=ls(ec.current);if(n=e.type,t!==null&&e.stateNode!=null)jk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Qt(e),null}if(t=ls(zr.current),Md(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$r]=e,r[Ju]=o,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<pu.length;i++)Ue(pu[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":sE(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":lE(r,o),Ue("invalid",r)}Jy(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),i=["children",""+a]):Bu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Pd(r),aE(r,o,!0);break;case"textarea":Pd(r),uE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$r]=e,t[Ju]=r,Dk(t,e,!1,!1),e.stateNode=t;e:{switch(s=Zy(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<pu.length;i++)Ue(pu[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":sE(t,r),i=qy(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":lE(t,r),i=Qy(t,r),Ue("invalid",t);break;default:i=r}Jy(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zu(t,l):typeof l=="number"&&zu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ue("scroll",t):l!=null&&dw(t,o,l,s))}switch(n){case"input":Pd(t),aE(t,r,!1);break;case"textarea":Pd(t),uE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Po(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Sa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)Mk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ls(ec.current),ls(zr.current),Md(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(o=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:jd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return Qt(e),null;case 13:if(Be(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Vn!==null&&e.mode&1&&!(e.flags&128))ek(),Ua(),e.flags|=98560,o=!1;else if(o=Md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[$r]=e}else Ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else br!==null&&(Rv(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?bt===0&&(bt=3):qw())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ba(),Av(t,e),t===null&&Qu(e.stateNode.containerInfo),Qt(e),null;case 10:return kw(e.type._context),Qt(e),null;case 17:return Sn(e.type)&&Gf(),Qt(e),null;case 19:if(Be(qe),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Zl(o,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=th(t),s!==null){for(e.flags|=128,Zl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>Wa&&(e.flags|=128,r=!0,Zl(o,!1),e.lanes=4194304)}else{if(!r)if(t=th(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ze)return Qt(e),null}else 2*lt()-o.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,Zl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=qe.current,Ve(qe,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function X3(t,e){switch(Sw(e),e.tag){case 1:return Sn(e.type)&&Gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),Be(An),Be(on),jw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dw(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return Ba(),null;case 10:return kw(e.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var $d=!1,en=!1,J3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function _a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Sv(t,e,n){try{n()}catch(r){et(t,e,r)}}var JE=!1;function Z3(t,e){if(uv=Wf,t=FC(),Tw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cv={focusedElem:t,selectionRange:n},Wf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:wr(e.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(I){et(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=JE,JE=!1,g}function Iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sv(e,n,o)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lk(t){var e=t.alternate;e!==null&&(t.alternate=null,Lk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Ju],delete e[hv],delete e[j3],delete e[M3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vk(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qf));else if(r!==4&&(t=t.child,t!==null))for(Iv(t,e,n),t=t.sibling;t!==null;)Iv(t,e,n),t=t.sibling}function Cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cv(t,e,n),t=t.sibling;t!==null;)Cv(t,e,n),t=t.sibling}var $t=null,_r=!1;function Ki(t,e,n){for(n=n.child;n!==null;)$k(t,e,n),n=n.sibling}function $k(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(hp,n)}catch{}switch(n.tag){case 5:en||_a(n,e);case 6:var r=$t,i=_r;$t=null,Ki(t,e,n),$t=r,_r=i,$t!==null&&(_r?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(_r?(t=$t,n=n.stateNode,t.nodeType===8?Vg(t.parentNode,n):t.nodeType===1&&Vg(t,n),qu(t)):Vg($t,n.stateNode));break;case 4:r=$t,i=_r,$t=n.stateNode.containerInfo,_r=!0,Ki(t,e,n),$t=r,_r=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sv(n,e,s),i=i.next}while(i!==r)}Ki(t,e,n);break;case 1:if(!en&&(_a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}Ki(t,e,n);break;case 21:Ki(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Ki(t,e,n),en=r):Ki(t,e,n);break;default:Ki(t,e,n)}}function eT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J3),e.forEach(function(r){var i=l$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,_r=!1;break e;case 3:$t=a.stateNode.containerInfo,_r=!0;break e;case 4:$t=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if($t===null)throw Error(H(160));$k(o,s,i),$t=null,_r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Uk(e,t),e=e.sibling}function Uk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Mr(t),r&4){try{Iu(3,t,t.return),bp(3,t)}catch(v){et(t,t.return,v)}try{Iu(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:vr(e,t),Mr(t),r&512&&n!==null&&_a(n,n.return);break;case 5:if(vr(e,t),Mr(t),r&512&&n!==null&&_a(n,n.return),t.flags&32){var i=t.stateNode;try{zu(i,"")}catch(v){et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&lC(i,o),Zy(a,s);var u=Zy(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?hC(i,f):c==="dangerouslySetInnerHTML"?dC(i,f):c==="children"?zu(i,f):dw(i,c,f,u)}switch(a){case"input":Gy(i,o);break;case"textarea":uC(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Sa(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Sa(i,!!o.multiple,o.defaultValue,!0):Sa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ju]=o}catch(v){et(t,t.return,v)}}break;case 6:if(vr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){et(t,t.return,v)}}break;case 3:if(vr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:vr(e,t),Mr(t);break;case 13:vr(e,t),Mr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ww=lt())),r&4&&eT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||c,vr(e,t),en=u):vr(e,t),Mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(f=Z=c;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Iu(4,h,h.return);break;case 1:_a(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:_a(h,h.return);break;case 22:if(h.memoizedState!==null){nT(f);continue}}p!==null?(p.return=h,Z=p):nT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fC("display",s))}catch(v){et(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){et(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),Mr(t),r&4&&eT(t);break;case 21:break;default:vr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vk(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zu(i,""),r.flags&=-33);var o=ZE(t);Cv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ZE(t);Iv(t,a,s);break;default:throw Error(H(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e$(t,e,n){Z=t,Fk(t)}function Fk(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$d;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=$d;var u=en;if($d=s,(en=l)&&!u)for(Z=i;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?rT(i):l!==null?(l.return=s,Z=l):rT(i);for(;o!==null;)Z=o,Fk(o),o=o.sibling;Z=i,$d=a,en=u}tT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Z=o):tT(t)}}function tT(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$E(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$E(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}en||e.flags&512&&Pv(e)}catch(h){et(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function nT(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function rT(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{Pv(e)}catch(l){et(e,o,l)}break;case 5:var s=e.return;try{Pv(e)}catch(l){et(e,s,l)}}}catch(l){et(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var t$=Math.ceil,ih=ji.ReactCurrentDispatcher,Bw=ji.ReactCurrentOwner,sr=ji.ReactCurrentBatchConfig,be=0,Nt=null,ht=null,Bt=0,Nn=0,ba=$o(0),bt=0,ic=null,Ss=0,xp=0,zw=0,Cu=null,bn=null,Ww=0,Wa=1/0,oi=null,oh=!1,kv=null,go=null,Ud=!1,lo=null,sh=0,ku=0,Ov=null,bf=-1,xf=0;function hn(){return be&6?lt():bf!==-1?bf:bf=lt()}function yo(t){return t.mode&1?be&2&&Bt!==0?Bt&-Bt:V3.transition!==null?(xf===0&&(xf=AC()),xf):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:NC(t.type)),t):1}function Sr(t,e,n,r){if(50<ku)throw ku=0,Ov=null,Error(H(185));Pc(t,n,r),(!(be&2)||t!==Nt)&&(t===Nt&&(!(be&2)&&(xp|=n),bt===4&&eo(t,Bt)),Pn(t,r),n===1&&be===0&&!(e.mode&1)&&(Wa=lt()+500,vp&&Uo()))}function Pn(t,e){var n=t.callbackNode;VV(t,e);var r=zf(t,t===Nt?Bt:0);if(r===0)n!==null&&fE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fE(n),e===1)t.tag===0?L3(iT.bind(null,t)):XC(iT.bind(null,t)),R3(function(){!(be&6)&&Uo()}),n=null;else{switch(SC(r)){case 1:n=gw;break;case 4:n=EC;break;case 16:n=Bf;break;case 536870912:n=TC;break;default:n=Bf}n=Yk(n,Bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bk(t,e){if(bf=-1,xf=0,be&6)throw Error(H(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=zf(t,t===Nt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ah(t,r);else{e=r;var i=be;be|=2;var o=Wk();(Nt!==t||Bt!==e)&&(oi=null,Wa=lt()+500,ms(t,e));do try{i$();break}catch(a){zk(t,a)}while(!0);Cw(),ih.current=o,be=i,ht!==null?e=0:(Nt=null,Bt=0,e=bt)}if(e!==0){if(e===2&&(i=iv(t),i!==0&&(r=i,e=Nv(t,i))),e===1)throw n=ic,ms(t,0),eo(t,r),Pn(t,lt()),n;if(e===6)eo(t,r);else{if(i=t.current.alternate,!(r&30)&&!n$(i)&&(e=ah(t,r),e===2&&(o=iv(t),o!==0&&(r=o,e=Nv(t,o))),e===1))throw n=ic,ms(t,0),eo(t,r),Pn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ts(t,bn,oi);break;case 3:if(eo(t,r),(r&130023424)===r&&(e=Ww+500-lt(),10<e)){if(zf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fv(ts.bind(null,t,bn,oi),e);break}ts(t,bn,oi);break;case 4:if(eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t$(r/1960))-r,10<r){t.timeoutHandle=fv(ts.bind(null,t,bn,oi),r);break}ts(t,bn,oi);break;case 5:ts(t,bn,oi);break;default:throw Error(H(329))}}}return Pn(t,lt()),t.callbackNode===n?Bk.bind(null,t):null}function Nv(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=ah(t,e),t!==2&&(e=bn,bn=n,e!==null&&Rv(e)),t}function Rv(t){bn===null?bn=t:bn.push.apply(bn,t)}function n$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~zw,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ar(e),r=1<<n;t[n]=-1,e&=~r}}function iT(t){if(be&6)throw Error(H(327));Oa();var e=zf(t,0);if(!(e&1))return Pn(t,lt()),null;var n=ah(t,e);if(t.tag!==0&&n===2){var r=iv(t);r!==0&&(e=r,n=Nv(t,r))}if(n===1)throw n=ic,ms(t,0),eo(t,e),Pn(t,lt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,bn,oi),Pn(t,lt()),null}function Kw(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Wa=lt()+500,vp&&Uo())}}function Ps(t){lo!==null&&lo.tag===0&&!(be&6)&&Oa();var e=be;be|=1;var n=sr.transition,r=Ce;try{if(sr.transition=null,Ce=1,t)return t()}finally{Ce=r,sr.transition=n,be=e,!(be&6)&&Uo()}}function Hw(){Nn=ba.current,Be(ba)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N3(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Sw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gf();break;case 3:Ba(),Be(An),Be(on),jw();break;case 5:Dw(r);break;case 4:Ba();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:kw(r.type._context);break;case 22:case 23:Hw()}n=n.return}if(Nt=t,ht=t=vo(t.current,null),Bt=Nn=e,bt=0,ic=null,zw=xp=Ss=0,bn=Cu=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}as=null}return t}function zk(t,e){do{var n=ht;try{if(Cw(),vf.current=rh,nh){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(As=0,It=_t=Ye=null,Pu=!1,tc=0,Bw.current=null,n===null||n.return===null){bt=1,ic=e,ht=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=KE(s);if(p!==null){p.flags&=-257,HE(p,s,a,o,e),p.mode&1&&WE(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){WE(o,u,e),qw();break e}l=Error(H(426))}}else if(ze&&a.mode&1){var m=KE(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),HE(m,s,a,o,e),Pw(za(l,a));break e}}o=l=za(l,a),bt!==4&&(bt=2),Cu===null?Cu=[o]:Cu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Sk(o,l,e);VE(o,y);break e;case 1:a=l;var b=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(go===null||!go.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=Pk(o,a,e);VE(o,I);break e}}o=o.return}while(o!==null)}Hk(n)}catch(R){e=R,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Wk(){var t=ih.current;return ih.current=rh,t===null?rh:t}function qw(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||!(Ss&268435455)&&!(xp&268435455)||eo(Nt,Bt)}function ah(t,e){var n=be;be|=2;var r=Wk();(Nt!==t||Bt!==e)&&(oi=null,ms(t,e));do try{r$();break}catch(i){zk(t,i)}while(!0);if(Cw(),be=n,ih.current=r,ht!==null)throw Error(H(261));return Nt=null,Bt=0,bt}function r$(){for(;ht!==null;)Kk(ht)}function i$(){for(;ht!==null&&!CV();)Kk(ht)}function Kk(t){var e=Gk(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?Hk(t):ht=e,Bw.current=null}function Hk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X3(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,ht=null;return}}else if(n=Q3(n,e,Nn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);bt===0&&(bt=5)}function ts(t,e,n){var r=Ce,i=sr.transition;try{sr.transition=null,Ce=1,o$(t,e,n,r)}finally{sr.transition=i,Ce=r}return null}function o$(t,e,n,r){do Oa();while(lo!==null);if(be&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($V(t,o),t===Nt&&(ht=Nt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,Yk(Bf,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var s=Ce;Ce=1;var a=be;be|=4,Bw.current=null,Z3(t,n),Uk(n,t),A3(cv),Wf=!!uv,cv=uv=null,t.current=n,e$(n),kV(),be=a,Ce=s,sr.transition=o}else t.current=n;if(Ud&&(Ud=!1,lo=t,sh=i),o=t.pendingLanes,o===0&&(go=null),RV(n.stateNode),Pn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=kv,kv=null,t;return sh&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===Ov?ku++:(ku=0,Ov=t):ku=0,Uo(),null}function Oa(){if(lo!==null){var t=SC(sh),e=sr.transition,n=Ce;try{if(sr.transition=null,Ce=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,sh=0,be&6)throw Error(H(331));var i=be;for(be|=4,Z=t.current;Z!==null;){var o=Z,s=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:Iu(8,c,o)}var f=c.child;if(f!==null)f.return=c,Z=f;else for(;Z!==null;){c=Z;var h=c.sibling,p=c.return;if(Lk(c),c===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}Z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Z=s;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Iu(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Z=y;break e}Z=o.return}}var b=t.current;for(Z=b;Z!==null;){s=Z;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Z=E;else e:for(s=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(R){et(a,a.return,R)}if(a===s){Z=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Z=I;break e}Z=a.return}}if(be=i,Uo(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(hp,t)}catch{}r=!0}return r}finally{Ce=n,sr.transition=e}}return!1}function oT(t,e,n){e=za(n,e),e=Sk(t,e,1),t=mo(t,e,1),e=hn(),t!==null&&(Pc(t,1,e),Pn(t,e))}function et(t,e,n){if(t.tag===3)oT(t,t,n);else for(;e!==null;){if(e.tag===3){oT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(go===null||!go.has(r))){t=za(n,t),t=Pk(e,t,1),e=mo(e,t,1),t=hn(),e!==null&&(Pc(e,1,t),Pn(e,t));break}}e=e.return}}function s$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Bt&n)===n&&(bt===4||bt===3&&(Bt&130023424)===Bt&&500>lt()-Ww?ms(t,0):zw|=n),Pn(t,e)}function qk(t,e){e===0&&(t.mode&1?(e=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):e=1);var n=hn();t=Ei(t,e),t!==null&&(Pc(t,e,n),Pn(t,n))}function a$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qk(t,n)}function l$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),qk(t,n)}var Gk;Gk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,Y3(t,e,n);En=!!(t.flags&131072)}else En=!1,ze&&e.flags&1048576&&JC(e,Xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_f(t,e),t=e.pendingProps;var i=$a(e,on.current);ka(e,n),i=Lw(null,e,r,t,i,n);var o=Vw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Yf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nw(e),i.updater=_p,e.stateNode=i,i._reactInternals=e,wv(e,r,t,n),e=xv(null,e,r,!0,o,n)):(e.tag=0,ze&&o&&Aw(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c$(r),t=wr(r,t),i){case 0:e=bv(null,e,r,t,n);break e;case 1:e=YE(null,e,r,t,n);break e;case 11:e=qE(null,e,r,t,n);break e;case 14:e=GE(null,e,r,wr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),bv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),YE(t,e,r,i,n);case 3:e:{if(Ok(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ik(t,e),eh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=za(Error(H(423)),e),e=QE(t,e,r,n,i);break e}else if(r!==i){i=za(Error(H(424)),e),e=QE(t,e,r,n,i);break e}else for(Vn=po(e.stateNode.containerInfo.firstChild),Fn=e,ze=!0,br=null,n=nk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ua(),r===i){e=Ti(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return ok(e),t===null&&gv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,dv(r,i)?s=null:o!==null&&dv(r,o)&&(e.flags|=32),kk(t,e),dn(t,e,s,n),e.child;case 6:return t===null&&gv(e),null;case 13:return Nk(t,e,n);case 4:return Rw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),qE(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ve(Jf,r._currentValue),r._currentValue=s,o!==null)if(Cr(o.value,s)){if(o.children===i.children&&!An.current){e=Ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=gi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),yv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ka(e,n),i=lr(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=wr(r,e.pendingProps),i=wr(r.type,i),GE(t,e,r,i,n);case 15:return Ik(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),_f(t,e),e.tag=1,Sn(r)?(t=!0,Yf(e)):t=!1,ka(e,n),Ak(e,r,i),wv(e,r,i,n),xv(null,e,r,!0,t,n);case 19:return Rk(t,e,n);case 22:return Ck(t,e,n)}throw Error(H(156,e.tag))};function Yk(t,e){return xC(t,e)}function u$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new u$(t,e,n,r)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c$(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hw)return 11;if(t===pw)return 14}return 2}function vo(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ef(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Gw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case da:return gs(n.children,i,o,e);case fw:s=8,i|=8;break;case zy:return t=ir(12,n,e,i|2),t.elementType=zy,t.lanes=o,t;case Wy:return t=ir(13,n,e,i),t.elementType=Wy,t.lanes=o,t;case Ky:return t=ir(19,n,e,i),t.elementType=Ky,t.lanes=o,t;case oC:return Ep(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rC:s=10;break e;case iC:s=9;break e;case hw:s=11;break e;case pw:s=14;break e;case Yi:s=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function gs(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Ep(t,e,n,r){return t=ir(22,t,r,e),t.elementType=oC,t.lanes=n,t.stateNode={isHidden:!1},t}function Hg(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function qg(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pg(0),this.expirationTimes=Pg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yw(t,e,n,r,i,o,s,a,l){return t=new d$(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nw(o),t}function f$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qk(t){if(!t)return Io;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Sn(n))return QC(t,n,e)}return e}function Xk(t,e,n,r,i,o,s,a,l){return t=Yw(n,r,!0,t,i,o,s,a,l),t.context=Qk(null),n=t.current,r=hn(),i=yo(n),o=gi(r,i),o.callback=e??null,mo(n,o,i),t.current.lanes=i,Pc(t,i,r),Pn(t,r),t}function Tp(t,e,n,r){var i=e.current,o=hn(),s=yo(i);return n=Qk(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mo(i,e,s),t!==null&&(Sr(t,i,s,o),yf(t,i,s)),s}function lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qw(t,e){sT(t,e),(t=t.alternate)&&sT(t,e)}function h$(){return null}var Jk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xw(t){this._internalRoot=t}Ap.prototype.render=Xw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Tp(t,e,null,null)};Ap.prototype.unmount=Xw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Tp(null,t,null,null)}),e[xi]=null}};function Ap(t){this._internalRoot=t}Ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=CC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&OC(t)}};function Jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aT(){}function p$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=lh(s);o.call(u)}}var s=Xk(e,r,t,0,null,!1,!1,"",aT);return t._reactRootContainer=s,t[xi]=s.current,Qu(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lh(l);a.call(u)}}var l=Yw(t,0,!1,null,null,!1,!1,"",aT);return t._reactRootContainer=l,t[xi]=l.current,Qu(t.nodeType===8?t.parentNode:t),Ps(function(){Tp(e,l,n,r)}),l}function Pp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=lh(s);a.call(l)}}Tp(e,s,t,i)}else s=p$(n,e,t,i,r);return lh(s)}PC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hu(e.pendingLanes);n!==0&&(yw(e,n|1),Pn(e,lt()),!(be&6)&&(Wa=lt()+500,Uo()))}break;case 13:Ps(function(){var r=Ei(t,1);if(r!==null){var i=hn();Sr(r,t,1,i)}}),Qw(t,1)}};vw=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=hn();Sr(e,t,134217728,n)}Qw(t,134217728)}};IC=function(t){if(t.tag===13){var e=yo(t),n=Ei(t,e);if(n!==null){var r=hn();Sr(n,t,e,r)}Qw(t,e)}};CC=function(){return Ce};kC=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};tv=function(t,e,n){switch(e){case"input":if(Gy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yp(r);if(!i)throw Error(H(90));aC(r),Gy(r,i)}}}break;case"textarea":uC(t,n);break;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}};gC=Kw;yC=Ps;var m$={usingClientEntryPoint:!1,Events:[Cc,ma,yp,pC,mC,Kw]},eu={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g$={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_C(t),t===null?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||h$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{hp=Fd.inject(g$),Br=Fd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m$;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(e))throw Error(H(200));return f$(t,e,null,n)};Yn.createRoot=function(t,e){if(!Jw(t))throw Error(H(299));var n=!1,r="",i=Jk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yw(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,Qu(t.nodeType===8?t.parentNode:t),new Xw(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=_C(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return Ps(t)};Yn.hydrate=function(t,e,n){if(!Sp(e))throw Error(H(200));return Pp(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Jw(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Jk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Xk(e,null,t,1,n??null,i,!1,o,s),t[xi]=e.current,Qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ap(e)};Yn.render=function(t,e,n){if(!Sp(e))throw Error(H(200));return Pp(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!Sp(t))throw Error(H(40));return t._reactRootContainer?(Ps(function(){Pp(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};Yn.unstable_batchedUpdates=Kw;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sp(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Pp(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function Zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zk)}catch(t){console.error(t)}}Zk(),ZI.exports=Yn;var eO=ZI.exports,tO,lT=eO;tO=lT.createRoot,lT.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uT="popstate";function y$(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Dv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oc(i)}return w$(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v$(){return Math.random().toString(36).substring(2,10)}function cT(t,e){return{usr:t.state,key:t.key,idx:e}}function Dv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||r||v$()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){a="POP";let m=c(),y=m==null?null:m-u;u=m,l&&l({action:a,location:v.location,delta:y})}function h(m,y){a="PUSH";let b=Dv(v.location,m,y);u=c()+1;let E=cT(b,u),I=v.createHref(b);try{s.pushState(E,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(I)}o&&l&&l({action:a,location:v.location,delta:1})}function p(m,y){a="REPLACE";let b=Dv(v.location,m,y);u=c();let E=cT(b,u),I=v.createHref(b);s.replaceState(E,"",I),o&&l&&l({action:a,location:v.location,delta:0})}function g(m){return _$(m)}let v={get action(){return a},get location(){return t(i,s)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uT,f),l=m,()=>{i.removeEventListener(uT,f),l=null}},createHref(m){return e(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(m){return s.go(m)}};return v}function _$(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nO(t,e,n="/"){return b$(t,e,n,!1)}function b$(t,e,n,r){let i=typeof e=="string"?pl(e):e,o=Ai(i.pathname||"/",n);if(o==null)return null;let s=rO(t);x$(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=R$(o);a=O$(s[l],u,r)}return a}function rO(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=yi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),rO(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:C$(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of iO(o.path))i(o,s,l)}),e}function iO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=iO(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E$=/^:[\w-]+$/,T$=3,A$=2,S$=1,P$=10,I$=-2,dT=t=>t==="*";function C$(t,e){let n=t.split("/"),r=n.length;return n.some(dT)&&(r+=I$),e&&(r+=A$),n.filter(i=>!dT(i)).reduce((i,o)=>i+(E$.test(o)?T$:o===""?S$:P$),r)}function k$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function O$(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=uh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=uh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:yi([o,f.pathname]),pathnameBase:L$(yi([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=yi([o,f.pathnameBase]))}return s}function uh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function N$(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ai(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:j$(n,e):e,search:V$(r),hash:$$(i)}}function j$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zw(t){let e=M$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function e_(t,e,n,r=!1){let i;typeof t=="string"?i=pl(t):(i={...t},Ke(!i.pathname||!i.pathname.includes("?"),Gg("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Gg("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Gg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=D$(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),L$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oO=["POST","PUT","PATCH","DELETE"];new Set(oO);var F$=["GET",...oO];new Set(F$);var ml=x.createContext(null);ml.displayName="DataRouter";var Ip=x.createContext(null);Ip.displayName="DataRouterState";x.createContext(!1);var sO=x.createContext({isTransitioning:!1});sO.displayName="ViewTransition";var B$=x.createContext(new Map);B$.displayName="Fetchers";var z$=x.createContext(null);z$.displayName="Await";var Rr=x.createContext(null);Rr.displayName="Navigation";var Oc=x.createContext(null);Oc.displayName="Location";var ei=x.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var t_=x.createContext(null);t_.displayName="RouteError";function W$(t,{relative:e}={}){Ke(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Rr),{hash:i,pathname:o,search:s}=Nc(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:yi([n,o])),r.createHref({pathname:a,search:s,hash:i})}function gl(){return x.useContext(Oc)!=null}function Fo(){return Ke(gl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Oc).location}var aO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lO(t){x.useContext(Rr).static||x.useLayoutEffect(t)}function uO(){let{isDataRoute:t}=x.useContext(ei);return t?rU():K$()}function K$(){Ke(gl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(ml),{basename:e,navigator:n}=x.useContext(Rr),{matches:r}=x.useContext(ei),{pathname:i}=Fo(),o=JSON.stringify(Zw(r)),s=x.useRef(!1);return lO(()=>{s.current=!0}),x.useCallback((l,u={})=>{if(kr(s.current,aO),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=e_(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:yi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}x.createContext(null);function Nc(t,{relative:e}={}){let{matches:n}=x.useContext(ei),{pathname:r}=Fo(),i=JSON.stringify(Zw(n));return x.useMemo(()=>e_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function H$(t,e){return cO(t,e)}function cO(t,e,n,r){var y;Ke(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Rr),{matches:o}=x.useContext(ei),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let b=c&&c.path||"";dO(l,!c||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Fo(),h;if(e){let b=typeof e=="string"?pl(e):e;Ke(u==="/"||((y=b.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),h=b}else h=f;let p=h.pathname||"/",g=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=nO(t,{pathname:g});kr(c||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),kr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=X$(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:yi([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:yi([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&m?x.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},m):m}function q$(){let t=nU(),e=U$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}var G$=x.createElement(q$,null),Y$=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(ei.Provider,{value:this.props.routeContext},x.createElement(t_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q$({routeContext:t,match:e,children:n}){let r=x.useContext(ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(ei.Provider,{value:t},n)}function X$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ke(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:f}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,h=!1,p=null,g=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||G$,s&&(a<0&&c===0?(dO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===c&&(h=!0,g=u.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,c+1)),m=()=>{let y;return f?y=p:h?y=g:u.route.Component?y=x.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,x.createElement(Q$,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?x.createElement(Y$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}function n_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J$(t){let e=x.useContext(ml);return Ke(e,n_(t)),e}function Z$(t){let e=x.useContext(Ip);return Ke(e,n_(t)),e}function eU(t){let e=x.useContext(ei);return Ke(e,n_(t)),e}function r_(t){let e=eU(t),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tU(){return r_("useRouteId")}function nU(){var r;let t=x.useContext(t_),e=Z$("useRouteError"),n=r_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function rU(){let{router:t}=J$("useNavigate"),e=r_("useNavigate"),n=x.useRef(!1);return lO(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{kr(n.current,aO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var fT={};function dO(t,e,n){!e&&!fT[t]&&(fT[t]=!0,kr(!1,n))}x.memo(iU);function iU({routes:t,future:e,state:n}){return cO(t,void 0,n,e)}function oU({to:t,replace:e,state:n,relative:r}){Ke(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Rr);kr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(ei),{pathname:s}=Fo(),a=uO(),l=e_(t,Zw(o),s,r==="path"),u=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Tf(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ke(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=pl(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:h="default"}=n,p=x.useMemo(()=>{let g=Ai(l,s);return g==null?null:{location:{pathname:g,search:u,hash:c,state:f,key:h},navigationType:r}},[s,l,u,c,f,h,r]);return kr(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:x.createElement(Rr.Provider,{value:a},x.createElement(Oc.Provider,{children:e,value:p}))}function aU({children:t,location:e}){return H$(jv(t),e)}function jv(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,jv(r.props.children,o));return}Ke(r.type===Tf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jv(r.props.children,o)),n.push(s)}),n}var Af="get",Sf="application/x-www-form-urlencoded";function Cp(t){return t!=null&&typeof t.tagName=="string"}function lU(t){return Cp(t)&&t.tagName.toLowerCase()==="button"}function uU(t){return Cp(t)&&t.tagName.toLowerCase()==="form"}function cU(t){return Cp(t)&&t.tagName.toLowerCase()==="input"}function dU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fU(t,e){return t.button===0&&(!e||e==="_self")&&!dU(t)}var Bd=null;function hU(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var pU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(t){return t!=null&&!pU.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):t}function mU(t,e){let n,r,i,o,s;if(uU(t)){let a=t.getAttribute("action");r=a?Ai(a,e):null,n=t.getAttribute("method")||Af,i=Yg(t.getAttribute("enctype"))||Sf,o=new FormData(t)}else if(lU(t)||cU(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ai(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Af,i=Yg(t.getAttribute("formenctype"))||Yg(a.getAttribute("enctype"))||Sf,o=new FormData(a,t),!hU()){let{name:u,type:c,value:f}=t;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,f)}}else{if(Cp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,r=null,i=Sf,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gU(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ai(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wU(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await yU(o,n);return s.links?s.links():[]}return[]}));return EU(r.flat(1).filter(vU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hT(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function _U(t,e,{includeHydrateFallback:n}={}){return bU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bU(t){return[...new Set(t)]}function xU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(xU(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function fO(){let t=x.useContext(ml);return i_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TU(){let t=x.useContext(Ip);return i_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var o_=x.createContext(void 0);o_.displayName="FrameworkContext";function hO(){let t=x.useContext(o_);return i_(t,"You must render this element inside a <HydratedRouter> element"),t}function AU(t,e){let n=x.useContext(o_),[r,i]=x.useState(!1),[o,s]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,h=x.useRef(null);x.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=y=>{y.forEach(b=>{s(b.isIntersecting)})},m=new IntersectionObserver(v,{threshold:.5});return h.current&&m.observe(h.current),()=>{m.disconnect()}}},[t]),x.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:tu(a,p),onBlur:tu(l,g),onMouseEnter:tu(u,p),onMouseLeave:tu(c,g),onTouchStart:tu(f,p)}]:[!1,h,{}]}function tu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SU({page:t,...e}){let{router:n}=fO(),r=x.useMemo(()=>nO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(IU,{page:t,matches:r,...e}):null}function PU(t){let{manifest:e,routeModules:n}=hO(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return wU(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function IU({page:t,matches:e,...n}){let r=Fo(),{manifest:i,routeModules:o}=hO(),{basename:s}=fO(),{loaderData:a,matches:l}=TU(),u=x.useMemo(()=>hT(t,e,l,i,r,"data"),[t,e,l,i,r]),c=x.useMemo(()=>hT(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(y=>{var E;let b=i.routes[y.route.id];!b||!b.hasLoader||(!u.some(I=>I.route.id===y.route.id)&&y.route.id in a&&((E=o[y.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?v=!0:g.add(y.route.id))}),g.size===0)return[];let m=gU(t,s,"data");return v&&g.size>0&&m.searchParams.set("_routes",e.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[s,a,r,i,u,e,t,o]),h=x.useMemo(()=>_U(c,i),[c,i]),p=PU(c);return x.createElement(x.Fragment,null,f.map(g=>x.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>x.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:v})=>x.createElement("link",{key:g,...v})))}function CU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pO&&(window.__reactRouterVersion="7.7.0")}catch{}function kU({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=y$({window:n,v5Compat:!0}));let i=r.current,[o,s]=x.useState({action:i.action,location:i.location}),a=x.useCallback(l=>{x.startTransition(()=>s(l))},[s]);return x.useLayoutEffect(()=>i.listen(a),[i,a]),x.createElement(sU,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var mO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gO=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...h},p){let{basename:g}=x.useContext(Rr),v=typeof u=="string"&&mO.test(u),m,y=!1;if(typeof u=="string"&&v&&(m=u,pO))try{let P=new URL(window.location.href),O=u.startsWith("//")?new URL(P.protocol+u):new URL(u),N=Ai(O.pathname,g);O.origin===P.origin&&N!=null?u=N+O.search+O.hash:y=!0}catch{kr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=W$(u,{relative:i}),[E,I,R]=AU(r,h),C=DU(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function A(P){e&&e(P),P.defaultPrevented||C(P)}let S=x.createElement("a",{...h,...R,href:m||b,onClick:y||o?e:A,ref:CU(p,I),target:l,"data-discover":!v&&n==="render"?"true":void 0});return E&&!v?x.createElement(x.Fragment,null,S,x.createElement(SU,{page:b})):S});gO.displayName="Link";var OU=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let f=Nc(s,{relative:u.relative}),h=Fo(),p=x.useContext(Ip),{navigator:g,basename:v}=x.useContext(Rr),m=p!=null&&$U(f)&&a===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(b=b.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&v&&(E=Ai(E,v)||E);const I=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let R=b===y||!i&&b.startsWith(y)&&b.charAt(I)==="/",C=E!=null&&(E===y||!i&&E.startsWith(y)&&E.charAt(y.length)==="/"),A={isActive:R,isPending:C,isTransitioning:m},S=R?e:void 0,P;typeof r=="function"?P=r(A):P=[r,R?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(A):o;return x.createElement(gO,{...u,"aria-current":S,className:P,ref:c,style:O,to:s,viewTransition:a},typeof l=="function"?l(A):l)});OU.displayName="NavLink";var NU=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Af,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...h},p)=>{let g=LU(),v=VU(a,{relative:u}),m=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&mO.test(a),b=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,R=(I==null?void 0:I.getAttribute("formmethod"))||s;g(I||E.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return x.createElement("form",{ref:p,method:m,action:v,onSubmit:r?l:b,...h,"data-discover":!y&&t==="render"?"true":void 0})});NU.displayName="Form";function RU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yO(t){let e=x.useContext(ml);return Ke(e,RU(t)),e}function DU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=uO(),l=Fo(),u=Nc(t,{relative:o});return x.useCallback(c=>{if(fU(c,e)){c.preventDefault();let f=n!==void 0?n:oc(l)===oc(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var jU=0,MU=()=>`__${String(++jU)}__`;function LU(){let{router:t}=yO("useSubmit"),{basename:e}=x.useContext(Rr),n=tU();return x.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=mU(r,e);if(i.navigate===!1){let c=i.fetcherKey||MU();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function VU(t,{relative:e}={}){let{basename:n}=x.useContext(Rr),r=x.useContext(ei);Ke(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Nc(t||".",{relative:e})},s=Fo();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:yi([n,o.pathname])),oc(o)}function $U(t,e={}){let n=x.useContext(sO);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yO("useViewTransitionState"),i=Nc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uh(i.pathname,s)!=null||uh(i.pathname,o)!=null}const UU=()=>{};var pT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new BU;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zU=function(t){const e=vO(t);return wO.encodeByteArray(e,!0)},ch=function(t){return zU(t).replace(/\./g,"")},_O=function(t){try{return wO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=()=>WU().__FIREBASE_DEFAULTS__,HU=()=>{if(typeof process>"u"||typeof pT>"u")return;const t=pT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_O(t[1]);return e&&JSON.parse(e)},kp=()=>{try{return UU()||KU()||HU()||qU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bO=t=>{var e,n;return(n=(e=kp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xO=t=>{const e=bO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EO=()=>{var t;return(t=kp())==null?void 0:t.config},TO=t=>{var e;return(e=kp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ch(JSON.stringify(n)),ch(JSON.stringify(s)),""].join(".")}const Ou={};function YU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?t.emulator.push(e):t.prod.push(e);return t}function QU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mT=!1;function a_(t,e){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||Ou[t]===e||Ou[t]||mT)return;Ou[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=YU().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{mT=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=QU(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),m=document.getElementById(v)||document.createElement("a"),y=n("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;a(E),c(m,v);const I=u();l(b,y),E.append(b,g,m,I),document.body.appendChild(E)}o?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function JU(){var e;const t=(e=kp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n6(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r6(){return!JU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i6(){try{return typeof indexedDB=="object"}catch{return!1}}function o6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s6,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ti(i,a,r)}}function a6(t,e){return t.replace(l6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l6=/\{\$([^}]+)}/g;function u6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Is(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(gT(o)&&gT(s)){if(!Is(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c6(t,e){const n=new d6(t,e);return n.subscribe.bind(n)}class d6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m6(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p6(t){return t===ns?void 0:t}function m6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const y6={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},v6=me.INFO,w6={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},_6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=w6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=_6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const b6=(t,e)=>e.some(n=>t instanceof n);let yT,vT;function x6(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E6(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SO=new WeakMap,Mv=new WeakMap,PO=new WeakMap,Xg=new WeakMap,u_=new WeakMap;function T6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(wo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SO.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function A6(t){if(Mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mv.set(t,e)}let Lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S6(t){Lv=t(Lv)}function P6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jg(this),e,...n);return PO.set(r,e.sort?e.sort():[e]),wo(r)}:E6().includes(t)?function(...e){return t.apply(Jg(this),e),wo(SO.get(this))}:function(...e){return wo(t.apply(Jg(this),e))}}function I6(t){return typeof t=="function"?P6(t):(t instanceof IDBTransaction&&A6(t),b6(t,x6())?new Proxy(t,Lv):t)}function wo(t){if(t instanceof IDBRequest)return T6(t);if(Xg.has(t))return Xg.get(t);const e=I6(t);return e!==t&&(Xg.set(t,e),u_.set(e,t)),e}const Jg=t=>u_.get(t);function C6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=wo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(wo(s.result),l.oldVersion,l.newVersion,wo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const k6=["get","getKey","getAll","getAllKeys","count"],O6=["put","add","delete","clear"],Zg=new Map;function wT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=O6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zg.set(e,o),o}S6(t=>({...t,get:(e,n,r)=>wT(e,n)||t.get(e,n,r),has:(e,n)=>!!wT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vv="@firebase/app",_T="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new l_("@firebase/app"),D6="@firebase/app-compat",j6="@firebase/analytics-compat",M6="@firebase/analytics",L6="@firebase/app-check-compat",V6="@firebase/app-check",$6="@firebase/auth",U6="@firebase/auth-compat",F6="@firebase/database",B6="@firebase/data-connect",z6="@firebase/database-compat",W6="@firebase/functions",K6="@firebase/functions-compat",H6="@firebase/installations",q6="@firebase/installations-compat",G6="@firebase/messaging",Y6="@firebase/messaging-compat",Q6="@firebase/performance",X6="@firebase/performance-compat",J6="@firebase/remote-config",Z6="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/ai",iF="@firebase/firestore-compat",oF="firebase",sF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="[DEFAULT]",aF={[Vv]:"fire-core",[D6]:"fire-core-compat",[M6]:"fire-analytics",[j6]:"fire-analytics-compat",[V6]:"fire-app-check",[L6]:"fire-app-check-compat",[$6]:"fire-auth",[U6]:"fire-auth-compat",[F6]:"fire-rtdb",[B6]:"fire-data-connect",[z6]:"fire-rtdb-compat",[W6]:"fire-fn",[K6]:"fire-fn-compat",[H6]:"fire-iid",[q6]:"fire-iid-compat",[G6]:"fire-fcm",[Y6]:"fire-fcm-compat",[Q6]:"fire-perf",[X6]:"fire-perf-compat",[J6]:"fire-rc",[Z6]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[iF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[oF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,lF=new Map,Uv=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cs(t){const e=t.name;if(Uv.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Uv.set(e,t);for(const n of dh.values())bT(n,t);for(const n of lF.values())bT(n,t);return!0}function Op(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Rc("app","Firebase",uF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=sF;function IO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$v,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=EO()),!n)throw _o.create("no-options");const o=dh.get(i);if(o){if(Is(n,o.options)&&Is(r,o.config))return o;throw _o.create("duplicate-app",{appName:i})}const s=new g6(i);for(const l of Uv.values())s.addComponent(l);const a=new cF(n,r,s);return dh.set(i,a),a}function c_(t=$v){const e=dh.get(t);if(!e&&t===$v&&EO())return IO();if(!e)throw _o.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=aF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(s.join(" "));return}Cs(new Co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="firebase-heartbeat-database",fF=1,sc="firebase-heartbeat-store";let ey=null;function CO(){return ey||(ey=C6(dF,fF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),ey}async function hF(t){try{const n=(await CO()).transaction(sc),r=await n.objectStore(sc).get(kO(t));return await n.done,r}catch(e){if(e instanceof ti)Si.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function xT(t,e){try{const r=(await CO()).transaction(sc,"readwrite");await r.objectStore(sc).put(e,kO(t)),await r.done}catch(n){if(n instanceof ti)Si.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function kO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1024,mF=30;class gF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ET();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mF){const s=wF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ET(),{heartbeatsToSend:r,unsentEntries:i}=yF(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Si.warn(n),""}}}function ET(){return new Date().toISOString().substring(0,10)}function yF(t,e=pF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i6()?o6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TT(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}function wF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){Cs(new Co("platform-logger",e=>new N6(e),"PRIVATE")),Cs(new Co("heartbeat",e=>new gF(e),"PRIVATE")),Wr(Vv,_T,t),Wr(Vv,_T,"esm2020"),Wr("fire-js","")}_F("");function OO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bF=OO,NO=new Rc("auth","Firebase",OO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new l_("@firebase/auth");function xF(t,...e){fh.logLevel<=me.WARN&&fh.warn(`Auth (${zs}): ${t}`,...e)}function Pf(t,...e){fh.logLevel<=me.ERROR&&fh.error(`Auth (${zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw d_(t,...e)}function Kr(t,...e){return d_(t,...e)}function RO(t,e,n){const r={...bF(),[e]:n};return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function bo(t){return RO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NO.create(t,...e)}function ae(t,e,...n){if(!t)throw d_(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Pi(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EF(){return AT()==="http:"||AT()==="https:"}function AT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EF()||e6()||"connection"in navigator)?navigator.onLine:!0}function AF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=XU()||t6()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IF=new jc(3e4,6e4);function Ws(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zo(t,e,n,r,i={}){return jO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Dc({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return ZU()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Bo(t.emulatorConfig.host)&&(u.credentials="include"),DO.fetch()(await MO(t,t.config.apiHost,n,a),u)})}async function jO(t,e,n){t._canInitEmulator=!1;const r={...SF,...e};try{const i=new kF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw zd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw zd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RO(t,c,u);Or(t,c)}}catch(i){if(i instanceof ti)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function Np(t,e,n,r,i={}){const o=await zo(t,e,n,r,i);return"mfaPendingCredential"in o&&Or(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function MO(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?f_(t.config,i):`${t.config.apiScheme}://${i}`;return PF.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function CF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),IF.get())})}}function zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function ST(t){return t!==void 0&&t.enterprise!==void 0}class OF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NF(t,e){return zo(t,"GET","/v2/recaptchaConfig",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){return zo(t,"POST","/v1/accounts:delete",e)}async function hh(t,e){return zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DF(t,e=!1){const n=He(t),r=await n.getIdToken(e),i=h_(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Nu(ty(i.auth_time)),issuedAtTime:Nu(ty(i.iat)),expirationTime:Nu(ty(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ty(t){return Number(t)*1e3}function h_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=_O(n);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PT(t){const e=h_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&jF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ac(t,hh(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?LO(i.providerUserInfo):[],s=VF(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function LF(t){const e=He(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e){const n=await jO(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await MO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Bo(t.emulatorConfig.host)&&(l.credentials="include"),DO.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UF(t,e){return zo(t,"POST","/v2/accounts:revokeToken",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=PT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await $F(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Na;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new MF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DF(this,e)}reload(){return LF(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(bo(this.auth));const e=await this.getIdToken();return await ac(this,RF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:v}=n;ae(f&&v,e,"internal-error");const m=Na.fromJSON(this.name,v);ae(typeof f=="string",e,"internal-error"),Hi(r,e.name),Hi(i,e.name),ae(typeof h=="boolean",e,"internal-error"),ae(typeof p=="boolean",e,"internal-error"),Hi(o,e.name),Hi(s,e.name),Hi(a,e.name),Hi(l,e.name),Hi(u,e.name),Hi(c,e.name);const y=new Tr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:m,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(y.providerData=g.map(b=>({...b}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Na;i.updateFromServerResponse(n);const o=new Tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?LO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Na;a.updateFromIdToken(r);const l=new Tr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;function fi(t){Pi(t instanceof Function,"Expected a class definition");let e=IT.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VO.type="NONE";const CT=VO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=If(this.userKey,i.apiKey,o),this.fullPersistenceKey=If("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ra(fi(CT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||fi(CT);const s=If(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await hh(e,{idToken:c}).catch(()=>{});if(!h)break;f=await Tr._fromGetAccountInfoResponse(e,h,c)}else f=Tr._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ra(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($O(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WO(e))return"Blackberry";if(KO(e))return"Webos";if(UO(e))return"Safari";if((e.includes("chrome/")||FO(e))&&!e.includes("edge/"))return"Chrome";if(zO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $O(t=sn()){return/firefox\//i.test(t)}function UO(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FO(t=sn()){return/crios\//i.test(t)}function BO(t=sn()){return/iemobile/i.test(t)}function zO(t=sn()){return/android/i.test(t)}function WO(t=sn()){return/blackberry/i.test(t)}function KO(t=sn()){return/webos/i.test(t)}function p_(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FF(t=sn()){var e;return p_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BF(){return n6()&&document.documentMode===10}function HO(t=sn()){return p_(t)||zO(t)||KO(t)||WO(t)||/windows phone/i.test(t)||BO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e=[]){let n;switch(t){case"Browser":n=kT(sn());break;case"Worker":n=`${kT(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e={}){return zo(t,"GET","/v2/passwordPolicy",Ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=6;class HF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new zF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(rr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(bo(this));const n=e?He(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WF(this),n=new HF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yl(t){return He(t)}class OT{constructor(e){this.auth=e,this.observer=null,this.addObserver=c6(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){Rp=t}function GO(t){return Rp.loadJS(t)}function YF(){return Rp.recaptchaEnterpriseScript}function QF(){return Rp.gapiScript}function XF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JF{constructor(){this.enterprise=new ZF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const e5="recaptcha-enterprise",YO="NO_RECAPTCHA";class t5{constructor(e){this.type=e5,this.auth=yl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{NF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OF(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ST(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(YO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JF().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ST(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YF();l.length!==0&&(l+=a),GO(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function NT(t,e,n,r=!1,i=!1){const o=new t5(t);let s;if(i)s=YO;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function RT(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await NT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await NT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e){const n=Op(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Is(o,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function r5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i5(t,e,n){const r=yl(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=QO(e),{host:s,port:a}=o5(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Is(u,r.config.emulator)&&Is(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Bo(s)?(s_(`${o}//${s}${l}`),a_("Auth",!0)):s5()}function QO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o5(t){const e=QO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:DT(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:DT(s)}}}function DT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function a5(t,e){return zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return Np(t,"POST","/v1/accounts:signInWithPassword",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return Np(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}async function c5(t,e){return Np(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends m_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RT(e,n,"signInWithPassword",l5);case"emailLink":return u5(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RT(e,r,"signUpPassword",a5);case"emailLink":return c5(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Np(t,"POST","/v1/accounts:signInWithIdp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="http://localhost";class ks extends m_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ks(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:d5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h5(t){const e=mu(gu(t)).link,n=e?mu(gu(e)).deep_link_id:null,r=mu(gu(t)).deep_link_id;return(r?mu(gu(r)).link:null)||r||n||e||t}class g_{constructor(e){const n=mu(gu(e)),r=n.apiKey??null,i=n.oobCode??null,o=f5(n.mode??null);ae(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=h5(e);try{return new g_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g_.parseLink(n);return ae(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends XO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Mc{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Mc{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Mc{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Tr._fromIdTokenResponse(e,r,i),s=jT(r);return new Ka({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jT(r);return new Ka({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function JO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,o,e,r):o})}async function p5(t,e,n=!1){const r=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject(bo(r));const i="reauthenticate";try{const o=await ac(t,JO(r,i,e,t),n);ae(o.idToken,r,"internal-error");const s=h_(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),Ka._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n=!1){if(rr(t.app))return Promise.reject(bo(t));const r="signIn",i=await JO(t,r,e),o=await Ka._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function g5(t,e){return ZO(yl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t){const e=yl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v5(t,e,n){return rr(t.app)?Promise.reject(bo(t)):g5(He(t),vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&y5(t),r})}function w5(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function _5(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function b5(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function x5(t){return He(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1e3,T5=10;class tN extends eN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);BF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,T5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tN.type="LOCAL";const A5=tN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends eN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nN.type="SESSION";const rN=nN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await S5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=y_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function I5(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function C5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function O5(){return iN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebaseLocalStorageDb",N5=1,yh="firebaseLocalStorage",sN="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jp(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function R5(){const t=indexedDB.deleteDatabase(oN);return new Lc(t).toPromise()}function zv(){const t=indexedDB.open(oN,N5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:sN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await R5(),e(await zv()))})})}async function MT(t,e,n){const r=jp(t,!0).put({[sN]:e,value:n});return new Lc(r).toPromise()}async function D5(t,e){const n=jp(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function LT(t,e){const n=jp(t,!0).delete(e);return new Lc(n).toPromise()}const j5=800,M5=3;class aN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dp._getInstance(O5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await C5(),!this.activeServiceWorker)return;this.sender=new P5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await MT(e,gh,"1"),await LT(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=jp(i,!1).getAll();return new Lc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aN.type="LOCAL";const L5=aN;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){return e?fi(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends m_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $5(t){return ZO(t.auth,new v_(t),t.bypassAuthState)}function U5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),m5(n,new v_(t),t.bypassAuthState)}async function F5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),p5(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $5;case"linkViaPopup":case"linkViaRedirect":return F5;case"reauthViaPopup":case"reauthViaRedirect":return U5;default:Or(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new jc(2e3,1e4);class xa extends lN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B5.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="pendingRedirect",Cf=new Map;class W5 extends lN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const r=await K5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K5(t,e){const n=G5(e),r=q5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H5(t,e){Cf.set(t._key(),e)}function q5(t){return fi(t._redirectPersistence)}function G5(t){return If(z5,t.config.apiKey,t.name)}async function Y5(t,e,n=!1){if(rr(t.app))return Promise.reject(bo(t));const r=yl(t),i=V5(r,e),s=await new W5(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=10*60*1e3;class X5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(e))}saveEventToCache(e){this.cachedEventUids.add(VT(e)),this.lastProcessedEventTime=Date.now()}}function VT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e={}){return zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tB=/^https?/;async function nB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z5(t);for(const n of e)try{if(rB(n))return}catch{}Or(t,"unauthorized-domain")}function rB(t){const e=Fv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!tB.test(n))return!1;if(eB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new jc(3e4,6e4);function $T(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oB(t){return new Promise((e,n)=>{var i,o,s;function r(){$T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$T(),n(Kr(t,"network-request-failed"))},timeout:iB.get()})}if((o=(i=Hr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Hr().gapi)!=null&&s.load)r();else{const a=XF("iframefcb");return Hr()[a]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},GO(`${QF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kf=null,e})}let kf=null;function sB(t){return kf=kf||oB(t),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=new jc(5e3,15e3),lB="__/auth/iframe",uB="emulator/auth/iframe",cB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fB(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f_(e,uB):`https://${t.config.authDomain}/${lB}`,r={apiKey:e.apiKey,appName:t.name,v:zs},i=dB.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Dc(r).slice(1)}`}async function hB(t){const e=await sB(t),n=Hr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:fB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Kr(t,"network-request-failed"),a=Hr().setTimeout(()=>{o(s)},aB.get());function l(){Hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mB=500,gB=600,yB="_blank",vB="http://localhost";class UT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wB(t,e,n,r=mB,i=gB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...pB,width:r.toString(),height:i.toString(),top:o,left:s},u=sn().toLowerCase();n&&(a=FO(u)?yB:n),$O(u)&&(e=e||vB,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(FF(u)&&a!=="_self")return _B(e||"",a),new UT(null);const f=window.open(e||"",a,c);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new UT(f)}function _B(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="__/auth/handler",xB="emulator/auth/handler",EB=encodeURIComponent("fac");async function FT(t,e,n,r,i,o){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zs,eventId:i};if(e instanceof XO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",u6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Mc){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${EB}=${encodeURIComponent(l)}`:"";return`${TB(t)}?${Dc(a).slice(1)}${u}`}function TB({config:t}){return t.emulator?f_(t,xB):`https://${t.authDomain}/${bB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="webStorageSupport";class AB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rN,this._completeRedirectFn=Y5,this._overrideRedirectResult=H5}async _openPopup(e,n,r,i){var s;Pi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FT(e,n,r,Fv(),i);return wB(e,o,y_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await FT(e,n,r,Fv(),i);return I5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hB(e),r=new X5(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ny,{type:ny},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[ny];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HO()||UO()||p_()}}const SB=AB;var BT="@firebase/auth",zT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CB(t){Cs(new Co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qO(t)},u=new qF(r,i,o,l);return r5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new Co("auth-internal",e=>{const n=yl(e.getProvider("auth").getImmediate());return(r=>new PB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(BT,zT,IB(t)),Wr(BT,zT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=5*60,OB=TO("authIdTokenMaxAge")||kB;let WT=null;const NB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OB)return;const i=n==null?void 0:n.token;WT!==i&&(WT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RB(t=c_()){const e=Op(t,"auth");if(e.isInitialized())return e.getImmediate();const n=n5(t,{popupRedirectResolver:SB,persistence:[L5,A5,rN]}),r=TO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=NB(o.toString());_5(n,s,()=>s(n.currentUser)),w5(n,a=>s(a))}}const i=bO("auth");return i&&i5(n,`http://${i}`),n}function DB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",DB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CB("Browser");var jB="firebase",MB="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(jB,MB,"app");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,cN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.D=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(O,N,j){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return S.prototype[N].apply(O,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,P){P||(P=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(N=0;16>N;++N)O[N]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],N=A.g[2];var j=A.g[3],D=S+(j^P&(N^j))+O[0]+3614090360&4294967295;S=P+(D<<7&4294967295|D>>>25),D=j+(N^S&(P^N))+O[1]+3905402710&4294967295,j=S+(D<<12&4294967295|D>>>20),D=N+(P^j&(S^P))+O[2]+606105819&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(S^N&(j^S))+O[3]+3250441966&4294967295,P=N+(D<<22&4294967295|D>>>10),D=S+(j^P&(N^j))+O[4]+4118548399&4294967295,S=P+(D<<7&4294967295|D>>>25),D=j+(N^S&(P^N))+O[5]+1200080426&4294967295,j=S+(D<<12&4294967295|D>>>20),D=N+(P^j&(S^P))+O[6]+2821735955&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(S^N&(j^S))+O[7]+4249261313&4294967295,P=N+(D<<22&4294967295|D>>>10),D=S+(j^P&(N^j))+O[8]+1770035416&4294967295,S=P+(D<<7&4294967295|D>>>25),D=j+(N^S&(P^N))+O[9]+2336552879&4294967295,j=S+(D<<12&4294967295|D>>>20),D=N+(P^j&(S^P))+O[10]+4294925233&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(S^N&(j^S))+O[11]+2304563134&4294967295,P=N+(D<<22&4294967295|D>>>10),D=S+(j^P&(N^j))+O[12]+1804603682&4294967295,S=P+(D<<7&4294967295|D>>>25),D=j+(N^S&(P^N))+O[13]+4254626195&4294967295,j=S+(D<<12&4294967295|D>>>20),D=N+(P^j&(S^P))+O[14]+2792965006&4294967295,N=j+(D<<17&4294967295|D>>>15),D=P+(S^N&(j^S))+O[15]+1236535329&4294967295,P=N+(D<<22&4294967295|D>>>10),D=S+(N^j&(P^N))+O[1]+4129170786&4294967295,S=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(S^P))+O[6]+3225465664&4294967295,j=S+(D<<9&4294967295|D>>>23),D=N+(S^P&(j^S))+O[11]+643717713&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^S&(N^j))+O[0]+3921069994&4294967295,P=N+(D<<20&4294967295|D>>>12),D=S+(N^j&(P^N))+O[5]+3593408605&4294967295,S=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(S^P))+O[10]+38016083&4294967295,j=S+(D<<9&4294967295|D>>>23),D=N+(S^P&(j^S))+O[15]+3634488961&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^S&(N^j))+O[4]+3889429448&4294967295,P=N+(D<<20&4294967295|D>>>12),D=S+(N^j&(P^N))+O[9]+568446438&4294967295,S=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(S^P))+O[14]+3275163606&4294967295,j=S+(D<<9&4294967295|D>>>23),D=N+(S^P&(j^S))+O[3]+4107603335&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^S&(N^j))+O[8]+1163531501&4294967295,P=N+(D<<20&4294967295|D>>>12),D=S+(N^j&(P^N))+O[13]+2850285829&4294967295,S=P+(D<<5&4294967295|D>>>27),D=j+(P^N&(S^P))+O[2]+4243563512&4294967295,j=S+(D<<9&4294967295|D>>>23),D=N+(S^P&(j^S))+O[7]+1735328473&4294967295,N=j+(D<<14&4294967295|D>>>18),D=P+(j^S&(N^j))+O[12]+2368359562&4294967295,P=N+(D<<20&4294967295|D>>>12),D=S+(P^N^j)+O[5]+4294588738&4294967295,S=P+(D<<4&4294967295|D>>>28),D=j+(S^P^N)+O[8]+2272392833&4294967295,j=S+(D<<11&4294967295|D>>>21),D=N+(j^S^P)+O[11]+1839030562&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^S)+O[14]+4259657740&4294967295,P=N+(D<<23&4294967295|D>>>9),D=S+(P^N^j)+O[1]+2763975236&4294967295,S=P+(D<<4&4294967295|D>>>28),D=j+(S^P^N)+O[4]+1272893353&4294967295,j=S+(D<<11&4294967295|D>>>21),D=N+(j^S^P)+O[7]+4139469664&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^S)+O[10]+3200236656&4294967295,P=N+(D<<23&4294967295|D>>>9),D=S+(P^N^j)+O[13]+681279174&4294967295,S=P+(D<<4&4294967295|D>>>28),D=j+(S^P^N)+O[0]+3936430074&4294967295,j=S+(D<<11&4294967295|D>>>21),D=N+(j^S^P)+O[3]+3572445317&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^S)+O[6]+76029189&4294967295,P=N+(D<<23&4294967295|D>>>9),D=S+(P^N^j)+O[9]+3654602809&4294967295,S=P+(D<<4&4294967295|D>>>28),D=j+(S^P^N)+O[12]+3873151461&4294967295,j=S+(D<<11&4294967295|D>>>21),D=N+(j^S^P)+O[15]+530742520&4294967295,N=j+(D<<16&4294967295|D>>>16),D=P+(N^j^S)+O[2]+3299628645&4294967295,P=N+(D<<23&4294967295|D>>>9),D=S+(N^(P|~j))+O[0]+4096336452&4294967295,S=P+(D<<6&4294967295|D>>>26),D=j+(P^(S|~N))+O[7]+1126891415&4294967295,j=S+(D<<10&4294967295|D>>>22),D=N+(S^(j|~P))+O[14]+2878612391&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~S))+O[5]+4237533241&4294967295,P=N+(D<<21&4294967295|D>>>11),D=S+(N^(P|~j))+O[12]+1700485571&4294967295,S=P+(D<<6&4294967295|D>>>26),D=j+(P^(S|~N))+O[3]+2399980690&4294967295,j=S+(D<<10&4294967295|D>>>22),D=N+(S^(j|~P))+O[10]+4293915773&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~S))+O[1]+2240044497&4294967295,P=N+(D<<21&4294967295|D>>>11),D=S+(N^(P|~j))+O[8]+1873313359&4294967295,S=P+(D<<6&4294967295|D>>>26),D=j+(P^(S|~N))+O[15]+4264355552&4294967295,j=S+(D<<10&4294967295|D>>>22),D=N+(S^(j|~P))+O[6]+2734768916&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~S))+O[13]+1309151649&4294967295,P=N+(D<<21&4294967295|D>>>11),D=S+(N^(P|~j))+O[4]+4149444226&4294967295,S=P+(D<<6&4294967295|D>>>26),D=j+(P^(S|~N))+O[11]+3174756917&4294967295,j=S+(D<<10&4294967295|D>>>22),D=N+(S^(j|~P))+O[2]+718787259&4294967295,N=j+(D<<15&4294967295|D>>>17),D=P+(j^(N|~S))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+j&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var P=S-this.blockSize,O=this.B,N=this.h,j=0;j<S;){if(N==0)for(;j<=P;)i(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<S;)if(O[N++]=A.charCodeAt(j++),N==this.blockSize){i(this,O),N=0;break}}else for(;j<S;)if(O[N++]=A[j++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var P=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=P&255,P/=256;for(this.u(A),A=Array(16),S=P=0;4>S;++S)for(var O=0;32>O;O+=8)A[P++]=this.g[S]>>>O&255;return A};function o(A,S){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function s(A,S){this.h=S;for(var P=[],O=!0,N=A.length-1;0<=N;N--){var j=A[N]|0;O&&j==S||(P[N]=j,O=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?o(A,function(S){return new s([S|0],0>S?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return m(u(-A));for(var S=[],P=1,O=0;A>=P;O++)S[O]=A/P|0,P*=4294967296;return new s(S,0)}function c(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return m(c(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),O=f,N=0;N<A.length;N+=8){var j=Math.min(8,A.length-N),D=parseInt(A.substring(N,N+j),S);8>j?(j=u(Math.pow(S,j)),O=O.j(j).add(u(D))):(O=O.j(P),O=O.add(u(D)))}return O}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-m(this).m();for(var A=0,S=1,P=0;P<this.g.length;P++){var O=this.i(P);A+=(0<=O?O:4294967296+O)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(v(this))return"-"+m(this).toString(A);for(var S=u(Math.pow(A,6)),P=this,O="";;){var N=I(P,S).g;P=y(P,N.j(S));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=N,g(P))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=y(this,A),v(A)?-1:g(A)?0:1};function m(A){for(var S=A.g.length,P=[],O=0;O<S;O++)P[O]=~A.g[O];return new s(P,~A.h).add(h)}t.abs=function(){return v(this)?m(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],O=0,N=0;N<=S;N++){var j=O+(this.i(N)&65535)+(A.i(N)&65535),D=(j>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);O=D>>>16,j&=65535,D&=65535,P[N]=D<<16|j}return new s(P,P[P.length-1]&-2147483648?-1:0)};function y(A,S){return A.add(m(S))}t.j=function(A){if(g(this)||g(A))return f;if(v(this))return v(A)?m(this).j(m(A)):m(m(this).j(A));if(v(A))return m(this.j(m(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,P=[],O=0;O<2*S;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<A.g.length;N++){var j=this.i(O)>>>16,D=this.i(O)&65535,W=A.i(N)>>>16,J=A.i(N)&65535;P[2*O+2*N]+=D*J,b(P,2*O+2*N),P[2*O+2*N+1]+=j*J,b(P,2*O+2*N+1),P[2*O+2*N+1]+=D*W,b(P,2*O+2*N+1),P[2*O+2*N+2]+=j*W,b(P,2*O+2*N+2)}for(O=0;O<S;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=S;O<2*S;O++)P[O]=0;return new s(P,0)};function b(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function E(A,S){this.g=A,this.h=S}function I(A,S){if(g(S))throw Error("division by zero");if(g(A))return new E(f,f);if(v(A))return S=I(m(A),S),new E(m(S.g),m(S.h));if(v(S))return S=I(A,m(S)),new E(m(S.g),S.h);if(30<A.g.length){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=h,O=S;0>=O.l(A);)P=R(P),O=R(O);var N=C(P,1),j=C(O,1);for(O=C(O,2),P=C(P,2);!g(O);){var D=j.add(O);0>=D.l(A)&&(N=N.add(P),j=D),O=C(O,1),P=C(P,1)}return S=y(A,N.j(S)),new E(N,S)}for(N=f;0<=A.l(S);){for(P=Math.max(1,Math.floor(A.m()/S.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=u(P),D=j.j(S);v(D)||0<D.l(A);)P-=O,j=u(P),D=j.j(S);g(j)&&(j=h),N=N.add(j),A=y(A,D)}return new E(N,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)&A.i(O);return new s(P,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)|A.i(O);return new s(P,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)^A.i(O);return new s(P,this.h^A.h)};function R(A){for(var S=A.g.length+1,P=[],O=0;O<S;O++)P[O]=A.i(O)<<1|A.i(O-1)>>>31;return new s(P,A.h)}function C(A,S){var P=S>>5;S%=32;for(var O=A.g.length-P,N=[],j=0;j<O;j++)N[j]=0<S?A.i(j+P)>>>S|A.i(j+P+1)<<32-S:A.i(j+P);return new s(N,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,xo=s}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dN,yu,fN,Of,Wv,hN,pN,mN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,T){return d==Array.prototype||d==Object.prototype||(d[w]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var M=d[k];if(!(M in T))break e;T=T[M]}d=d[d.length-1],k=T[d],w=w(k),w!=k&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var T=0,k=!1,M={next:function(){if(!k&&T<d.length){var $=T++;return{value:w($,d[$]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function c(d,w,T){return d.call.apply(d.bind,arguments)}function f(d,w,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),d.apply(w,M)}}return function(){return d.apply(w,arguments)}}function h(d,w,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function g(d,w){function T(){}T.prototype=w.prototype,d.aa=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,M,$){for(var G=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)G[Ne-2]=arguments[Ne];return w.prototype[M].apply(k,G)}}function v(d){const w=d.length;if(0<w){const T=Array(w);for(let k=0;k<w;k++)T[k]=d[k];return T}return[]}function m(d,w){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const M=d.length||0,$=k.length||0;d.length=M+$;for(let G=0;G<$;G++)d[M+G]=k[G]}else d.push(k)}}class y{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(d,w,T){for(const k in d)w.call(T,d[k],k,d)}function A(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function S(d){const w={};for(const T in d)w[T]=d[T];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,w){let T,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(T in k)d[T]=k[T];for(let $=0;$<P.length;$++)T=P[$],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function N(d){var w=1;d=d.split(":");const T=[];for(;0<w&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function j(d){a.setTimeout(()=>{throw d},0)}function D(){var d=B;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class W{constructor(){this.h=this.g=null}add(w,T){const k=J.get();k.set(w,T),this.h?this.h.next=k:this.g=k,this.h=k}}var J=new y(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,B=new W,Y=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(se)}};var se=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(T){j(T)}var w=J;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}L=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return d}();function Je(d,w){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(R){e:{try{I(w.nodeName);var M=!0;break e}catch{}M=!1}M||(w=null)}}else T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:mr[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Je.aa.h.call(this)}}g(Je,fe);var mr={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gr="closure_listenable_"+(1e6*Math.random()|0),tg=0;function re(d,w,T,k,M){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!k,this.ha=M,this.key=++tg,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,w,T,k,M){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var G=At(d,w,k,M);return-1<G?(w=d[G],T||(w.fa=!1)):(w=new re(w,this.src,$,!!k,M),w.fa=T,d.push(w)),w};function K(d,w){var T=w.type;if(T in d.g){var k=d.g[T],M=Array.prototype.indexOf.call(k,w,void 0),$;($=0<=M)&&Array.prototype.splice.call(k,M,1),$&&(de(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function At(d,w,T,k){for(var M=0;M<d.length;++M){var $=d[M];if(!$.da&&$.listener==w&&$.capture==!!T&&$.ha==k)return M}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),Mt={};function Kt(d,w,T,k,M){if(Array.isArray(w)){for(var $=0;$<w.length;$++)Kt(d,w[$],T,k,M);return null}return T=ix(T),d&&d[gr]?d.K(w,T,u(k)?!!k.capture:!!k,M):ni(d,w,T,!1,k,M)}function ni(d,w,T,k,M,$){if(!w)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Ne=rg(d);if(Ne||(d[Te]=Ne=new he(d)),T=Ne.add(w,T,k,G,$),T.proxy)return T;if(k=ld(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)an||(M=G),M===void 0&&(M=!1),d.addEventListener(w.toString(),k,M);else if(d.attachEvent)d.attachEvent(rx(w.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ld(){function d(T){return w.call(d.src,d.listener,T)}const w=g4;return d}function nx(d,w,T,k,M){if(Array.isArray(w))for(var $=0;$<w.length;$++)nx(d,w[$],T,k,M);else k=u(k)?!!k.capture:!!k,T=ix(T),d&&d[gr]?(d=d.i,w=String(w).toString(),w in d.g&&($=d.g[w],T=At($,T,k,M),-1<T&&(de($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete d.g[w],d.h--)))):d&&(d=rg(d))&&(w=d.g[w.toString()],d=-1,w&&(d=At(w,T,k,M)),(T=-1<d?w[d]:null)&&ng(T))}function ng(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[gr])K(w.i,d);else{var T=d.type,k=d.proxy;w.removeEventListener?w.removeEventListener(T,k,d.capture):w.detachEvent?w.detachEvent(rx(T),k):w.addListener&&w.removeListener&&w.removeListener(k),(T=rg(w))?(K(T,d),T.h==0&&(T.src=null,w[Te]=null)):de(d)}}}function rx(d){return d in Mt?Mt[d]:Mt[d]="on"+d}function g4(d,w){if(d.da)d=!0;else{w=new Je(w,this);var T=d.listener,k=d.ha||d.src;d.fa&&ng(d),d=T.call(k,w)}return d}function rg(d){return d=d[Te],d instanceof he?d:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function ix(d){return typeof d=="function"?d:(d[ig]||(d[ig]=function(w){return d.handleEvent(w)}),d[ig])}function Ht(){q.call(this),this.i=new he(this),this.M=this,this.F=null}g(Ht,q),Ht.prototype[gr]=!0,Ht.prototype.removeEventListener=function(d,w,T,k){nx(this,d,w,T,k)};function ln(d,w){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=w.type||w,typeof w=="string")w=new fe(w,d);else if(w instanceof fe)w.target=w.target||d;else{var M=w;w=new fe(k,d),O(w,M)}if(M=!0,T)for(var $=T.length-1;0<=$;$--){var G=w.g=T[$];M=ud(G,k,!0,w)&&M}if(G=w.g=d,M=ud(G,k,!0,w)&&M,M=ud(G,k,!1,w)&&M,T)for($=0;$<T.length;$++)G=w.g=T[$],M=ud(G,k,!1,w)&&M}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var T=d.g[w],k=0;k<T.length;k++)de(T[k]);delete d.g[w],d.h--}}this.F=null},Ht.prototype.K=function(d,w,T,k){return this.i.add(String(d),w,!1,T,k)},Ht.prototype.L=function(d,w,T,k){return this.i.add(String(d),w,!0,T,k)};function ud(d,w,T,k){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var M=!0,$=0;$<w.length;++$){var G=w[$];if(G&&!G.da&&G.capture==T){var Ne=G.listener,Lt=G.ha||G.src;G.fa&&K(d.i,G),M=Ne.call(Lt,k)!==!1&&M}}return M&&!k.defaultPrevented}function ox(d,w,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(d,w||0)}function sx(d){d.g=ox(()=>{d.g=null,d.i&&(d.i=!1,sx(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class y4 extends q{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:sx(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dl(d){q.call(this),this.h=d,this.g={}}g(Dl,q);var ax=[];function lx(d){C(d.g,function(w,T){this.g.hasOwnProperty(T)&&ng(w)},d),d.g={}}Dl.prototype.N=function(){Dl.aa.N.call(this),lx(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var og=a.JSON.stringify,v4=a.JSON.parse,w4=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function sg(){}sg.prototype.h=null;function ux(d){return d.h||(d.h=d.i())}function cx(){}var jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ag(){fe.call(this,"d")}g(ag,fe);function lg(){fe.call(this,"c")}g(lg,fe);var Qo={},dx=null;function cd(){return dx=dx||new Ht}Qo.La="serverreachability";function fx(d){fe.call(this,Qo.La,d)}g(fx,fe);function Ml(d){const w=cd();ln(w,new fx(w))}Qo.STAT_EVENT="statevent";function hx(d,w){fe.call(this,Qo.STAT_EVENT,d),this.stat=w}g(hx,fe);function un(d){const w=cd();ln(w,new hx(w,d))}Qo.Ma="timingevent";function px(d,w){fe.call(this,Qo.Ma,d),this.size=w}g(px,fe);function Ll(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},w)}function Vl(){this.g=!0}Vl.prototype.xa=function(){this.g=!1};function _4(d,w,T,k,M,$){d.info(function(){if(d.g)if($)for(var G="",Ne=$.split("&"),Lt=0;Lt<Ne.length;Lt++){var xe=Ne[Lt].split("=");if(1<xe.length){var qt=xe[0];xe=xe[1];var Gt=qt.split("_");G=2<=Gt.length&&Gt[1]=="type"?G+(qt+"="+xe+"&"):G+(qt+"=redacted&")}}else G=null;else G=$;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+w+`
`+T+`
`+G})}function b4(d,w,T,k,M,$,G){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+w+`
`+T+`
`+$+" "+G})}function Zs(d,w,T,k){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+E4(d,T)+(k?" "+k:"")})}function x4(d,w){d.info(function(){return"TIMEOUT: "+w})}Vl.prototype.info=function(){};function E4(d,w){if(!d.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return og(T)}catch{return w}}var dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ug;function fd(){}g(fd,sg),fd.prototype.g=function(){return new XMLHttpRequest},fd.prototype.i=function(){return{}},ug=new fd;function Bi(d,w,T,k){this.j=d,this.i=w,this.l=T,this.R=k||1,this.U=new Dl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gx}function gx(){this.i=null,this.g="",this.h=!1}var yx={},cg={};function dg(d,w,T){d.L=1,d.v=gd(ri(w)),d.m=T,d.P=!0,vx(d,null)}function vx(d,w){d.F=Date.now(),hd(d),d.A=ri(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Nx(T.i,"t",k),d.C=0,T=d.j.J,d.h=new gx,d.g=Qx(d.j,T?w:null,!d.m),0<d.O&&(d.M=new y4(h(d.Y,d,d.g),d.O)),w=d.U,T=d.g,k=d.ca;var M="readystatechange";Array.isArray(M)||(M&&(ax[0]=M.toString()),M=ax);for(var $=0;$<M.length;$++){var G=Kt(T,M[$],k||w.handleEvent,!1,w.h||w);if(!G)break;w.g[G.key]=G}w=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Ml(),_4(d.i,d.u,d.A,d.l,d.R,d.m)}Bi.prototype.ca=function(d){d=d.target;const w=this.M;w&&ii(d)==3?w.j():this.Y(d)},Bi.prototype.Y=function(d){try{if(d==this.g)e:{const Gt=ii(this.g);var w=this.g.Ba();const na=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||$x(this.g)))){this.J||Gt!=4||w==7||(w==8||0>=na?Ml(3):Ml(2)),fg(this);var T=this.g.Z();this.X=T;t:if(wx(this)){var k=$x(this.g);d="";var M=k.length,$=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),$l(this);var G="";break t}this.h.i=new a.TextDecoder}for(w=0;w<M;w++)this.h.h=!0,d+=this.h.i.decode(k[w],{stream:!($&&w==M-1)});k.length=0,this.h.g+=d,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=T==200,b4(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,Lt=this.g;if((Ne=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ne)){var xe=Ne;break t}}xe=null}if(T=xe)Zs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hg(this,T);else{this.o=!1,this.s=3,un(12),Xo(this),$l(this);break e}}if(this.P){T=!0;let yr;for(;!this.J&&this.C<G.length;)if(yr=T4(this,G),yr==cg){Gt==4&&(this.s=4,un(14),T=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==yx){this.s=4,un(15),Zs(this.i,this.l,G,"[Invalid Chunk]"),T=!1;break}else Zs(this.i,this.l,yr,null),hg(this,yr);if(wx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||G.length!=0||this.h.h||(this.s=1,un(16),T=!1),this.o=this.o&&T,!T)Zs(this.i,this.l,G,"[Invalid Chunked Response]"),Xo(this),$l(this);else if(0<G.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),wg(qt),qt.M=!0,un(11))}}else Zs(this.i,this.l,G,null),hg(this,G);Gt==4&&Xo(this),this.o&&!this.J&&(Gt==4?Hx(this.j,this):(this.o=!1,hd(this)))}else F4(this.g),T==400&&0<G.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Xo(this),$l(this)}}}catch{}finally{}};function wx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function T4(d,w){var T=d.C,k=w.indexOf(`
`,T);return k==-1?cg:(T=Number(w.substring(T,k)),isNaN(T)?yx:(k+=1,k+T>w.length?cg:(w=w.slice(k,k+T),d.C=k+T,w)))}Bi.prototype.cancel=function(){this.J=!0,Xo(this)};function hd(d){d.S=Date.now()+d.I,_x(d,d.I)}function _x(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ll(h(d.ba,d),w)}function fg(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Bi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(x4(this.i,this.A),this.L!=2&&(Ml(),un(17)),Xo(this),this.s=2,$l(this)):_x(this,this.S-d)};function $l(d){d.j.G==0||d.J||Hx(d.j,d)}function Xo(d){fg(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,lx(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function hg(d,w){try{var T=d.j;if(T.G!=0&&(T.g==d||pg(T.h,d))){if(!d.K&&pg(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)xd(T),_d(T);else break e;vg(T),un(18)}}else T.za=M[1],0<T.za-T.T&&37500>M[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ll(h(T.Za,T),6e3));if(1>=Ex(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Zo(T,11)}else if((d.K||T.g==d)&&xd(T),!b(w))for(M=T.Da.g.parse(w),w=0;w<M.length;w++){let xe=M[w];if(T.T=xe[0],xe=xe[1],T.G==2)if(xe[0]=="c"){T.K=xe[1],T.ia=xe[2];const qt=xe[3];qt!=null&&(T.la=qt,T.j.info("VER="+T.la));const Gt=xe[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const na=xe[5];na!=null&&typeof na=="number"&&0<na&&(k=1.5*na,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const yr=d.g;if(yr){const Td=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Td){var $=k.h;$.g||Td.indexOf("spdy")==-1&&Td.indexOf("quic")==-1&&Td.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(mg($,$.h),$.h=null))}if(k.D){const _g=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;_g&&(k.ya=_g,$e(k.I,k.D,_g))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var G=d;if(k.qa=Yx(k,k.J?k.ia:null,k.W),G.K){Tx(k.h,G);var Ne=G,Lt=k.L;Lt&&(Ne.I=Lt),Ne.B&&(fg(Ne),hd(Ne)),k.g=G}else Wx(k);0<T.i.length&&bd(T)}else xe[0]!="stop"&&xe[0]!="close"||Zo(T,7);else T.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Zo(T,7):yg(T):xe[0]!="noop"&&T.l&&T.l.ta(xe),T.v=0)}}Ml(4)}catch{}}var A4=class{constructor(d,w){this.g=d,this.map=w}};function bx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ex(d){return d.h?1:d.g?d.g.size:0}function pg(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function mg(d,w){d.g?d.g.add(w):d.h=w}function Tx(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}bx.prototype.cancel=function(){if(this.i=Ax(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ax(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.D);return w}return v(d.i)}function S4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],T=d.length,k=0;k<T;k++)w.push(d[k]);return w}w=[],T=0;for(k in d)w[T++]=d[k];return w}function P4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var T=0;T<d;T++)w.push(T);return w}w=[],T=0;for(const k in d)w[T++]=k;return w}}}function Sx(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var T=P4(d),k=S4(d),M=k.length,$=0;$<M;$++)w.call(void 0,k[$],T&&T[$],d)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I4(d,w){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),M=null;if(0<=k){var $=d[T].substring(0,k);M=d[T].substring(k+1)}else $=d[T];w($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Jo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Jo){this.h=d.h,pd(this,d.j),this.o=d.o,this.g=d.g,md(this,d.s),this.l=d.l;var w=d.i,T=new Bl;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Ix(this,T),this.m=d.m}else d&&(w=String(d).match(Px))?(this.h=!1,pd(this,w[1]||"",!0),this.o=Ul(w[2]||""),this.g=Ul(w[3]||"",!0),md(this,w[4]),this.l=Ul(w[5]||"",!0),Ix(this,w[6]||"",!0),this.m=Ul(w[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}Jo.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Fl(w,Cx,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Fl(w,Cx,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Fl(T,T.charAt(0)=="/"?O4:k4,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Fl(T,R4)),d.join("")};function ri(d){return new Jo(d)}function pd(d,w,T){d.j=T?Ul(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function md(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Ix(d,w,T){w instanceof Bl?(d.i=w,D4(d.i,d.h)):(T||(w=Fl(w,N4)),d.i=new Bl(w,d.h))}function $e(d,w,T){d.i.set(w,T)}function gd(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ul(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Fl(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,C4),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function C4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cx=/[#\/\?@]/g,k4=/[#\?:]/g,O4=/[#\?]/g,N4=/[#\?@]/g,R4=/#/g;function Bl(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function zi(d){d.g||(d.g=new Map,d.h=0,d.i&&I4(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Bl.prototype,t.add=function(d,w){zi(this),this.i=null,d=ea(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function kx(d,w){zi(d),w=ea(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Ox(d,w){return zi(d),w=ea(d,w),d.g.has(w)}t.forEach=function(d,w){zi(this),this.g.forEach(function(T,k){T.forEach(function(M){d.call(w,M,k,this)},this)},this)},t.na=function(){zi(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let k=0;k<w.length;k++){const M=d[k];for(let $=0;$<M.length;$++)T.push(w[k])}return T},t.V=function(d){zi(this);let w=[];if(typeof d=="string")Ox(this,d)&&(w=w.concat(this.g.get(ea(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)w=w.concat(d[T])}return w},t.set=function(d,w){return zi(this),this.i=null,d=ea(this,d),Ox(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Nx(d,w,T){kx(d,w),0<T.length&&(d.i=null,d.g.set(ea(d,w),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var k=w[T];const $=encodeURIComponent(String(k)),G=this.V(k);for(k=0;k<G.length;k++){var M=$;G[k]!==""&&(M+="="+encodeURIComponent(String(G[k]))),d.push(M)}}return this.i=d.join("&")};function ea(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function D4(d,w){w&&!d.j&&(zi(d),d.i=null,d.g.forEach(function(T,k){var M=k.toLowerCase();k!=M&&(kx(this,k),Nx(this,M,T))},d)),d.j=w}function j4(d,w){const T=new Vl;if(a.Image){const k=new Image;k.onload=p(Wi,T,"TestLoadImage: loaded",!0,w,k),k.onerror=p(Wi,T,"TestLoadImage: error",!1,w,k),k.onabort=p(Wi,T,"TestLoadImage: abort",!1,w,k),k.ontimeout=p(Wi,T,"TestLoadImage: timeout",!1,w,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else w(!1)}function M4(d,w){const T=new Vl,k=new AbortController,M=setTimeout(()=>{k.abort(),Wi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:k.signal}).then($=>{clearTimeout(M),$.ok?Wi(T,"TestPingServer: ok",!0,w):Wi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(M),Wi(T,"TestPingServer: error",!1,w)})}function Wi(d,w,T,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(T)}catch{}}function L4(){this.g=new w4}function V4(d,w,T){const k=T||"";try{Sx(d,function(M,$){let G=M;u(M)&&(G=og(M)),w.push(k+$+"="+encodeURIComponent(G))})}catch(M){throw w.push(k+"type="+encodeURIComponent("_badmap")),M}}function yd(d){this.l=d.Ub||null,this.j=d.eb||!1}g(yd,sg),yd.prototype.g=function(){return new vd(this.l,this.j)},yd.prototype.i=function(d){return function(){return d}}({});function vd(d,w){Ht.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(vd,Ht),t=vd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Wl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?zl(this):Wl(this),this.readyState==3&&Rx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,zl(this))},t.Qa=function(d){this.g&&(this.response=d,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Wl(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Wl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Dx(d){let w="";return C(d,function(T,k){w+=k,w+=":",w+=T,w+=`\r
`}),w}function gg(d,w,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Dx(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):$e(d,w,T))}function Ze(d){Ht.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ze,Ht);var $4=/^https?$/i,U4=["POST","PUT"];t=Ze.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ug.g(),this.v=this.o?ux(this.o):ux(ug),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch($){jx(this,$);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)T.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())T.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),M=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U4,w,void 0))||k||M||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,G]of T)this.g.setRequestHeader($,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vx(this),this.u=!0,this.g.send(d),this.u=!1}catch($){jx(this,$)}};function jx(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Mx(d),wd(d)}function Mx(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wd(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lx(this):this.bb())},t.bb=function(){Lx(this)};function Lx(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ii(d)!=4||d.Z()!=2)){if(d.u&&ii(d)==4)ox(d.Ea,0,d);else if(ln(d,"readystatechange"),ii(d)==4){d.h=!1;try{const G=d.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var k;if(k=G===0){var M=String(d.D).match(Px)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!$4.test(M?M.toLowerCase():"")}T=k}if(T)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var $=2<ii(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",Mx(d)}}finally{wd(d)}}}}function wd(d,w){if(d.g){Vx(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ln(d,"ready");try{T.onreadystatechange=k}catch{}}}function Vx(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ii(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),v4(w)}};function $x(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function F4(d){const w={};d=(d.g&&2<=ii(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(b(d[k]))continue;var T=N(d[k]);const M=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=w[M]||[];w[M]=$,$.push(T)}A(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kl(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function Ux(d){this.Aa=0,this.i=[],this.j=new Vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kl("baseRetryDelayMs",5e3,d),this.cb=Kl("retryDelaySeedMs",1e4,d),this.Wa=Kl("forwardChannelMaxRetries",2,d),this.wa=Kl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bx(d&&d.concurrentRequestLimit),this.Da=new L4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ux.prototype,t.la=8,t.G=1,t.connect=function(d,w,T,k){un(0),this.W=d,this.H=w||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Yx(this,null,this.W),bd(this)};function yg(d){if(Fx(d),d.G==3){var w=d.U++,T=ri(d.I);if($e(T,"SID",d.K),$e(T,"RID",w),$e(T,"TYPE","terminate"),Hl(d,T),w=new Bi(d,d.j,w),w.L=2,w.v=gd(ri(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=Qx(w.j,null),w.g.ea(w.v)),w.F=Date.now(),hd(w)}Gx(d)}function _d(d){d.g&&(wg(d),d.g.cancel(),d.g=null)}function Fx(d){_d(d),d.u&&(a.clearTimeout(d.u),d.u=null),xd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function bd(d){if(!xx(d.h)&&!d.s){d.s=!0;var w=d.Ga;U||Y(),L||(U(),L=!0),B.add(w,d),d.B=0}}function B4(d,w){return Ex(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ll(h(d.Ga,d,w),qx(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const M=new Bi(this,this.j,d);let $=this.o;if(this.S&&($?($=S($),O($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=zx(this,M,w),T=ri(this.I),$e(T,"RID",d),$e(T,"CVER",22),this.D&&$e(T,"X-HTTP-Session-Id",this.D),Hl(this,T),$&&(this.O?w="headers="+encodeURIComponent(String(Dx($)))+"&"+w:this.m&&gg(T,this.m,$)),mg(this.h,M),this.Ua&&$e(T,"TYPE","init"),this.P?($e(T,"$req",w),$e(T,"SID","null"),M.T=!0,dg(M,T,null)):dg(M,T,w),this.G=2}}else this.G==3&&(d?Bx(this,d):this.i.length==0||xx(this.h)||Bx(this))};function Bx(d,w){var T;w?T=w.l:T=d.U++;const k=ri(d.I);$e(k,"SID",d.K),$e(k,"RID",T),$e(k,"AID",d.T),Hl(d,k),d.m&&d.o&&gg(k,d.m,d.o),T=new Bi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),w&&(d.i=w.D.concat(d.i)),w=zx(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),mg(d.h,T),dg(T,k,w)}function Hl(d,w){d.H&&C(d.H,function(T,k){$e(w,k,T)}),d.l&&Sx({},function(T,k){$e(w,k,T)})}function zx(d,w,T){T=Math.min(d.i.length,T);var k=d.l?h(d.l.Na,d.l,d):null;e:{var M=d.i;let $=-1;for(;;){const G=["count="+T];$==-1?0<T?($=M[0].g,G.push("ofs="+$)):$=0:G.push("ofs="+$);let Ne=!0;for(let Lt=0;Lt<T;Lt++){let xe=M[Lt].g;const qt=M[Lt].map;if(xe-=$,0>xe)$=Math.max(0,M[Lt].g-100),Ne=!1;else try{V4(qt,G,"req"+xe+"_")}catch{k&&k(qt)}}if(Ne){k=G.join("&");break e}}}return d=d.i.splice(0,T),w.D=d,k}function Wx(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;U||Y(),L||(U(),L=!0),B.add(w,d),d.v=0}}function vg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ll(h(d.Fa,d),qx(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Kx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ll(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),_d(this),Kx(this))};function wg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Kx(d){d.g=new Bi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ri(d.qa);$e(w,"RID","rpc"),$e(w,"SID",d.K),$e(w,"AID",d.T),$e(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(w,"TO",d.ja),$e(w,"TYPE","xmlhttp"),Hl(d,w),d.m&&d.o&&gg(w,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=gd(ri(w)),T.m=null,T.P=!0,vx(T,d)}t.Za=function(){this.C!=null&&(this.C=null,_d(this),vg(this),un(19))};function xd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Hx(d,w){var T=null;if(d.g==w){xd(d),wg(d),d.g=null;var k=2}else if(pg(d.h,w))T=w.D,Tx(d.h,w),k=1;else return;if(d.G!=0){if(w.o)if(k==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var M=d.B;k=cd(),ln(k,new px(k,T)),bd(d)}else Wx(d);else if(M=w.s,M==3||M==0&&0<w.X||!(k==1&&B4(d,w)||k==2&&vg(d)))switch(T&&0<T.length&&(w=d.h,w.i=w.i.concat(T)),M){case 1:Zo(d,5);break;case 4:Zo(d,10);break;case 3:Zo(d,6);break;default:Zo(d,2)}}}function qx(d,w){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*w}function Zo(d,w){if(d.j.info("Error code "+w),w==2){var T=h(d.fb,d),k=d.Xa;const M=!k;k=new Jo(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pd(k,"https"),gd(k),M?j4(k.toString(),T):M4(k.toString(),T)}else un(2);d.G=0,d.l&&d.l.sa(w),Gx(d),Fx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Gx(d){if(d.G=0,d.ka=[],d.l){const w=Ax(d.h);(w.length!=0||d.i.length!=0)&&(m(d.ka,w),m(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function Yx(d,w,T){var k=T instanceof Jo?ri(T):new Jo(T);if(k.g!="")w&&(k.g=w+"."+k.g),md(k,k.s);else{var M=a.location;k=M.protocol,w=w?w+"."+M.hostname:M.hostname,M=+M.port;var $=new Jo(null);k&&pd($,k),w&&($.g=w),M&&md($,M),T&&($.l=T),k=$}return T=d.D,w=d.ya,T&&w&&$e(k,T,w),$e(k,"VER",d.la),Hl(d,k),k}function Qx(d,w,T){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Ze(new yd({eb:T})):new Ze(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xx(){}t=Xx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ed(){}Ed.prototype.g=function(d,w){return new Cn(d,w)};function Cn(d,w){Ht.call(this),this.g=new Ux(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!b(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new ta(this)}g(Cn,Ht),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){yg(this.g)},Cn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=og(d),d=T);w.i.push(new A4(w.Ya++,d)),w.G==3&&bd(w)},Cn.prototype.N=function(){this.g.l=null,delete this.j,yg(this.g),delete this.g,Cn.aa.N.call(this)};function Jx(d){ag.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(Jx,ag);function Zx(){lg.call(this),this.status=1}g(Zx,lg);function ta(d){this.g=d}g(ta,Xx),ta.prototype.ua=function(){ln(this.g,"a")},ta.prototype.ta=function(d){ln(this.g,new Jx(d))},ta.prototype.sa=function(d){ln(this.g,new Zx)},ta.prototype.ra=function(){ln(this.g,"b")},Ed.prototype.createWebChannel=Ed.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,mN=function(){return new Ed},pN=function(){return cd()},hN=Qo,Wv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,Of=dd,mx.COMPLETE="complete",fN=mx,cx.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,yu=cx,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,dN=Ze}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const HT="@firebase/firestore",qT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new l_("@firebase/firestore");function sa(){return Os.logLevel}function X(t,...e){if(Os.logLevel<=me.DEBUG){const n=e.map(w_);Os.debug(`Firestore (${wl}): ${t}`,...n)}}function Ii(t,...e){if(Os.logLevel<=me.ERROR){const n=e.map(w_);Os.error(`Firestore (${wl}): ${t}`,...n)}}function Ns(t,...e){if(Os.logLevel<=me.WARN){const n=e.map(w_);Os.warn(`Firestore (${wl}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gN(t,r,n)}function gN(t,e,n){let r=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||gN(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class LB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VB{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new yN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class $B{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $B(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new GT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Kv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return ry(i)===ry(o)?ge(i,o):ry(i)?1:-1}return ge(t.length,e.length)}const zB=55296,WB=57343;function ry(t){const e=t.charCodeAt(0);return e>=zB&&e<=WB}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__name__";class Vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Vr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ge(e.length,n.length)}static compareSegments(e,n){const r=Vr.isNumericId(e),i=Vr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):Kv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Le extends Vr{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const KB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Vr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return KB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YT}static keyField(){return new Ct([YT])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Le.fromString(e))}static fromName(e){return new oe(Le.fromString(e).popFirst(5))}static empty(){return new oe(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _N(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QT(t){if(!oe.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XT(t){if(oe.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vc(t,e){if(!bN(t))throw new Q(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Q(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-62135596800,ZT=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZT);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JT)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:mt("string",_e._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new _e(0,0))}static max(){return new ue(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function HB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new ko(i,oe.empty(),e)}function qB(t){return new ko(t.readTime,t.key,uc)}class ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(ue.min(),oe.empty(),uc)}static max(){return new ko(ue.max(),oe.empty(),uc)}}function GB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==YB)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function XB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=-1;function $p(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function JB(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="";function ZB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eA(e)),e=e9(t.get(n),e);return eA(e)}function e9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case xN:n+="";break;default:n+=o}}return n}function eA(t){return t+xN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nA(this.data.getIterator())}getIteratorFrom(e){return new nA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class nA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new $n([])}unionWith(e){let n=new xt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TN("Invalid base64 string: "+o):o}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const t9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=t9.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="server_timestamp",SN="__type__",PN="__previous_value__",IN="__local_write_time__";function b_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SN])==null?void 0:r.stringValue)===AN}function Up(t){const e=t.mapValue.fields[PN];return b_(e)?Up(e):e}function cc(t){const e=Oo(t.mapValue.fields[IN].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const wh="(default)";class qa{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__type__",kN="__max__",Hd={mapValue:{fields:{__type__:{stringValue:kN}}}},ON="__vector__",_h="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:i9(t)?9007199254740991:r9(t)?10:11:le(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Oo(i.timestampValue),a=Oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return No(i.bytesValue).isEqual(No(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=at(i.doubleValue),a=at(o.doubleValue);return s===a?vh(s)===vh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(tA(s)!==tA(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Qr(s[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Ga(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=at(o.integerValue||o.doubleValue),l=at(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rA(t.timestampValue,e.timestampValue);case 4:return rA(cc(t),cc(e));case 5:return Kv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=No(o),l=No(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ge(a[u],l[u]);if(c!==0)return c}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ge(at(o.latitude),at(s.latitude));return a!==0?a:ge(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,p,g,v;const a=o.fields||{},l=s.fields||{},u=(h=a[_h])==null?void 0:h.arrayValue,c=(p=l[_h])==null?void 0:p.arrayValue,f=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return f!==0?f:iA(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hd.mapValue&&s===Hd.mapValue)return 0;if(o===Hd.mapValue)return 1;if(s===Hd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Kv(l[f],c[f]);if(h!==0)return h;const p=Ga(a[l[f]],u[c[f]]);if(p!==0)return p}return ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function rA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Oo(t),r=Oo(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function iA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ga(n[i],r[i]);if(o)return o}return ge(n.length,r.length)}function Ya(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hv(n.fields[s])}`;return i+"}"}(t.mapValue):le(61005,{value:t})}function Nf(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Up(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Nf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Wo(r.fields,(o,s)=>{i+=o.length+Nf(s)}),i}(t.mapValue);default:throw le(13486,{value:t})}}function oA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function sA(t){return!!t&&"nullValue"in t}function aA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function r9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CN])==null?void 0:r.stringValue)===ON}function Ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return{...t}}function i9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ru(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xn(Ru(this.value))}}function NN(t){const e=[];return Wo(t.fields,(n,r)=>{const i=new Ct([n]);if(Rf(r)){const o=NN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,ue.min(),ue.min(),ue.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ue.min(),ue.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ue.min(),ue.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function lA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Ga(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function o9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class pt extends RN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a9(e,n,r):n==="array-contains"?new c9(e,r):n==="in"?new d9(e,r):n==="not-in"?new f9(e,r):n==="array-contains-any"?new h9(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l9(e,r):new u9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends RN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nr(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function jN(t){return s9(t)&&DN(t)}function s9(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Gv(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(jN(t))return t.filters.map(e=>Gv(e)).join(",");{const e=t.filters.map(n=>Gv(n)).join(",");return`${t.op}(${e})`}}function MN(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MN(s,i.filters[a]),!0):!1}(t,e):void le(19439)}function LN(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"}(t):"Filter"}class a9 extends pt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class l9 extends pt{constructor(e,n){super(e,"in",n),this.keys=VN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u9 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=VN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class c9 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&dc(n.arrayValue,this.value)}}class d9 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class f9 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class h9 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function cA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new p9(t,e,n,r,i,o,s)}function E_(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Te=n}return e.Te}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uA(t.startAt,e.startAt)&&uA(t.endAt,e.endAt)}function Yv(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m9(t,e,n,r,i,o,s,a){return new xl(t,e,n,r,i,o,s,a)}function A_(t){return new xl(t)}function dA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $N(t){return t.collectionGroup!==null}function Du(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xt(Ct.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new fc(o,r))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new fc(Ct.keyField(),r))}return e.Ie}function qr(t){const e=ce(t);return e.Ee||(e.Ee=g9(e,Du(t))),e.Ee}function g9(t,e){if(t.limitType==="F")return cA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new fc(i.field,o)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return cA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qv(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fp(t,e){return T_(qr(t),qr(e))&&t.limitType===e.limitType}function UN(t){return`${E_(qr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LN(i)).join(", ")}]`),$p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Du(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=lA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Du(r),i)||r.endAt&&!function(s,a,l){const u=lA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Du(r),i))}(t,e)}function y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FN(t){return(e,n)=>{let r=!1;for(const i of Du(t)){const o=v9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function v9(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ga(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return EN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Xe(oe.comparator);function Ci(){return w9}const BN=new Xe(oe.comparator);function vu(...t){let e=BN;for(const n of t)e=e.insert(n.key,n);return e}function zN(t){let e=BN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function us(){return ju()}function WN(){return ju()}function ju(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const _9=new Xe(oe.comparator),b9=new xt(oe.comparator);function ve(...t){let e=b9;for(const n of t)e=e.add(n);return e}const x9=new xt(ge);function E9(){return x9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function KN(t){return{integerValue:""+t}}function T9(t,e){return JB(e)?KN(e):S_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this._=void 0}}function A9(t,e,n){return t instanceof xh?function(i,o){const s={fields:{[SN]:{stringValue:AN},[IN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=Up(o)),o&&(s.fields[PN]=o),{mapValue:s}}(n,e):t instanceof hc?qN(t,e):t instanceof pc?GN(t,e):function(i,o){const s=HN(i,o),a=fA(s)+fA(i.Ae);return qv(s)&&qv(i.Ae)?KN(a):S_(i.serializer,a)}(t,e)}function S9(t,e,n){return t instanceof hc?qN(t,e):t instanceof pc?GN(t,e):n}function HN(t,e){return t instanceof Eh?function(r){return qv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xh extends zp{}class hc extends zp{constructor(e){super(),this.elements=e}}function qN(t,e){const n=YN(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends zp{constructor(e){super(),this.elements=e}}function GN(t,e){let n=YN(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class Eh extends zp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fA(t){return at(t.integerValue||t.doubleValue)}function YN(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hc&&i instanceof hc||r instanceof pc&&i instanceof pc?Ha(r.elements,i.elements,Qr):r instanceof Eh&&i instanceof Eh?Qr(r.Ae,i.Ae):r instanceof xh&&i instanceof xh}(t.transform,e.transform)}class I9{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wp{}function QN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P_(t.key,ar.none()):new $c(t.key,t.data,ar.none());{const n=t.data,r=xn.empty();let i=new xt(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ko(t.key,r,new $n(i.toArray()),ar.none())}}function C9(t,e,n){t instanceof $c?function(i,o,s){const a=i.value.clone(),l=pA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ko?function(i,o,s){if(!Df(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=pA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(XN(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mu(t,e,n,r){return t instanceof $c?function(o,s,a,l){if(!Df(o.precondition,s))return a;const u=o.value.clone(),c=mA(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ko?function(o,s,a,l){if(!Df(o.precondition,s))return a;const u=mA(o.fieldTransforms,l,s),c=s.data;return c.setAll(XN(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Df(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function k9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=HN(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function hA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(o,s)=>P9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends Wp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ko extends Wp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pA(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,S9(s,a,n[i]))}return r}function mA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,A9(o,s,e))}return r}class P_ extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O9 extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&C9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=QN(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>hA(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>hA(n,r))}}class I_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return _9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new I_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,we;function j9(t){switch(t){case F.OK:return le(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function JN(t){if(t===void 0)return Ii("GRPC error has no .code"),F.UNKNOWN;switch(t){case ft.OK:return F.OK;case ft.CANCELLED:return F.CANCELLED;case ft.UNKNOWN:return F.UNKNOWN;case ft.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ft.INTERNAL:return F.INTERNAL;case ft.UNAVAILABLE:return F.UNAVAILABLE;case ft.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ft.NOT_FOUND:return F.NOT_FOUND;case ft.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ft.ABORTED:return F.ABORTED;case ft.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ft.DATA_LOSS:return F.DATA_LOSS;default:return le(39323,{code:t})}}(we=ft||(ft={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new xo([4294967295,4294967295],0);function gA(t){const e=M9().encode(t),n=new cN;return n.update(e),new Uint8Array(n.digest())}function yA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,o],0)]}class C_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(L9)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gA(e),[r,i]=yA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new C_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=gA(e),[r,i]=yA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kp(ue.min(),i,new Xe(ge),Ci(),ve())}}class Uc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ZN{constructor(e,n){this.targetId=e,this.Ce=n}}class e2{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vA{constructor(){this.ve=0,this.Fe=wA(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new Uc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=wA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=qd(),this.He=qd(),this.Ye=new Xe(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Yv(o))if(r===0){const s=new oe(o.path);this.et(n,s,tn.newNoDocument(s,ue.min()))}else Ae(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=No(r).toUint8Array()}catch(l){if(l instanceof TN)return Ns("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C_(s,i,o)}catch(l){return Ns(l instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Yv(a.target)){const l=new oe(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,tn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=ve();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Kp(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=qd(),this.He=qd(),this.Ye=new Xe(ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qd(){return new Xe(oe.comparator)}function wA(){return new Xe(oe.comparator)}const $9={asc:"ASCENDING",desc:"DESCENDING"},U9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F9={and:"AND",or:"OR"};class B9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jv(t,e){return t.useProto3Json||$p(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z9(t,e){return Th(t,e.toTimestamp())}function Gr(t){return Ae(!!t,49232),ue.fromTimestamp(function(n){const r=Oo(n);return new _e(r.seconds,r.nanos)}(t))}function k_(t,e){return Zv(t,e).canonicalString()}function Zv(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function n2(t){const e=Le.fromString(t);return Ae(a2(e),10190,{key:e.toString()}),e}function e0(t,e){return k_(t.databaseId,e.path)}function iy(t,e){const n=n2(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(i2(n))}function r2(t,e){return k_(t.databaseId,e)}function W9(t){const e=n2(t);return e.length===4?Le.emptyPath():i2(e)}function t0(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i2(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _A(t,e,n){return{name:e0(t,e),fields:n.value.mapValue.fields}}function K9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ae(c===void 0||typeof c=="string",58123),Rt.fromBase64String(c||"")):(Ae(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Rt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?F.UNKNOWN:JN(u.code);return new Q(c,u.message||"")}(s);n=new e2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iy(t,r.document.name),o=Gr(r.document.updateTime),s=r.document.createTime?Gr(r.document.createTime):ue.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iy(t,r.document),o=r.readTime?Gr(r.readTime):ue.min(),s=tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iy(t,r.document),o=r.removedTargetIds||[];n=new jf([],o,i,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new D9(i,o),a=r.targetId;n=new ZN(a,s)}}return n}function H9(t,e){let n;if(e instanceof $c)n={update:_A(t,e.key,e.value)};else if(e instanceof P_)n={delete:e0(t,e.key)};else if(e instanceof Ko)n={update:_A(t,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof O9))return le(16599,{Vt:e.type});n={verify:e0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof xh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:z9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(t,e.precondition)),n}function q9(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Gr(i.updateTime):Gr(o);return s.isEqual(ue.min())&&(s=Gr(o)),new I9(s,i.transformResults||[])}(n,e))):[]}function G9(t,e){return{documents:[r2(t,e.path)]}}function Y9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r2(t,i);const o=function(u){if(u.length!==0)return s2(Nr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:J9(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Q9(t){let e=W9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=o2(f);return h instanceof Nr&&jN(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new fc(ua(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$p(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new bh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new bh(p,h)}(n.endAt)),m9(e,i,s,o,a,"F",l,u)}function X9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>o2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function J9(t){return $9[t]}function Z9(t){return U9[t]}function ez(t){return F9[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Ct.fromServerFormat(t.fieldPath)}function s2(t){return t instanceof pt?function(n){if(n.op==="=="){if(aA(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(sA(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aA(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(sA(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:Z9(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>s2(i));return r.length===1?r[0]:{compositeFilter:{op:ez(n.op),filters:r}}}(t):le(54877,{filter:t})}function tz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.yt=e}}function rz(t){const e=Q9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.Cn=new oz}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ko.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class oz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l2=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(l2,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="LruGarbageCollector",sz=1048576;function EA([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class az{constructor(e){this.Ir=e,this.buffer=new xt(EA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();EA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(xA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?X(xA,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Vr(3e5)})}}class uz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Vp.ce);const r=new az(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(bA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),sa()<=me.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function cz(t,e){return new uz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mu(r.mutation,i,$n.empty(),_e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=vu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ci();const s=ju(),a=function(){return ju()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ko)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Mu(c.mutation,u,c.mutation.getFieldMask(),_e.now())):s.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new fz(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ju();let i=new Xe((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||$n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=WN();c.forEach(h=>{if(!o.has(h)){const p=QN(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(us());let a=uc,l=o;return s.next(u=>z.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ve())).next(c=>({batchId:a,changes:zN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=vu();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const u=function(f,h){return new xl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,tn.newInvalidDocument(c)))});let a=vu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Mu(c.mutation,u,$n.empty(),_e.now()),Bp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:rz(i.bundledQuery),readTime:Gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new Xe(oe.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=us(),o=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=us(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=us(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new R9(n,r));let o=this.qr.get(n);o===void 0&&(o=ve(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Qr=new xt(St.$r),this.Ur=new xt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new oe(new Le([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new Le([])),r=new St(n,e),i=new St(n,e+1);let o=ve();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(St.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new N9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?__:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(ge);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const s=new St(new oe(o),0);let a=new xt(ge);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.ri=e,this.docs=function(){return new Xe(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ci();const s=n.path,a=new oe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||GB(qB(c),r)<=0||(i.has(c.key)||Bp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wz(this)}getSize(e){return z.resolve(this.size)}}class wz extends dz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.persistence=e,this.si=new Ks(n=>E_(n),T_),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new O_,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vp(0),this.li=!1,this.li=!0,this.hi=new gz,this.referenceDelegate=e(this),this.Pi=new _z(this),this.indexManager=new iz,this.remoteDocumentCache=function(i){return new vz(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new nz(n),this.Ii=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new bz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bz extends QB{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Ri=new O_,this.Vi=null}static mi(e){return new N_(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=oe.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new Ks(r=>ZB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cz(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new R_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r6()?8:XB(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xz;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(sa()<=me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(sa()<=me.DEBUG&&X("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(sa()<=me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):z.resolve())}ys(e,n){if(dA(n))return z.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ve(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,Xv(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return dA(n)||i.isEqual(ue.min())?z.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?z.resolve(null):(sa()<=me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.vs(e,s,n,HB(i,uc)).next(a=>a))})}Ds(e,n){let r=new xt(FN(e));return n.forEach((i,o)=>{Bp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return sa()<=me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",aa(n)),this.ps.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LocalStore",Tz=3e8;class Az{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Xe(ge),this.xs=new Ks(o=>E_(o),T_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Sz(t,e,n,r){return new Az(t,e,n,r)}async function c2(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function Pz(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let p=z.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(v=>{const m=u.docVersions.get(g);Ae(m!==null,48541),v.version.compareTo(m)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d2(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Iz(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Rt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(v,m,y){return v.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Tz?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=Ci(),u=ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Cz(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(ue.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Cz(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ci();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):X(D_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function kz(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=__),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new uo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function n0(t,e,n){const r=ce(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bl(s))throw s;X(D_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function TA(t,e,n){const r=ce(t);let i=ue.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=ce(l),h=f.xs.get(c);return h!==void 0?z.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,s,qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:ve())).next(a=>(Nz(r,y9(e),a),{documents:a,Qs:o})))}function Nz(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class AA{constructor(){this.activeTargetIds=E9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rz{constructor(){this.Mo=new AA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="ConnectivityMonitor";class PA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(SA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(SA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd=null;function r0(){return Gd===null?Gd=function(){return 268435456+Math.round(2147483648*Math.random())}():Gd++,"0x"+Gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=r0(),a=this.zo(e,n.toUriEncodedString());X(oy,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Bo(u);return this.Jo(e,a,l,r,c).then(f=>(X(oy,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ns(oy,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=jz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Vz extends Mz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=r0();return new Promise((a,l)=>{const u=new dN;u.setWithCredentials(!0),u.listenOnce(fN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Of.NO_ERROR:const f=u.getResponseJson();X(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Of.TIMEOUT:X(Xt,`RPC '${e}' ${s} timed out`),l(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const h=u.getStatus();if(X(Xt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new Q(v,g.message))}else l(new Q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(F.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(Xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=r0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mN(),a=pN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");X(Xt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const g=new Lz({Yo:m=>{p?X(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(X(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),X(Xt,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},Zo:()=>f.close()}),v=(m,y,b)=>{m.listen(y,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,yu.EventType.OPEN,()=>{p||(X(Xt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),v(f,yu.EventType.CLOSE,()=>{p||(p=!0,X(Xt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(f))}),v(f,yu.EventType.ERROR,m=>{p||(p=!0,Ns(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),g.a_(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),v(f,yu.EventType.MESSAGE,m=>{var y;if(!p){const b=m.data[0];Ae(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(I){X(Xt,`RPC '${e}' stream ${i} received error:`,I);const R=I.status;let C=function(P){const O=ft[P];if(O!==void 0)return JN(O)}(R),A=I.message;C===void 0&&(C=F.INTERNAL,A="Unknown error status: "+R+" with message "+I.message),p=!0,g.a_(new Q(C,A)),f.close()}else X(Xt,`RPC '${e}' stream ${i} received:`,b),g.u_(b)}}),v(a,hN.STAT_EVENT,m=>{m.stat===Wv.PROXY?X(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Wv.NOPROXY&&X(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){return new B9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="PersistentStream";class h2{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $z extends h2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K9(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Gr(s.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=t0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Yv(l)?{documents:G9(o,l)}:{query:Y9(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=t2(o,s.resumeToken);const u=Jv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Th(o,s.snapshotVersion.toTimestamp());const u=Jv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=X9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=t0(this.serializer),n.removeTarget=e,this.q_(n)}}class Uz extends h2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q9(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=t0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{}class Bz extends Fz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Zv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Zv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class Wz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Hs(this)&&(X(Rs,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Fc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qp(u)}(this))})}),this.Ra=new zz(r,i)}}async function qp(t){if(Hs(t))for(const e of t.da)await e(!0)}async function Fc(t){for(const e of t.da)await e(!1)}function p2(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),V_(n)?L_(n):El(n).O_()&&M_(n,e))}function j_(t,e){const n=ce(t),r=El(n);n.Ia.delete(e),r.O_()&&m2(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hs(n)&&n.Ra.set("Unknown"))}function M_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(t).Y_(e)}function m2(t,e){t.Va.Ue(e),El(t).Z_(e)}function L_(t){t.Va=new V9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),El(t).start(),t.Ra.ua()}function V_(t){return Hs(t)&&!El(t).x_()&&t.Ia.size>0}function Hs(t){return ce(t).Ea.size===0}function g2(t){t.Va=void 0}async function Kz(t){t.Ra.set("Online")}async function Hz(t){t.Ia.forEach((e,n)=>{M_(t,e)})}async function qz(t,e){g2(t),V_(t)?(t.Ra.ha(e),L_(t)):t.Ra.set("Unknown")}async function Gz(t,e,n){if(t.Ra.set("Online"),e instanceof e2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){X(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(t,r)}else if(e instanceof jf?t.Va.Ze(e):e instanceof ZN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await d2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Rt.EMPTY_BYTE_STRING,c.snapshotVersion)),m2(o,l);const f=new uo(c.target,l,u,c.sequenceNumber);M_(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Rs,"Failed to raise snapshot:",r),await Sh(t,r)}}async function Sh(t,e,n){if(!bl(e))throw e;t.Ea.add(1),await Fc(t),t.Ra.set("Offline"),n||(n=()=>d2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Rs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qp(t)})}function y2(t,e){return e().catch(n=>Sh(t,n,e))}async function Gp(t){const e=ce(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:__;for(;Yz(e);)try{const i=await kz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Qz(e,i)}catch(i){await Sh(e,i)}v2(e)&&w2(e)}function Yz(t){return Hs(t)&&t.Ta.length<10}function Qz(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function v2(t){return Hs(t)&&!Do(t).x_()&&t.Ta.length>0}function w2(t){Do(t).start()}async function Xz(t){Do(t).ra()}async function Jz(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function Zz(t,e,n){const r=t.Ta.shift(),i=I_.from(r,e,n);await y2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gp(t)}async function e8(t,e){e&&Do(t).X_&&await async function(r,i){if(function(s){return j9(s)&&s!==F.ABORTED}(i.code)){const o=r.Ta.shift();Do(r).B_(),await y2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gp(r)}}(t,e),v2(t)&&w2(t)}async function CA(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),X(Rs,"RemoteStore received new credentials");const r=Hs(n);n.Ea.add(3),await Fc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qp(n)}async function t8(t,e){const n=ce(t);e?(n.Ea.delete(2),await qp(n)):e||(n.Ea.add(2),await Fc(n),n.Ra.set("Unknown"))}function El(t){return t.ma||(t.ma=function(n,r,i){const o=ce(n);return o.sa(),new $z(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Kz.bind(null,t),t_:Hz.bind(null,t),r_:qz.bind(null,t),H_:Gz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),V_(t)?L_(t):t.Ra.set("Unknown")):(await t.ma.stop(),g2(t))})),t.ma}function Do(t){return t.fa||(t.fa=function(n,r,i){const o=ce(n);return o.sa(),new Uz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xz.bind(null,t),r_:e8.bind(null,t),ta:Jz.bind(null,t),na:Zz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gp(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Rs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new $_(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),bl(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.ga=new Xe(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Xa(e,n,ja.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class r8{constructor(){this.queries=OA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),o=i.queries;i.queries=OA(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function OA(){return new Ks(t=>UN(t),Fp)}async function _2(t,e){const n=ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new n8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=U_(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&F_(n)}async function b2(t,e){const n=ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i8(t,e){const n=ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&F_(n)}function o8(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function F_(t){t.Ca.forEach(e=>{e.next()})}var i0,NA;(NA=i0||(i0={})).Ma="default",NA.Cache="cache";class x2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.key=e}}class T2{constructor(e){this.key=e}}class s8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=FN(e),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kA,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Bp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;h&&p?h.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),m=!0):this.su(h,p)||(r.track({type:2,doc:p}),m=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),m=!0):h&&!p&&(r.track({type:1,doc:h}),m=!0,(l||u)&&(a=!0)),m&&(p?(s=s.add(p),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,g){const v=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:m})}};return v(p)-v(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Xa(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new T2(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new E2(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const B_="SyncEngine";class a8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l8{constructor(e){this.key=e,this.hu=!1}}class u8{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ks(a=>UN(a),Fp),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(oe.comparator),this.Au=new Map,this.Ru=new O_,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c8(t,e,n=!0){const r=k2(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await A2(r,e,n,!0),i}async function d8(t,e){const n=k2(t);await A2(n,e,!0,!1)}async function A2(t,e,n,r){const i=await Oz(t.localStore,qr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await f8(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&p2(t.remoteStore,i),a}async function f8(t,e,n,r,i){t.pu=(f,h,p)=>async function(v,m,y,b){let E=m.view.ru(y);E.Cs&&(E=await TA(v.localStore,m.query,!1).then(({documents:A})=>m.view.ru(A,E)));const I=b&&b.targetChanges.get(m.targetId),R=b&&b.targetMismatches.get(m.targetId)!=null,C=m.view.applyChanges(E,v.isPrimaryClient,I,R);return DA(v,m.targetId,C.au),C.snapshot}(t,f,h,p);const o=await TA(t.localStore,e,!0),s=new s8(e,o.Qs),a=s.ru(o.documents),l=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);DA(t,n,u.au);const c=new a8(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function h8(t,e,n){const r=ce(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Fp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&j_(r.remoteStore,i.targetId),o0(r,i.targetId)}).catch(_l)):(o0(r,i.targetId),await n0(r.localStore,i.targetId,!0))}async function p8(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),j_(n.remoteStore,r.targetId))}async function m8(t,e,n){const r=x8(t);try{const i=await function(s,a){const l=ce(s),u=_e.now(),c=a.reduce((p,g)=>p.add(g.key),ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ci(),v=ve();return l.Ns.getEntries(p,c).next(m=>{g=m,g.forEach((y,b)=>{b.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(m=>{f=m;const y=[];for(const b of a){const E=k9(b,f.get(b.key).overlayedDocument);E!=null&&y.push(new Ko(b.key,E,NN(E.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(m=>{h=m;const y=m.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,m.batchId,y)})}).then(()=>({batchId:h.batchId,changes:zN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new Xe(ge)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await Bc(r,i.changes),await Gp(r.remoteStore)}catch(i){const o=U_(i,"Failed to persist write");n.reject(o)}}async function S2(t,e){const n=ce(t);try{const r=await Iz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ae(s.hu,14607):i.removedDocuments.size>0&&(Ae(s.hu,42227),s.hu=!1))}),await Bc(n,r,e)}catch(r){await _l(r)}}function RA(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&F_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g8(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Xe(oe.comparator);s=s.insert(o,tn.newNoDocument(o,ue.min()));const a=ve().add(o),l=new Kp(ue.min(),new Map,new Xe(ge),s,a);await S2(r,l),r.du=r.du.remove(o),r.Au.delete(e),z_(r)}else await n0(r.localStore,e,!1).then(()=>o0(r,e,n)).catch(_l)}async function y8(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await Pz(n.localStore,e);I2(n,r,null),P2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,i)}catch(i){await _l(i)}}async function v8(t,e,n){const r=ce(t);try{const i=await function(s,a){const l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ae(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);I2(r,e,n),P2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,i)}catch(i){await _l(i)}}function P2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function I2(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function o0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||C2(t,r)})}function C2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(j_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),z_(t))}function DA(t,e,n){for(const r of n)r instanceof E2?(t.Ru.addReference(r.key,e),w8(t,r)):r instanceof T2?(X(B_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||C2(t,r.key)):le(19791,{wu:r})}function w8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(B_,"New document in limbo: "+n),t.Eu.add(r),z_(t))}function z_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new l8(n)),t.du=t.du.insert(n,r),p2(t.remoteStore,new uo(qr(A_(n.path)),r,"TargetPurposeLimboResolution",Vp.ce))}}async function Bc(t,e,n){const r=ce(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=R_.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,h=>z.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>z.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!bl(f))throw f;X(D_,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.Ms.get(h),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(h,v)}}}(r.localStore,o))}async function _8(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){X(B_,"User change. New user:",e.toKey());const r=await c2(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q(F.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.Ls)}}function b8(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function k2(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g8.bind(null,e),e.Pu.H_=i8.bind(null,e.eventManager),e.Pu.yu=o8.bind(null,e.eventManager),e}function x8(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v8.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Sz(this.persistence,new Ez,e.initialUser,this.serializer)}Cu(e){return new u2(N_.mi,this.serializer)}Du(e){return new Rz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class E8 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new u2(r=>Ah.mi(r,n),this.serializer)}}class s0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_8.bind(null,this.syncEngine),await t8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r8}()}createDatastore(e){const n=Hp(e.databaseInfo.databaseId),r=function(o){return new Vz(o)}(e.databaseInfo);return function(o,s,a,l){return new Bz(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Wz(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RA(this.syncEngine,n,0),function(){return PA.v()?new PA:new Dz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new u8(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ce(i);X(Rs,"RemoteStore shutting down."),o.Ea.add(5),await Fc(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}s0.provider={build:()=>new s0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class T8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{X(jo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X(jo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ay(t,e){t.asyncQueue.verifyOperationInProgress(),X(jo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await c2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A8(t);X(jo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CA(e.remoteStore,i)),t._onlineComponents=e}async function A8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(jo,"Using user provided OfflineComponentProvider");try{await ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await ay(t,new Ph)}}else X(jo,"Using default OfflineComponentProvider"),await ay(t,new E8(void 0));return t._offlineComponents}async function N2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(jo,"Using user provided OnlineComponentProvider"),await jA(t,t._uninitializedComponentsProvider._online)):(X(jo,"Using default OnlineComponentProvider"),await jA(t,new s0))),t._onlineComponents}function S8(t){return N2(t).then(e=>e.syncEngine)}async function a0(t){const e=await N2(t),n=e.eventManager;return n.onListen=c8.bind(null,e.syncEngine),n.onUnlisten=h8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p8.bind(null,e.syncEngine),n}function P8(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new O2({next:h=>{c.Nu(),s.enqueueAndForget(()=>b2(o,f)),h.fromCache&&l.source==="server"?u.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new x2(a,c,{includeMetadataChanges:!0,qa:!0});return _2(o,f)}(await a0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firestore.googleapis.com",LA=!0;class VA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D2,this.ssl=LA}else this.host=e.host,this.ssl=e.ssl??LA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sz)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R2(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vN;switch(r.type){case"firstParty":return new UB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MA.get(n);r&&(X("ComponentProvider","Removing Datastore"),MA.delete(n),r.terminate())}(this),Promise.resolve()}}function j2(t,e,n,r={}){var u;t=Bn(t,Yp);const i=Bo(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(s_(`https://${a}`),a_("Firestore",!0)),o.host!==D2&&o.host!==a&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Is(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Zt.MOCK_USER;else{c=AO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(h)}t._authCredentials=new LB(new yN(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vc(n,rt._jsonSchema))return new rt(e,r||null,new oe(Le.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:mt("string",rt._jsonSchemaVersion),referencePath:mt("string")};class vi extends Mi{constructor(e,n,r){super(e,n,A_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new oe(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Ge(t,e,...n){if(t=He(t),wN("collection","path",e),t instanceof Yp){const r=Le.fromString(e,...n);return XT(r),new vi(t,null,r)}{if(!(t instanceof rt||t instanceof vi))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return XT(r),new vi(t.firestore,null,r)}}function pn(t,e,...n){if(t=He(t),arguments.length===1&&(e=Mp.newId()),wN("doc","path",e),t instanceof Yp){const r=Le.fromString(e,...n);return QT(r),new rt(t,null,new oe(r))}{if(!(t instanceof rt||t instanceof vi))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return QT(r),new rt(t.firestore,t instanceof vi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="AsyncQueue";class UA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f2(this,"async_queue_retry"),this._c=()=>{const r=sy();r&&X($A,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;X($A,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",FA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=$_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&le(47125,{Pc:FA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ki extends Yp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UA(e),this._firestoreClient=void 0,await e}}}function M2(t,e){const n=typeof t=="object"?t:c_(),r=typeof t=="string"?t:wh,i=Op(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xO("firestore");o&&j2(i,...o)}return i}function Qp(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I8(t),t._firestoreClient}function I8(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new n9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,R2(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new T8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Rt.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:mt("string",jn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:mt("string",Pr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ir(e.vectorValues);throw new Q(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:mt("string",Ir._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=/^__.*__$/;class k8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class L2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class W_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new W_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V2(this.Ac)&&C8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class O8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hp(e)}Cc(e,n,r,i=!1){return new W_({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(t){const e=t._freezeSettings(),n=Hp(t._databaseId);return new O8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $2(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);K_("Data must be an object, but it was:",s,r);const a=U2(r,s);let l,u;if(o.merge)l=new $n(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=l0(e,f,n);if(!s.contains(h))throw new Q(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B2(c,h)||c.push(h)}l=new $n(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new k8(new xn(a),l,u)}class Zp extends Xp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zp}}function N8(t,e,n,r){const i=t.Cc(1,e,n);K_("Data must be an object, but it was:",i,r);const o=[],s=xn.empty();Wo(r,(l,u)=>{const c=H_(e,l,n);u=He(u);const f=i.yc(c);if(u instanceof Zp)o.push(c);else{const h=Wc(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new $n(o);return new L2(s,a,i.fieldTransforms)}function R8(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[l0(e,r,n)],l=[i];if(o.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(l0(e,o[h])),l.push(o[h+1]);const u=[],c=xn.empty();for(let h=a.length-1;h>=0;--h)if(!B2(u,a[h])){const p=a[h];let g=l[h];g=He(g);const v=s.yc(p);if(g instanceof Zp)u.push(p);else{const m=Wc(g,v);m!=null&&(u.push(p),c.set(p,m))}}const f=new $n(u);return new L2(c,f,s.fieldTransforms)}function D8(t,e,n,r=!1){return Wc(n,t.Cc(r?4:3,e))}function Wc(t,e){if(F2(t=He(t)))return K_("Unsupported field value:",e,t),U2(t,e);if(t instanceof Xp)return function(r,i){if(!V2(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Wc(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_e.fromDate(r);return{timestampValue:Th(i.serializer,o)}}if(r instanceof _e){const o=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(i.serializer,o)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:t2(i.serializer,r._byteString)};if(r instanceof rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:k_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ir)return function(s,a){return{mapValue:{fields:{[CN]:{stringValue:ON},[_h]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return S_(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Lp(r)}`)}(t,e)}function U2(t,e){const n={};return EN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,i)=>{const o=Wc(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function F2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof Pr||t instanceof jn||t instanceof rt||t instanceof Xp||t instanceof Ir)}function K_(t,e,n){if(!F2(n)||!bN(n)){const r=Lp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function l0(t,e,n){if((e=He(e))instanceof zc)return e._internalPath;if(typeof e=="string")return H_(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const j8=new RegExp("[~\\*/\\[\\]]");function H_(t,e,n){if(e.search(j8)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zc(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Q(F.INVALID_ARGUMENT,a+t+l)}function B2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M8 extends z2{data(){return super.data()}}function em(t,e){return typeof e=="string"?H_(t,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class G_ extends q_{}function kt(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof tm).length,a=o.filter(l=>l instanceof Kc).length;if(s>1||s>0&&a>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kc extends G_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kc(e,n,r)}_apply(e){const n=this._parse(e);return K2(e._query,n),new Mi(e.firestore,e.converter,Qv(e._query,n))}_parse(e){const n=Jp(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){WA(f,c);const g=[];for(const v of f)g.push(zA(l,o,v));h={arrayValue:{values:g}}}else h=zA(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||WA(f,c),h=D8(a,s,f,c==="in"||c==="not-in");return pt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Re(t,e,n){const r=e,i=em("where",t);return Kc._create(i,r,n)}class tm extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)K2(s,l),s=Qv(s,l)}(e._query,n),new Mi(e.firestore,e.converter,Qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nm extends G_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(o,s)}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new xl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hi(t,e="asc"){const n=e,r=em("orderBy",t);return nm._create(r,n)}function zA(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$N(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!oe.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oA(t,new oe(r))}if(n instanceof rt)return oA(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lp(n)}.`)}function WA(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K2(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H2{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[_h].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>at(s.doubleValue));return new Ir(n)}convertGeoPoint(e){return new Pr(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Up(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=Oo(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ae(a2(r),9688,{name:e});const i=new qa(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends z2{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=To._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:mt("string",To._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Lu extends To{data(e={}){return super.data(e)}}class Ao{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ea(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lu(this._firestore,this._userDataWriter,r.key,r,new Ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:L8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:mt("string",Ao._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class Y_ extends H2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function Ja(t){t=Bn(t,Mi);const e=Bn(t.firestore,ki),n=Qp(e),r=new Y_(e);return W2(t._query),P8(n,t._query).then(i=>new Ao(e,r,t,i))}function G2(t,e,n){t=Bn(t,rt);const r=Bn(t.firestore,ki),i=q2(t.converter,e);return Hc(r,[$2(Jp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function Za(t,e,n,...r){t=Bn(t,rt);const i=Bn(t.firestore,ki),o=Jp(i);let s;return s=typeof(e=He(e))=="string"||e instanceof zc?R8(o,"updateDoc",t._key,e,n,r):N8(o,"updateDoc",t._key,e),Hc(i,[s.toMutation(t._key,ar.exists(!0))])}function el(t){return Hc(Bn(t.firestore,ki),[new P_(t._key,ar.none())])}function Tl(t,e){const n=Bn(t.firestore,ki),r=pn(t),i=q2(t.converter,e);return Hc(n,[$2(Jp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function Mn(t,...e){var l,u,c;t=He(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||BA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let o,s,a;if(t instanceof rt)s=Bn(t.firestore,ki),a=A_(t._key.path),o={next:f=>{e[r]&&e[r](V8(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Bn(t,Mi);s=Bn(f.firestore,ki),a=f._query;const h=new Y_(s);o={next:p=>{e[r]&&e[r](new Ao(s,h,f,p))},error:e[r+1],complete:e[r+2]},W2(t._query)}return function(h,p,g,v){const m=new O2(v),y=new x2(p,m,g);return h.asyncQueue.enqueueAndForget(async()=>_2(await a0(h),y)),()=>{m.Nu(),h.asyncQueue.enqueueAndForget(async()=>b2(await a0(h),y))}}(Qp(s),a,i,o)}function Hc(t,e){return function(r,i){const o=new Eo;return r.asyncQueue.enqueueAndForget(async()=>m8(await S8(r),i,o)),o.promise}(Qp(t),e)}function V8(t,e,n){const r=n.docs.get(e._key),i=new Y_(t);return new To(t,i,e._key,r,new Ea(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wl=i})(zs),Cs(new Co("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ki(new VB(r.getProvider("auth-internal")),new FB(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wr(HT,qT,e),Wr(HT,qT,"esm2020")})();const $8=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:H2,Bytes:jn,CollectionReference:vi,DocumentReference:rt,DocumentSnapshot:To,FieldPath:zc,FieldValue:Xp,Firestore:ki,FirestoreError:Q,GeoPoint:Pr,Query:Mi,QueryCompositeFilterConstraint:tm,QueryConstraint:G_,QueryDocumentSnapshot:Lu,QueryFieldFilterConstraint:Kc,QueryOrderByConstraint:nm,QuerySnapshot:Ao,SnapshotMetadata:Ea,Timestamp:_e,VectorValue:Ir,_AutoId:Mp,_ByteString:Rt,_DatabaseId:qa,_DocumentKey:oe,_EmptyAuthCredentialsProvider:vN,_FieldPath:Ct,_cast:Bn,_logWarn:Ns,_validateIsNotUsedTogether:_N,addDoc:Tl,collection:Ge,connectFirestoreEmulator:j2,deleteDoc:el,doc:pn,ensureFirestoreConfigured:Qp,executeWrite:Hc,getDocs:Ja,getFirestore:M2,onSnapshot:Mn,orderBy:hi,query:kt,setDoc:G2,updateDoc:Za,where:Re},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firebasestorage.googleapis.com",Q2="storageBucket",U8=2*60*1e3,F8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends ti{constructor(e,n,r=0){super(ly(e),`Firebase Storage: ${n} (${ly(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ly(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function ly(t){return"storage/"+t}function Q_(){const t="An unknown error occurred, please check the error payload for server response.";return new ot(it.UNKNOWN,t)}function B8(t){return new ot(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function z8(t){return new ot(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(it.UNAUTHENTICATED,t)}function K8(){return new ot(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function H8(t){return new ot(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function q8(){return new ot(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G8(){return new ot(it.CANCELED,"User canceled the upload/download.")}function Y8(t){return new ot(it.INVALID_URL,"Invalid URL '"+t+"'.")}function Q8(t){return new ot(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X8(){return new ot(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q2+"' property when initializing the app?")}function J8(){return new ot(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z8(){return new ot(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e7(t){return new ot(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function u0(t){return new ot(it.INVALID_ARGUMENT,t)}function X2(){return new ot(it.APP_DELETED,"The Firebase app was deleted.")}function t7(t){return new ot(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(t,e){return new ot(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nu(t){throw new ot(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Un.makeFromUrl(e,n)}catch{return new Un(e,"")}if(r.path==="")return r;throw Q8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},v=n===Y2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",y=new RegExp(`^https?://${v}/${i}/${m}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<E.length;I++){const R=E[I],C=R.regex.exec(e);if(C){const A=C[R.indices.bucket];let S=C[R.indices.path];S||(S=""),r=new Un(A,S),R.postModify(r);break}}if(r==null)throw Y8(e);return r}}class n7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...m){u||(u=!0,e.apply(null,m))}function f(m){i=setTimeout(()=>{i=null,t(p,l())},m)}function h(){o&&clearTimeout(o)}function p(m,...y){if(u){h();return}if(m){h(),c.call(null,m,...y);return}if(l()||s){h(),c.call(null,m,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function v(m){g||(g=!0,h(),!u&&(i!==null?(m||(a=2),clearTimeout(i),f(0)):m||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function i7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){return t!==void 0}function s7(t){return typeof t=="object"&&!Array.isArray(t)}function X_(t){return typeof t=="string"||t instanceof String}function KA(t){return J_()&&t instanceof Blob}function J_(){return typeof Blob<"u"}function HA(t,e,n,r){if(r<e)throw u0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw u0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function J2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ys;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ys||(ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n,r,i,o,s,a,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ys.NO_ERROR,l=o.getStatus();if(!a||a7(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ys.ABORT;r(!1,new Yd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Yd(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());o7(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Q_();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?X2():G8();s(l)}else{const l=q8();s(l)}};this.canceled_?n(!1,new Yd(!1,null,!0)):this.backoffId_=r7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function u7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function f7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h7(t,e,n,r,i,o,s=!0,a=!1){const l=J2(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return d7(c,e),u7(c,n),c7(c,o),f7(c,r),new l7(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m7(...t){const e=p7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(J_())return new Blob(t);throw new ot(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){if(typeof atob>"u")throw e7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uy{constructor(e,n){this.data=e,this.contentType=n||null}}function v7(t,e){switch(t){case Ur.RAW:return new uy(Z2(e));case Ur.BASE64:case Ur.BASE64URL:return new uy(eR(t,e));case Ur.DATA_URL:return new uy(_7(e),b7(e))}throw Q_()}function Z2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function w7(t){let e;try{e=decodeURIComponent(t)}catch{throw Vu(Ur.DATA_URL,"Malformed data URL.")}return Z2(e)}function eR(t,e){switch(t){case Ur.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Vu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ur.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Vu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=y7(e)}catch(i){throw i.message.includes("polyfill")?i:Vu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vu(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=x7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _7(t){const e=new tR(t);return e.base64?eR(Ur.BASE64,e.rest):w7(e.rest)}function b7(t){return new tR(t).contentType}function x7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){let r=0,i="";KA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(KA(this.data_)){const r=this.data_,i=g7(r,e,n);return i===null?null:new oo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new oo(r,!0)}}static getBlob(...e){if(J_()){const n=e.map(r=>r instanceof oo?r.data_:r);return new oo(m7.apply(null,n))}else{const n=e.map(s=>X_(s)?v7(Ur.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new oo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){let e;try{e=JSON.parse(t)}catch{return null}return s7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||A7}}let Qd=null;function S7(t){return!X_(t)||t.length<2?t:rR(t)}function iR(){if(Qd)return Qd;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(o,s){return S7(s)}const n=new cn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Qd=t,Qd}function P7(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Un(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function I7(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return P7(r,t),r}function oR(t,e,n){const r=nR(e);return r===null?null:I7(t,r,n)}function C7(t,e,n,r){const i=nR(e);if(i===null||!X_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=rm(h,n,r),g=J2({alt:"media",token:u});return p+g})[0]}function k7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Z_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){if(!t)throw Q_()}function O7(t,e){function n(r,i){const o=oR(t,i,e);return sR(o!==null),o}return n}function N7(t,e){function n(r,i){const o=oR(t,i,e);return sR(o!==null),C7(o,i,t.host,t._protocol)}return n}function aR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=K8():i=W8():n.getStatus()===402?i=z8(t.bucket):n.getStatus()===403?i=H8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function lR(t){const e=aR(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=B8(t.path)),o.serverResponse=i.serverResponse,o}return n}function R7(t,e,n){const r=e.fullServerUrl(),i=rm(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Z_(i,o,N7(t,n),s);return a.errorHandler=lR(e),a}function D7(t,e){const n=e.fullServerUrl(),r=rm(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new Z_(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=lR(e),a}function j7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function M7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=j7(null,e)),r}function L7(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let I=0;I<2;I++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=M7(e,r,i),c=k7(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=oo.getBlob(f,r,h);if(p===null)throw J8();const g={name:u.fullPath},v=rm(o,t.host,t._protocol),m="POST",y=t.maxUploadRetryTime,b=new Z_(v,m,O7(t,n),y);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=aR(e),b}class V7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw nu("cannot .send() more than once");if(Bo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $7 extends V7{initXhr(){this.xhr_.responseType="text"}}function e1(){return new $7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this._service=e,n instanceof Un?this._location=n:this._location=Un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ds(e,n)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rR(this._location.path)}get storage(){return this._service}get parent(){const e=E7(this._location.path);if(e===null)return null;const n=new Un(this._location.bucket,e);return new Ds(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t7(e)}}function U7(t,e,n){t._throwIfRoot("uploadBytes");const r=L7(t.storage,t._location,iR(),new oo(e,!0),n);return t.storage.makeRequestWithTokens(r,e1).then(i=>({metadata:i,ref:t}))}function F7(t){t._throwIfRoot("getDownloadURL");const e=R7(t.storage,t._location,iR());return t.storage.makeRequestWithTokens(e,e1).then(n=>{if(n===null)throw Z8();return n})}function B7(t){t._throwIfRoot("deleteObject");const e=D7(t.storage,t._location);return t.storage.makeRequestWithTokens(e,e1)}function z7(t,e){const n=T7(t._location.path,e),r=new Un(t._location.bucket,n);return new Ds(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t){return/^[A-Za-z]+:\/\//.test(t)}function K7(t,e){return new Ds(t,e)}function uR(t,e){if(t instanceof t1){const n=t;if(n._bucket==null)throw X8();const r=new Ds(n,n._bucket);return e!=null?uR(r,e):r}else return e!==void 0?z7(t,e):t}function H7(t,e){if(e&&W7(e)){if(t instanceof t1)return K7(t,e);throw u0("To use ref(service, url), the first argument must be a Storage instance.")}else return uR(t,e)}function qA(t,e){const n=e==null?void 0:e[Q2];return n==null?null:Un.makeFromBucketSpec(n,t)}function q7(t,e,n,r={}){t.host=`${e}:${n}`;const i=Bo(e);i&&(s_(`https://${t.host}/b`),a_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:AO(o,t.app.options.projectId))}class t1{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Y2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U8,this._maxUploadRetryTime=F8,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=qA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=qA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ds(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new n7(X2());{const s=h7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const GA="@firebase/storage",YA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="storage";function cy(t,e,n){return t=He(t),U7(t,e,n)}function dy(t){return t=He(t),F7(t)}function G7(t){return t=He(t),B7(t)}function Mf(t,e){return t=He(t),H7(t,e)}function Y7(t=c_(),e){t=He(t);const r=Op(t,cR).getImmediate({identifier:e}),i=xO("storage");return i&&Q7(r,...i),r}function Q7(t,e,n,r={}){q7(t,e,n,r)}function X7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t1(n,r,i,e,zs)}function J7(){Cs(new Co(cR,X7,"PUBLIC").setMultipleInstances(!0)),Wr(GA,YA,""),Wr(GA,YA,"esm2020")}J7();const Z7={apiKey:"AIzaSyBbpNAWs4ZdTkCYUDxs5-0H1ekLQ8jk4fc",authDomain:"teste-5e945.firebaseapp.com",projectId:"teste-5e945",storageBucket:"teste-5e945.appspot.com",messagingSenderId:"206244410562",appId:"1:206244410562:web:8a2dac7a67615f9764b75b"},n1=IO(Z7),Lf=RB(n1),ye=M2(n1),$u=Y7(n1),eW=Object.freeze(Object.defineProperty({__proto__:null,auth:Lf,db:ye,storage:$u},Symbol.toStringTag,{value:"Module"})),r1=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0);return x.useEffect(()=>b5(Lf,a=>{e(a),r(!1)}),[]),{user:t,loading:n,login:async(s,a)=>{try{return await v5(Lf,s,a),{success:!0}}catch(l){return{success:!1,error:l.message}}},logout:async()=>{try{return await x5(Lf),{success:!0}}catch(s){return{success:!1,error:s.message}}}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>x.createElement("svg",{ref:c,...tW,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${nW(t)}`,a].join(" "),...u},[...e.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Se("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wW=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,o]=x.useState(!1),[s,a]=x.useState(""),[l,u]=x.useState(!1),{login:c}=r1(),f=async h=>{h.preventDefault(),a(""),u(!0),(await c(t,n)).success||a("Credenciais invlidas. Tente novamente."),u(!1)};return _.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:_.jsxs("div",{className:"p-8 rounded-xl shadow-2xl w-full max-w-md border border-gray-800",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(ZA,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),_.jsx("h2",{className:"text-3xl font-bold text-white",children:"Admin Login"}),_.jsx("p",{className:"text-gray-400 mt-2",children:"Entre com suas credenciais"})]}),_.jsxs("form",{onSubmit:f,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),_.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"admin@example.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:i?"text":"password",id:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent pr-12",placeholder:"",required:!0}),_.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:i?_.jsx(sW,{size:20}):_.jsx(fR,{size:20})})]})]}),s&&_.jsx("div",{className:"text-red-400 text-sm text-center",children:s}),_.jsx("button",{type:"submit",disabled:l,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-800 text-white font-medium py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center",children:l?_.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):_.jsxs(_.Fragment,{children:[_.jsx(ZA,{className:"mr-2",size:20}),"Entrar"]})})]})]})})},_W="/assets/icon-Bj-NXFf8.svg",bW=({children:t})=>{const{logout:e}=r1(),n=async()=>{await e()};return _.jsxs("div",{className:"min-h-screen bg-black",children:[_.jsx("header",{className:"shadow-lg border-b border-gray-800",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center py-4",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("img",{src:_W,alt:"Logo",className:"h-8 max-w-32 object-contain"}),_.jsx("h1",{className:"text-2xl font-bold text-white",children:"Video Manager"})]}),_.jsx("nav",{className:"flex items-center space-x-4",children:_.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition duration-200",children:[_.jsx(cW,{className:"mr-2",size:18}),"Sair"]})})]})})}),_.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})},hy=t=>t instanceof Date&&!isNaN(t.getTime()),xW=t=>{if(!t)return null;if(typeof(t==null?void 0:t.toDate)=="function"){const n=t.toDate();return hy(n)?n:null}if(t instanceof Date)return hy(t)?t:null;const e=new Date(t);return hy(e)?e:null},EW=t=>{const e=a=>String(a).padStart(2,"0"),n=t.getFullYear(),r=e(t.getMonth()+1),i=e(t.getDate()),o=e(t.getHours()),s=e(t.getMinutes());return`${n}-${r}-${i}T${o}:${s}`},TW=t=>/^(https?:\/\/)?(www\.)?(youtube\.com\/(watch\?v=|shorts\/)|youtu\.be\/)([\w-]{6,})/i.test(t),AW=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"),SW=async t=>{if(t)try{const e=Mf($u,t);await G7(e)}catch(e){console.warn("No foi possvel deletar do storage a partir da URL:",e)}},PW=({video:t,onClose:e,allVideos:n})=>{const[r,i]=x.useState({title:"",displayTitle:"",youtubeUrl:"",slug:"",description:"",isActive:!0,redirectUrl:"",logoUrl:"",previousVideoId:"",nextVideoId:"",bannerDesktopUrl:"",bannerMobileUrl:"",bannerLink:"",bannerActive:!1,authorName:"",authorPhotoUrl:"",inactiveMode:"unavailable",premiereDate:"",premiereThumbnailUrl:""}),[o,s]=x.useState(!1),[a,l]=x.useState(!1);x.useState(!1),x.useState(!1);const[u,c]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState("");x.useEffect(()=>{if(!t)return;const C=xW(t.premiereDate);i({title:t.title,displayTitle:t.displayTitle,youtubeUrl:t.youtubeUrl,slug:t.slug,description:t.description||"",isActive:!!t.isActive,redirectUrl:t.redirectUrl||"",logoUrl:t.logoUrl||"",previousVideoId:t.previousVideoId||"",nextVideoId:t.nextVideoId||"",bannerDesktopUrl:t.bannerDesktopUrl||"",bannerMobileUrl:t.bannerMobileUrl||"",bannerLink:t.bannerLink||"",bannerActive:!!t.bannerActive,authorName:t.authorName||"",authorPhotoUrl:t.authorPhotoUrl||"",inactiveMode:t.inactiveMode||"unavailable",premiereDate:C?EW(C):"",premiereThumbnailUrl:t.premiereThumbnailUrl||""})},[t]);const v=C=>n.some(A=>A.slug===C&&A.id!==(t==null?void 0:t.id)),m=async C=>{var S;const A=(S=C.target.files)==null?void 0:S[0];if(A){if(!A.type.startsWith("image/")){g("Por favor, selecione apenas arquivos de imagem.");return}if(A.size>2*1024*1024){g("A imagem deve ter no mximo 2MB.");return}l(!0),g("");try{const P=Mf($u,`video-logos/logo-${Date.now()}-${A.name}`),O=await cy(P,A),N=await dy(O.ref);i(j=>({...j,logoUrl:N}))}catch(P){console.error("Erro ao fazer upload:",P),g("Erro ao fazer upload da imagem. Tente novamente.")}finally{l(!1)}}},y=async()=>{if(!(!r.logoUrl||!confirm("Tem certeza que deseja remover a logo?")))try{await SW(r.logoUrl),i(C=>({...C,logoUrl:""}))}catch(C){console.error("Erro ao remover logo:",C),g("Erro ao remover a logo. Tente novamente.")}},b=async C=>{var S;const A=(S=C.target.files)==null?void 0:S[0];if(A){if(!A.type.startsWith("image/")){g("Por favor, selecione apenas arquivos de imagem.");return}c(!0),g("");try{const P=Mf($u,`author-photos/photo-${Date.now()}-${A.name}`),O=await cy(P,A),N=await dy(O.ref);i(j=>({...j,authorPhotoUrl:N}))}catch(P){console.error("Erro ao fazer upload da foto:",P),g("Erro ao fazer upload da foto. Tente novamente.")}finally{c(!1)}}},E=async C=>{var S;const A=(S=C.target.files)==null?void 0:S[0];if(A){if(!A.type.startsWith("image/")){g("Por favor, selecione apenas arquivos de imagem.");return}h(!0),g("");try{const P=Mf($u,`premiere-thumbnails/thumb-${Date.now()}-${A.name}`),O=await cy(P,A),N=await dy(O.ref);i(j=>({...j,premiereThumbnailUrl:N}))}catch(P){console.error("Erro ao fazer upload da thumbnail:",P),g("Erro ao fazer upload da thumbnail. Tente novamente.")}finally{h(!1)}}},I=async C=>{C.preventDefault(),g(""),s(!0);try{if(!TW(r.youtubeUrl))throw new Error("URL do YouTube invlida");if(!r.slug.trim())throw new Error("Defina um slug vlido");if(v(r.slug))throw new Error("Este slug j est em uso");const A=r.premiereDate?new Date(r.premiereDate):null,S={...r,logoUrl:r.logoUrl||null,previousVideoId:r.previousVideoId||null,nextVideoId:r.nextVideoId||null,premiereDate:A?new Date(A):null,updatedAt:new Date};t!=null&&t.id?await Za(pn(ye,"videos",t.id),S):await Tl(Ge(ye,"videos"),{...S,createdAt:new Date}),e()}catch(A){console.error("Erro ao salvar vdeo:",A),g((A==null?void 0:A.message)||"Erro ao salvar vdeo. Tente novamente.")}finally{s(!1)}},R=C=>{i(A=>({...A,title:C,slug:A.slug||AW(C)}))};return n.filter(C=>C.id!==(t==null?void 0:t.id)),_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:_.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-800",children:[_.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-800",children:[_.jsx("h3",{className:"text-2xl font-bold text-white",children:t?"Editar Vdeo":"Novo Vdeo"}),_.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white p-2 rounded-lg hover:bg-gray-800 transition-colors",children:_.jsx(o1,{size:24})})]}),_.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo (Identificao) *"}),_.jsx("input",{type:"text",value:r.title,onChange:C=>R(C.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ttulo para identificao interna",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo de Exibio *"}),_.jsx("input",{type:"text",value:r.displayTitle,onChange:C=>i(A=>({...A,displayTitle:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ttulo que ser exibido na pgina do vdeo",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"URL do YouTube *"}),_.jsx("input",{type:"url",value:r.youtubeUrl,onChange:C=>i(A=>({...A,youtubeUrl:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Slug *"}),_.jsx("input",{type:"text",value:r.slug,onChange:C=>i(A=>({...A,slug:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 font-mono",required:!0}),_.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Acesso: /",r.slug]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"URL de Redirecionamento (quando inativo)"}),_.jsx("input",{type:"url",value:r.redirectUrl,onChange:C=>i(A=>({...A,redirectUrl:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://exemplo.com (opcional)"}),_.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Se preenchido, usurios sero redirecionados para esta URL quando o vdeo estiver inativo"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Logo do Vdeo"}),_.jsx("div",{className:"mb-4",children:r.logoUrl?_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx("img",{src:r.logoUrl,alt:"Logo do vdeo",className:"h-12 max-w-32 object-contain bg-gray-700 rounded-lg p-2"}),_.jsxs("button",{type:"button",onClick:y,className:"flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition duration-200 text-sm",children:[_.jsx(im,{className:"mr-1",size:14}),"Remover"]})]}):_.jsxs("div",{className:"flex items-center justify-center w-32 h-12 bg-gray-700 rounded-lg",children:[_.jsx(uW,{className:"h-6 w-6 text-gray-500"}),_.jsx("span",{className:"ml-2 text-gray-500 text-sm",children:"Sem logo"})]})}),_.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[a?_.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):_.jsx(fy,{className:"mr-2",size:16}),a?"Enviando...":"Escolher Logo",_.jsx("input",{type:"file",accept:"image/*",onChange:m,disabled:a,className:"hidden"})]}),_.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio do vdeo"}),_.jsx("textarea",{value:r.description,onChange:C=>i(A=>({...A,description:C.target.value})),rows:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Escreva uma breve descrio sobre o vdeo"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Vdeo Anterior"}),_.jsxs("select",{value:r.previousVideoId,onChange:C=>i(A=>({...A,previousVideoId:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{value:"",children:"Nenhum"}),n.filter(C=>C.id!==(t==null?void 0:t.id)).map(C=>_.jsx("option",{value:C.id,children:C.title},C.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Prximo Vdeo"}),_.jsxs("select",{value:r.nextVideoId,onChange:C=>i(A=>({...A,nextVideoId:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{value:"",children:"Nenhum"}),n.filter(C=>C.id!==(t==null?void 0:t.id)).map(C=>_.jsx("option",{value:C.id,children:C.title},C.id))]})]})]}),_.jsxs("div",{className:"border-t border-gray-700 pt-6 space-y-6",children:[_.jsx("h4",{className:"text-lg font-semibold text-white",children:"Autor da Descrio"}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Nome do Autor"}),_.jsx("input",{type:"text",value:r.authorName,onChange:C=>i(A=>({...A,authorName:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ex: Rayanepinto"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Foto do Autor"}),r.authorPhotoUrl&&_.jsx("div",{className:"mb-2",children:_.jsx("img",{src:r.authorPhotoUrl,alt:"Foto do Autor",className:"w-12 h-12 rounded-full object-cover"})}),_.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[u?_.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):_.jsx(fy,{className:"mr-2",size:16}),u?"Enviando...":"Escolher Foto",_.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:u,className:"hidden"})]})]})]}),_.jsxs("div",{className:"border-t border-gray-700 pt-6 space-y-6",children:[_.jsx("h4",{className:"text-lg font-semibold text-white",children:"Status do Vdeo"}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:C=>i(A=>({...A,isActive:C.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-red-500"}),_.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Vdeo ativo (visvel para usurios)"})]}),!r.isActive&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Modo quando inativo"}),_.jsxs("select",{value:r.inactiveMode,onChange:C=>i(A=>({...A,inactiveMode:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{value:"unavailable",children:"Vdeo no disponvel"}),_.jsx("option",{value:"premiere",children:"Aguardando estreia"})]})]}),r.inactiveMode==="premiere"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Data de Estreia"}),_.jsx("input",{type:"datetime-local",value:r.premiereDate,onChange:C=>i(A=>({...A,premiereDate:C.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Esta data ser exibida abaixo do vdeo"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Thumbnail da Estreia (Capa)"}),r.premiereThumbnailUrl&&_.jsx("div",{className:"mb-2",children:_.jsx("img",{src:r.premiereThumbnailUrl,alt:"Thumbnail",className:"w-full max-w-md h-auto rounded-lg"})}),_.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition duration-200 w-fit",children:[f?_.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):_.jsx(fy,{className:"mr-2",size:16}),f?"Enviando...":"Escolher Thumbnail",_.jsx("input",{type:"file",accept:"image/*",onChange:E,disabled:f,className:"hidden"})]}),_.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Imagem que ser exibida no lugar do player do YouTube. Recomendado: 16:9 (1280x720px)"})]})]})]})]}),p&&_.jsx("div",{className:"text-red-400 text-sm",children:p}),_.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition duration-200",children:"Cancelar"}),_.jsxs("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-800 text-white rounded-lg flex items-center transition duration-200",children:[o?_.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):_.jsx(i1,{className:"mr-2",size:18}),t?"Atualizar":"Criar"]})]})]})]})})};function mR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mR(t))&&(r&&(r+=" "),r+=e);return r}var om={},gR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gR);var s1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(s1);var a1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(a1);var sm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}t.toPath=e})(sm);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gR,n=s1,r=a1,i=sm;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let f=0;f<l.length;f++){if(c==null||e.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}t.get=o})(om);var IW=om.get;const Mo=Zr(IW);var yR={exports:{}},je={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=Symbol.for("react.transitional.element"),u1=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),cm=Symbol.for("react.consumer"),dm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),CW=Symbol.for("react.view_transition"),kW=Symbol.for("react.client.reference");function fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case l1:switch(t=t.type,t){case am:case um:case lm:case hm:case pm:case CW:return t;default:switch(t=t&&t.$$typeof,t){case dm:case fm:case gm:case mm:return t;case cm:return t;default:return e}}case u1:return e}}}je.ContextConsumer=cm;je.ContextProvider=dm;je.Element=l1;je.ForwardRef=fm;je.Fragment=am;je.Lazy=gm;je.Memo=mm;je.Portal=u1;je.Profiler=um;je.StrictMode=lm;je.Suspense=hm;je.SuspenseList=pm;je.isContextConsumer=function(t){return fr(t)===cm};je.isContextProvider=function(t){return fr(t)===dm};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===l1};je.isForwardRef=function(t){return fr(t)===fm};je.isFragment=function(t){return fr(t)===am};je.isLazy=function(t){return fr(t)===gm};je.isMemo=function(t){return fr(t)===mm};je.isPortal=function(t){return fr(t)===u1};je.isProfiler=function(t){return fr(t)===um};je.isStrictMode=function(t){return fr(t)===lm};je.isSuspense=function(t){return fr(t)===hm};je.isSuspenseList=function(t){return fr(t)===pm};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===am||t===um||t===lm||t===hm||t===pm||typeof t=="object"&&t!==null&&(t.$$typeof===gm||t.$$typeof===mm||t.$$typeof===dm||t.$$typeof===cm||t.$$typeof===fm||t.$$typeof===kW||t.getModuleId!==void 0)};je.typeOf=fr;yR.exports=je;var OW=yR.exports,Ot=t=>t===0?0:t>0?1:-1,Kn=t=>typeof t=="number"&&t!=+t,cs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ne=t=>(typeof t=="number"||t instanceof Number)&&!Kn(t),Xr=t=>ne(t)||typeof t=="string",NW=0,tl=t=>{var e=++NW;return"".concat(t||"").concat(e)},mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&typeof e!="string")return r;var o;if(cs(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Kn(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},vR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Xi=(t,e)=>ne(t)&&ne(e)?n=>t+n*(e-t):()=>e;function RW(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Mo(r,e))===n)}var yt=t=>t===null||typeof t>"u",qc=t=>yt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),DW=["viewBox","children"],jW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eS=["points","pathLength"],py={svg:DW,polygon:eS,polyline:eS},c1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],MW=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{c1.includes(i)&&(r[i]=o=>n[i](n,o))}),r},LW=(t,e,n)=>r=>(t(e,n,r),null),ym=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];c1.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=LW(o,e,n))}),r},tS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nS=null,my=null,wR=t=>{if(t===nS&&Array.isArray(my))return my;var e=[];return x.Children.forEach(t,n=>{yt(n)||(OW.isFragment(n)?e=e.concat(wR(n.props.children)):e.push(n))}),my=e,nS=t,e};function Gc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>tS(i)):r=[tS(e)],wR(t).forEach(i=>{var o=Mo(i,"type.displayName")||Mo(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var VW=(t,e,n,r)=>{var i,o=(i=r&&(py==null?void 0:py[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||jW.includes(e))||n&&c1.includes(e)},Ie=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;VW((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},$W=["children","width","height","viewBox","className","style","title","desc"];function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(null,arguments)}function UW(t,e){if(t==null)return{};var n,r,i=FW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _R=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=t,c=UW(t,$W),f=o||{width:r,height:i,x:0,y:0},h=Oe("recharts-surface",s);return x.createElement("svg",f0({},Ie(c,!0,"svg"),{className:h,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),x.createElement("title",null,l),x.createElement("desc",null,u),n)}),BW=["children","className"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(null,arguments)}function zW(t,e){if(t==null)return{};var n,r,i=WW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gn=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=zW(t,BW),o=Oe("recharts-layer",r);return x.createElement("g",h0({className:o},Ie(i,!0),{ref:e}),n)}),KW=x.createContext(null);function Me(t){return function(){return t}}const bR=Math.cos,Ch=Math.sin,Dr=Math.sqrt,kh=Math.PI,vm=2*kh,p0=Math.PI,m0=2*p0,rs=1e-6,HW=m0-rs;function xR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class GW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xR:qW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>rs)if(!(Math.abs(f*l-u*c)>rs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-a,v=l*l+u*u,m=p*p+g*g,y=Math.sqrt(v),b=Math.sqrt(h),E=o*Math.tan((p0-Math.acos((v+h-m)/(2*y*b)))/2),I=E/b,R=E/y;Math.abs(I-1)>rs&&this._append`L${e+I*c},${n+I*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>rs||Math.abs(this._y1-c)>rs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%m0+m0),h>HW?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>rs&&this._append`A${r},${r},0,${+(h>=p0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function d1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new GW(e)}function f1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wm(t){return new ER(t)}function TR(t){return t[0]}function AR(t){return t[1]}function SR(t,e){var n=Me(!0),r=null,i=wm,o=null,s=d1(a);t=typeof t=="function"?t:t===void 0?TR:Me(t),e=typeof e=="function"?e:e===void 0?AR:Me(e);function a(l){var u,c=(l=f1(l)).length,f,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Me(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Xd(t,e,n){var r=null,i=Me(!0),o=null,s=wm,a=null,l=d1(u);t=typeof t=="function"?t:t===void 0?TR:Me(+t),e=typeof e=="function"?e:Me(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?AR:Me(+n);function u(f){var h,p,g,v=(f=f1(f)).length,m,y=!1,b,E=new Array(v),I=new Array(v);for(o==null&&(a=s(b=l())),h=0;h<=v;++h){if(!(h<v&&i(m=f[h],h,f))===y)if(y=!y)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=p;--g)a.point(E[g],I[g]);a.lineEnd(),a.areaEnd()}y&&(E[h]=+t(m,h,f),I[h]=+e(m,h,f),a.point(r?+r(m,h,f):E[h],n?+n(m,h,f):I[h]))}if(b)return a=null,b+""||null}function c(){return SR().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Me(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class PR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YW(t){return new PR(t,!0)}function QW(t){return new PR(t,!1)}const h1={draw(t,e){const n=Dr(e/kh);t.moveTo(n,0),t.arc(0,0,n,0,vm)}},XW={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},IR=Dr(1/3),JW=IR*2,ZW={draw(t,e){const n=Dr(e/JW),r=n*IR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eK={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},tK=.8908130915292852,CR=Ch(kh/10)/Ch(7*kh/10),nK=Ch(vm/10)*CR,rK=-bR(vm/10)*CR,iK={draw(t,e){const n=Dr(e*tK),r=nK*n,i=rK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=vm*o/5,a=bR(s),l=Ch(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},gy=Dr(3),oK={draw(t,e){const n=-Dr(e/(gy*3));t.moveTo(0,n*2),t.lineTo(-gy*n,-n),t.lineTo(gy*n,-n),t.closePath()}},Xn=-.5,Jn=Dr(3)/2,g0=1/Dr(12),sK=(g0/2+1)*3,aK={draw(t,e){const n=Dr(e/sK),r=n/2,i=n*g0,o=r,s=n*g0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Xn*r-Jn*i,Jn*r+Xn*i),t.lineTo(Xn*o-Jn*s,Jn*o+Xn*s),t.lineTo(Xn*a-Jn*l,Jn*a+Xn*l),t.lineTo(Xn*r+Jn*i,Xn*i-Jn*r),t.lineTo(Xn*o+Jn*s,Xn*s-Jn*o),t.lineTo(Xn*a+Jn*l,Xn*l-Jn*a),t.closePath()}};function lK(t,e){let n=null,r=d1(i);t=typeof t=="function"?t:Me(t||h1),e=typeof e=="function"?e:Me(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Me(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Oh(){}function Nh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kR(t){this._context=t}kR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uK(t){return new kR(t)}function OR(t){this._context=t}OR.prototype={areaStart:Oh,areaEnd:Oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cK(t){return new OR(t)}function NR(t){this._context=t}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dK(t){return new NR(t)}function RR(t){this._context=t}RR.prototype={areaStart:Oh,areaEnd:Oh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fK(t){return new RR(t)}function rS(t){return t<0?-1:1}function iS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(rS(o)+rS(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function oS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Rh(t){this._context=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yy(this,this._t0,oS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yy(this,oS(this,n=iS(this,t,e)),n);break;default:yy(this,this._t0,n=iS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function DR(t){this._context=new jR(t)}(DR.prototype=Object.create(Rh.prototype)).point=function(t,e){Rh.prototype.point.call(this,e,t)};function jR(t){this._context=t}jR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function hK(t){return new Rh(t)}function pK(t){return new DR(t)}function MR(t){this._context=t}MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sS(t),i=sS(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sS(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function mK(t){return new MR(t)}function _m(t,e){this._context=t,this._t=e}_m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gK(t){return new _m(t,.5)}function yK(t){return new _m(t,0)}function vK(t){return new _m(t,1)}function nl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function y0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wK(t,e){return t[e]}function _K(t){const e=[];return e.key=t,e}function bK(){var t=Me([]),e=y0,n=nl,r=wK;function i(o){var s=Array.from(t.apply(this,arguments),_K),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=f1(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Me(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Me(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?y0:typeof o=="function"?o:Me(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??nl,i):n},i}function xK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}nl(t,e)}}function EK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}nl(t,e)}}function TK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<a;++g){var v=t[e[g]],m=v[r][1]||0,y=v[r-1][1]||0;p+=m-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,nl(t,e)}}var AK=["type","size","sizeType"];function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(null,arguments)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){SK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SK(t,e,n){return(e=PK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=IK(t,"string");return typeof e=="symbol"?e:e+""}function IK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CK(t,e){if(t==null)return{};var n,r,i=kK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LR={symbolCircle:h1,symbolCross:XW,symbolDiamond:ZW,symbolSquare:eK,symbolStar:iK,symbolTriangle:oK,symbolWye:aK},OK=Math.PI/180,NK=t=>{var e="symbol".concat(qc(t));return LR[e]||h1},RK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*OK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},DK=(t,e)=>{LR["symbol".concat(qc(t))]=e},VR=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=CK(t,AK),o=lS(lS({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var f=NK(e),h=lK().type(f).size(RK(n,r,e));return h()},{className:a,cx:l,cy:u}=o,c=Ie(o,!0);return l===+l&&u===+u&&n===+n?x.createElement("path",v0({},c,{className:Oe("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(u,")"),d:s()})):null};VR.registerSymbol=DK;var $R={},UR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}t.uniqBy=e})(UR);var p1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(p1);var FR={},bm={},BR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(BR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BR;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(bm);var zR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(zR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bm,n=zR;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(FR);var WR={},KR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=om;function n(r){return function(i){return e.get(i,r)}}t.property=n})(KR);var HR={},vy={},wy={},m1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(m1);var g1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(g1);var xm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xm);var uS;function jK(){return uS||(uS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y1(),n=m1,r=g1,i=xm;function o(f,h,p){return typeof p!="function"?e.isMatch(f,h):s(f,h,function g(v,m,y,b,E,I){const R=p(v,m,y,b,E,I);return R!==void 0?!!R:s(v,m,g,I)},new Map)}function s(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,p,g);case"function":return Object.keys(h).length>0?s(f,{...h},p,g):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function a(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return c(f,h,p,g);const v=Object.keys(h);if(f==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let m=0;m<v.length;m++){const y=v[m];if(!r.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,m]of h.entries()){const y=f.get(v);if(p(y,m,v,f,h,g)===!1)return!1}return!0}function u(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let m=0;m<h.length;m++){const y=h[m];let b=!1;for(let E=0;E<f.length;E++){if(v.has(E))continue;const I=f[E];let R=!1;if(p(I,y,m,f,h,g)&&(R=!0),R){v.add(E),b=!0;break}}if(!b)return!1}return!0}function c(f,h,p,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,g):!1}t.isMatchWith=o,t.isSetMatch=c}(wy)),wy}var cS;function y1(){return cS||(cS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jK();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(vy)),vy}var qR={},v1={},w1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(w1);var Em={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Em);var Tm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",m="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",I="[object BigUint64Array]",R="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",P="[object Float32Array]",O="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=h,t.arrayTag=c,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=v,t.dateTag=a,t.errorTag=g,t.float32ArrayTag=P,t.float64ArrayTag=O,t.functionTag=f,t.int16ArrayTag=C,t.int32ArrayTag=A,t.int8ArrayTag=R,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=b,t.uint32ArrayTag=E,t.uint8ArrayTag=m,t.uint8ClampedArrayTag=y})(Tm);var GR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(GR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w1,n=Em,r=Tm,i=g1,o=GR;function s(c,f){return a(c,void 0,c,new Map,f)}function a(c,f,h,p=new Map,g=void 0){const v=g==null?void 0:g(c,f,h,p);if(v!=null)return v;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const m=new Array(c.length);p.set(c,m);for(let y=0;y<c.length;y++)m[y]=a(c[y],y,h,p,g);return Object.hasOwn(c,"index")&&(m.index=c.index),Object.hasOwn(c,"input")&&(m.input=c.input),m}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const m=new RegExp(c.source,c.flags);return m.lastIndex=c.lastIndex,m}if(c instanceof Map){const m=new Map;p.set(c,m);for(const[y,b]of c)m.set(y,a(b,y,h,p,g));return m}if(c instanceof Set){const m=new Set;p.set(c,m);for(const y of c)m.add(a(y,void 0,h,p,g));return m}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const m=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,m);for(let y=0;y<c.length;y++)m[y]=a(c[y],y,h,p,g);return m}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const m=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,m),l(m,c,h,p,g),m}if(typeof File<"u"&&c instanceof File){const m=new File([c],c.name,{type:c.type});return p.set(c,m),l(m,c,h,p,g),m}if(c instanceof Blob){const m=new Blob([c],{type:c.type});return p.set(c,m),l(m,c,h,p,g),m}if(c instanceof Error){const m=new c.constructor;return p.set(c,m),m.message=c.message,m.name=c.name,m.stack=c.stack,m.cause=c.cause,l(m,c,h,p,g),m}if(typeof c=="object"&&u(c)){const m=Object.create(Object.getPrototypeOf(c));return p.set(c,m),l(m,c,h,p,g),m}return c}function l(c,f,h=c,p,g){const v=[...Object.keys(f),...e.getSymbols(f)];for(let m=0;m<v.length;m++){const y=v[m],b=Object.getOwnPropertyDescriptor(c,y);(b==null||b.writable)&&(c[y]=a(f[y],y,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=a,t.copyProperties=l})(v1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v1;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(qR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y1(),n=qR;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(HR);var YR={},QR={},XR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v1,n=Tm;function r(i,o){return e.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(XR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XR;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(QR);var JR={},_1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(_1);var ZR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Em;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(ZR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s1,n=_1,r=ZR,i=sm;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=o})(JR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y1(),n=a1,r=QR,i=om,o=JR;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(YR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p1,n=KR,r=HR,i=YR;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(WR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR,n=p1,r=FR,i=WR;function o(s,a=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(a)):[]}t.uniqBy=o})($R);var MK=$R.uniqBy;const dS=Zr(MK);function LK(t,e,n){return e===!0?dS(t,n):typeof e=="function"?dS(t,e):t}var eD={exports:{}},tD={},nD={exports:{}},rD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=x;function VK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $K=typeof Object.is=="function"?Object.is:VK,UK=rl.useState,FK=rl.useEffect,BK=rl.useLayoutEffect,zK=rl.useDebugValue;function WK(t,e){var n=e(),r=UK({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return BK(function(){i.value=n,i.getSnapshot=e,_y(i)&&o({inst:i})},[t,n,e]),FK(function(){return _y(i)&&o({inst:i}),t(function(){_y(i)&&o({inst:i})})},[t]),zK(n),n}function _y(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$K(t,n)}catch{return!0}}function KK(t,e){return e()}var HK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KK:WK;rD.useSyncExternalStore=rl.useSyncExternalStore!==void 0?rl.useSyncExternalStore:HK;nD.exports=rD;var qK=nD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=x,GK=qK;function YK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QK=typeof Object.is=="function"?Object.is:YK,XK=GK.useSyncExternalStore,JK=Am.useRef,ZK=Am.useEffect,eH=Am.useMemo,tH=Am.useDebugValue;tD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=JK(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=eH(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,QK(c,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(c=p,g):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=XK(t,o[0],o[1]);return ZK(function(){s.hasValue=!0,s.value=a},[a]),tH(a),a};eD.exports=tD;var nH=eD.exports,b1=x.createContext(null),rH=t=>t,st=()=>{var t=x.useContext(b1);return t?t.store.dispatch:rH},Vf=()=>{},iH=()=>Vf,oH=(t,e)=>t===e;function ie(t){var e=x.useContext(b1);return nH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:iH,e?e.store.getState:Vf,e?e.store.getState:Vf,e?t:Vf,oH)}function sH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function aH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fS=t=>Array.isArray(t)?t:[t];function uH(t){const e=Array.isArray(t[0])?t[0]:t;return lH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var dH=class{constructor(t){this.value=t}deref(){return this.value}},fH=typeof WeakRef<"u"?WeakRef:dH,hH=0,hS=1;function Jd(){return{s:hH,v:void 0,o:null,p:null}}function iD(t,e={}){let n=Jd();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var f;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const m=v.get(g);m===void 0?(a=Jd(),v.set(g,a)):a=m}else{let v=a.p;v===null&&(a.p=v=new Map);const m=v.get(g);m===void 0?(a=Jd(),v.set(g,a)):a=m}}const u=a;let c;if(a.s===hS)c=a.v;else if(c=t.apply(null,arguments),o++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new fH(c):c}return u.s=hS,u.v=c,c}return s.clearCache=()=>{n=Jd(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function pH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),sH(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=iD,argsMemoizeOptions:g=[],devModeChecks:v={}}=c,m=fS(h),y=fS(g),b=uH(i),E=f(function(){return o++,u.apply(null,arguments)},...m),I=p(function(){s++;const C=cH(b,arguments);return a=E.apply(null,C),a},...y);return Object.assign(I,{resultFunc:u,memoizedResultFunc:E,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=pH(iD),mH=Object.assign((t,e=V)=>{aH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>mH}),oD={},sD={},aD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),a=e(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};t.compareValues=n})(aD);var lD={},x1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(x1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(lD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aD,n=lD,r=sm;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,g)=>{let v=p;for(let m=0;m<g.length&&v!=null;++m)v=v[g[m]];return v},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:f.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let v=0;v<f.length;v++){const m=e.compareValues(p.criteria[v],g.criteria[v],a[v]);if(m!==0)return m}return 0}).map(p=>p.original)}t.orderBy=i})(sD);var uD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(uD);var E1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1,n=bm,r=m1,i=xm;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}t.isIterateeCall=o})(E1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sD,n=uD,r=E1;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(oD);var gH=oD.sortBy;const Sm=Zr(gH);var cD=t=>t.legend.settings,yH=t=>t.legend.size,vH=t=>t.legend.payload;V([vH,cD],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Sm(r,n):r});var Zd=1;function wH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>Zd||Math.abs(s.left-e.left)>Zd||Math.abs(s.top-e.top)>Zd||Math.abs(s.width-e.width)>Zd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Vt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _H=typeof Symbol=="function"&&Symbol.observable||"@@observable",pS=_H,by=()=>Math.random().toString(36).substring(7).split("").join("."),bH={INIT:`@@redux/INIT${by()}`,REPLACE:`@@redux/REPLACE${by()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${by()}`},Dh=bH;function T1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dD(t,e,n){if(typeof t!="function")throw new Error(Vt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vt(1));return n(dD)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((m,y)=>{s.set(y,m)}))}function c(){if(l)throw new Error(Vt(3));return i}function f(m){if(typeof m!="function")throw new Error(Vt(4));if(l)throw new Error(Vt(5));let y=!0;u();const b=a++;return s.set(b,m),function(){if(y){if(l)throw new Error(Vt(6));y=!1,u(),s.delete(b),o=null}}}function h(m){if(!T1(m))throw new Error(Vt(7));if(typeof m.type>"u")throw new Error(Vt(8));if(typeof m.type!="string")throw new Error(Vt(17));if(l)throw new Error(Vt(9));try{l=!0,i=r(i,m)}finally{l=!1}return(o=s).forEach(b=>{b()}),m}function p(m){if(typeof m!="function")throw new Error(Vt(10));r=m,h({type:Dh.REPLACE})}function g(){const m=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Vt(11));function b(){const I=y;I.next&&I.next(c())}return b(),{unsubscribe:m(b)}},[pS](){return this}}}return h({type:Dh.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[pS]:g}}function xH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dh.INIT})>"u")throw new Error(Vt(12));if(typeof n(void 0,{type:Dh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function fD(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{xH(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],g=h(p,a);if(typeof g>"u")throw a&&a.type,new Error(Vt(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function jh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EH(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Vt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=jh(...a)(i.dispatch),{...i,dispatch:o}}}function hD(t){return T1(t)&&"type"in t&&typeof t.type=="string"}var pD=Symbol.for("immer-nothing"),mS=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function xr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var il=Object.getPrototypeOf;function js(t){return!!t&&!!t[Hn]}function Oi(t){var e;return t?mD(t)||Array.isArray(t)||!!t[mS]||!!((e=t.constructor)!=null&&e[mS])||Im(t)||Cm(t):!1}var TH=Object.prototype.constructor.toString();function mD(t){if(!t||typeof t!="object")return!1;const e=il(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===TH}function Mh(t,e){Pm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Pm(t){const e=t[Hn];return e?e.type_:Array.isArray(t)?1:Im(t)?2:Cm(t)?3:0}function w0(t,e){return Pm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gD(t,e,n){const r=Pm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function AH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Im(t){return t instanceof Map}function Cm(t){return t instanceof Set}function is(t){return t.copy_||t.base_}function _0(t,e){if(Im(t))return new Map(t);if(Cm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mD(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Hn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(il(t),r)}else{const r=il(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function A1(t,e=!1){return km(t)||js(t)||!Oi(t)||(Pm(t)>1&&(t.set=t.add=t.clear=t.delete=SH),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>A1(r,!0))),t}function SH(){xr(2)}function km(t){return Object.isFrozen(t)}var PH={};function Ms(t){const e=PH[t];return e||xr(0,t),e}var mc;function yD(){return mc}function IH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gS(t,e){e&&(Ms("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function b0(t){x0(t),t.drafts_.forEach(CH),t.drafts_=null}function x0(t){t===mc&&(mc=t.parent_)}function yS(t){return mc=IH(mc,t)}function CH(t){const e=t[Hn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Hn].modified_&&(b0(e),xr(4)),Oi(t)&&(t=Lh(e,t),e.parent_||Vh(e,t)),e.patches_&&Ms("Patches").generateReplacementPatches_(n[Hn].base_,t,e.patches_,e.inversePatches_)):t=Lh(e,n,[]),b0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pD?t:void 0}function Lh(t,e,n){if(km(e))return e;const r=e[Hn];if(!r)return Mh(e,(i,o)=>wS(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Vh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Mh(o,(a,l)=>wS(t,r,i,a,l,n,s)),Vh(t,i,!1),n&&t.patches_&&Ms("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function wS(t,e,n,r,i,o,s){if(js(i)){const a=o&&e&&e.type_!==3&&!w0(e.assigned_,r)?o.concat(r):void 0,l=Lh(t,i,a);if(gD(n,r,l),js(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Oi(i)&&!km(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Lh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Vh(t,i)}}function Vh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&A1(e,n)}function kH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=S1;n&&(i=[r],o=gc);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var S1={get(t,e){if(e===Hn)return t;const n=is(t);if(!w0(n,e))return OH(t,n,e);const r=n[e];return t.finalized_||!Oi(r)?r:r===xy(t.base_,e)?(Ey(t),t.copy_[e]=T0(r,t)):r},has(t,e){return e in is(t)},ownKeys(t){return Reflect.ownKeys(is(t))},set(t,e,n){const r=vD(is(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=xy(is(t),e),o=i==null?void 0:i[Hn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(AH(n,i)&&(n!==void 0||w0(t.base_,e)))return!0;Ey(t),E0(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return xy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ey(t),E0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=is(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){xr(11)},getPrototypeOf(t){return il(t.base_)},setPrototypeOf(){xr(12)}},gc={};Mh(S1,(t,e)=>{gc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gc.deleteProperty=function(t,e){return gc.set.call(this,t,e,void 0)};gc.set=function(t,e,n){return S1.set.call(this,t[0],e,n,t[0])};function xy(t,e){const n=t[Hn];return(n?is(n):t)[e]}function OH(t,e,n){var i;const r=vD(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vD(t,e){if(!(e in t))return;let n=il(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=il(n)}}function E0(t){t.modified_||(t.modified_=!0,t.parent_&&E0(t.parent_))}function Ey(t){t.copy_||(t.copy_=_0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var NH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&xr(6),r!==void 0&&typeof r!="function"&&xr(7);let i;if(Oi(e)){const o=yS(this),s=T0(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?b0(o):x0(o)}return gS(o,r),vS(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===pD&&(i=void 0),this.autoFreeze_&&A1(i,!0),r){const o=[],s=[];Ms("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else xr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Oi(t)||xr(8),js(t)&&(t=wi(t));const e=yS(this),n=T0(t,void 0);return n[Hn].isManual_=!0,x0(e),n}finishDraft(t,e){const n=t&&t[Hn];(!n||!n.isManual_)&&xr(9);const{scope_:r}=n;return gS(r,e),vS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ms("Patches").applyPatches_;return js(t)?r(t,e):this.produce(t,i=>r(i,e))}};function T0(t,e){const n=Im(t)?Ms("MapSet").proxyMap_(t,e):Cm(t)?Ms("MapSet").proxySet_(t,e):kH(t,e);return(e?e.scope_:yD()).drafts_.push(n),n}function wi(t){return js(t)||xr(10,t),wD(t)}function wD(t){if(!Oi(t)||km(t))return t;const e=t[Hn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=_0(t,!0);return Mh(n,(r,i)=>{gD(n,r,wD(i))}),e&&(e.finalized_=!1),n}var qn=new NH,_D=qn.produce;qn.produceWithPatches.bind(qn);qn.setAutoFreeze.bind(qn);qn.setUseStrictShallowCopy.bind(qn);qn.applyPatches.bind(qn);qn.createDraft.bind(qn);qn.finishDraft.bind(qn);function bD(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var RH=bD(),DH=bD,jH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)};function cr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(zn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>hD(r)&&r.type===t,n}var xD=class _u extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_u.prototype)}static get[Symbol.species](){return _u}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _u(...e[0].concat(this)):new _u(...e.concat(this))}};function _S(t){return Oi(t)?_D(t,()=>{}):t}function ef(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function MH(t){return typeof t=="boolean"}var LH=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new xD;return n&&(MH(n)?s.push(RH):s.push(DH(n.extraArgument))),s},VH="RTK_autoBatch",bS=t=>e=>{setTimeout(e,t)},$H=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bS(10):t.type==="callback"?t.queueNotification:bS(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[VH]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},UH=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new xD(t);return r&&i.push($H(typeof r=="object"?r:void 0)),i};function FH(t){const e=LH(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(T1(n))l=fD(n);else throw new Error(zn(1));let u;typeof r=="function"?u=r(e):u=e();let c=jh;i&&(c=jH({trace:!1,...typeof i=="object"&&i}));const f=EH(...u),h=UH(f);let p=typeof a=="function"?a(h):h();const g=c(...p);return dD(l,s,g)}function ED(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(zn(28));if(a in e)throw new Error(zn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function BH(t){return typeof t=="function"}function zH(t,e){let[n,r,i]=ED(e),o;if(BH(t))o=()=>_S(t());else{const a=_S(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(js(c)){const p=f(c,l);return p===void 0?c:p}else{if(Oi(c))return _D(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return s.getInitialState=o,s}var WH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KH=(t=21)=>{let e="",n=t;for(;n--;)e+=WH[Math.random()*64|0];return e},HH=Symbol.for("rtk-slice-createasyncthunk");function qH(t,e){return`${t}/${e}`}function GH({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[HH];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(zn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(QH()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,R){const C=typeof I=="string"?I:I.type;if(!C)throw new Error(zn(12));if(C in u.sliceCaseReducersByType)throw new Error(zn(13));return u.sliceCaseReducersByType[C]=R,c},addMatcher(I,R){return u.sliceMatchers.push({matcher:I,reducer:R}),c},exposeAction(I,R){return u.actionCreators[I]=R,c},exposeCaseReducer(I,R){return u.sliceCaseReducersByName[I]=R,c}};l.forEach(I=>{const R=a[I],C={reducerName:I,type:qH(o,I),createNotation:typeof i.reducers=="function"};JH(R)?eq(C,R,c,e):XH(C,R,c)});function f(){const[I={},R=[],C=void 0]=typeof i.extraReducers=="function"?ED(i.extraReducers):[i.extraReducers],A={...I,...u.sliceCaseReducersByType};return zH(i.initialState,S=>{for(let P in A)S.addCase(P,A[P]);for(let P of u.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of R)S.addMatcher(P.matcher,P.reducer);C&&S.addDefaultCase(C)})}const h=I=>I,p=new Map,g=new WeakMap;let v;function m(I,R){return v||(v=f()),v(I,R)}function y(){return v||(v=f()),v.getInitialState()}function b(I,R=!1){function C(S){let P=S[I];return typeof P>"u"&&R&&(P=ef(g,C,y)),P}function A(S=h){const P=ef(p,R,()=>new WeakMap);return ef(P,S,()=>{const O={};for(const[N,j]of Object.entries(i.selectors??{}))O[N]=YH(j,S,()=>ef(g,S,y),R);return O})}return{reducerPath:I,getSelectors:A,get selectors(){return A(C)},selectSlice:C}}const E={name:o,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...b(s),injectInto(I,{reducerPath:R,...C}={}){const A=R??s;return I.inject({reducerPath:A,reducer:m},C),{...E,...b(A,!0)}}};return E}}function YH(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var hr=GH();function QH(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XH({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!ZH(r))throw new Error(zn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?cr(t,s):cr(t))}function JH(t){return t._reducerDefinitionType==="asyncThunk"}function ZH(t){return t._reducerDefinitionType==="reducerWithPrepare"}function eq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(zn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,f=i(t,o,c);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:s||tf,pending:a||tf,rejected:l||tf,settled:u||tf})}function tf(){}var tq="task",TD="listener",AD="completed",P1="cancelled",nq=`task-${P1}`,rq=`task-${AD}`,A0=`${TD}-${P1}`,iq=`${TD}-${AD}`,Om=class{constructor(t){bg(this,"name","TaskAbortError");bg(this,"message");this.code=t,this.message=`${tq} ${P1} (reason: ${t})`}},I1=(t,e)=>{if(typeof t!="function")throw new TypeError(zn(32))},$h=()=>{},SD=(t,e=$h)=>(t.catch(e),t),PD=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vs=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ws=t=>{if(t.aborted){const{reason:e}=t;throw new Om(e)}};function ID(t,e){let n=$h;return new Promise((r,i)=>{const o=()=>i(new Om(t.reason));if(t.aborted){o();return}n=PD(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=$h})}var oq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Om?"cancelled":"rejected",error:n}}finally{e==null||e()}},Uh=t=>e=>SD(ID(t,e).then(n=>(ws(t),n))),CD=t=>{const e=Uh(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ma}=Object,xS={},Nm="listenerMiddleware",sq=(t,e)=>{const n=r=>PD(t,()=>vs(r,t.reason));return(r,i)=>{I1(r);const o=new AbortController;n(o);const s=oq(async()=>{ws(t),ws(o.signal);const a=await r({pause:Uh(o.signal),delay:CD(o.signal),signal:o.signal});return ws(o.signal),a},()=>vs(o,rq));return i!=null&&i.autoJoin&&e.push(s.catch($h)),{result:Uh(t)(s),cancel(){vs(o,nq)}}}},aq=(t,e)=>{const n=async(r,i)=>{ws(e);let o=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ID(e,Promise.race(a));return ws(e),l}finally{o()}};return(r,i)=>SD(n(r,i))},kD=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=cr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(zn(21));return I1(o),{predicate:i,type:e,effect:o}},OD=Ma(t=>{const{type:e,predicate:n,effect:r}=kD(t);return{id:KH(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zn(22))}}},{withTypes:()=>OD}),ES=(t,e)=>{const{type:n,effect:r,predicate:i}=kD(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},S0=t=>{t.pending.forEach(e=>{vs(e,A0)})},lq=t=>()=>{t.forEach(S0),t.clear()},TS=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},ND=Ma(cr(`${Nm}/add`),{withTypes:()=>ND}),uq=cr(`${Nm}/removeAll`),RD=Ma(cr(`${Nm}/remove`),{withTypes:()=>RD}),cq=(...t)=>{console.error(`${Nm}/error`,...t)},Yc=(t={})=>{const e=new Map,{extra:n,onError:r=cq}=t;I1(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),f=>{c.unsubscribe(),f!=null&&f.cancelActive&&S0(c)}),o=c=>{const f=ES(e,c)??OD(c);return i(f)};Ma(o,{withTypes:()=>o});const s=c=>{const f=ES(e,c);return f&&(f.unsubscribe(),c.cancelActive&&S0(f)),!!f};Ma(s,{withTypes:()=>s});const a=async(c,f,h,p)=>{const g=new AbortController,v=aq(o,g.signal),m=[];try{c.pending.add(g),await Promise.resolve(c.effect(f,Ma({},h,{getOriginalState:p,condition:(y,b)=>v(y,b).then(Boolean),take:v,delay:CD(g.signal),pause:Uh(g.signal),extra:n,signal:g.signal,fork:sq(g.signal,m),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((y,b,E)=>{y!==g&&(vs(y,A0),E.delete(y))})},cancel:()=>{vs(g,A0),c.pending.delete(g)},throwIfCancelled:()=>{ws(g.signal)}})))}catch(y){y instanceof Om||TS(r,y,{raisedBy:"effect"})}finally{await Promise.all(m),vs(g,iq),c.pending.delete(g)}},l=lq(e);return{middleware:c=>f=>h=>{if(!hD(h))return f(h);if(ND.match(h))return o(h.payload);if(uq.match(h)){l();return}if(RD.match(h))return s(h.payload);let p=c.getState();const g=()=>{if(p===xS)throw new Error(zn(23));return p};let v;try{if(v=f(h),e.size>0){const m=c.getState(),y=Array.from(e.values());for(const b of y){let E=!1;try{E=b.predicate(h,m,p)}catch(I){E=!1,TS(r,I,{raisedBy:"predicate"})}E&&a(b,h,c,g)}}}finally{p=xS}return v},startListening:o,stopListening:s,clearListeners:l}};function zn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DD=hr({name:"chartLayout",initialState:dq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:fq,setLayout:hq,setChartSize:pq,setScale:mq}=DD.actions,gq=DD.reducer;function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yq(t,e,n){return(e=vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=wq(t,"string");return typeof e=="symbol"?e:e+""}function wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fh=Math.PI/180,_q=t=>t*180/Math.PI,gt=(t,e,n,r)=>({x:t+Math.cos(-Fh*r)*n,y:e+Math.sin(-Fh*r)*n}),jD=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bq=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},xq=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=bq({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:_q(l),angleInRadian:l}},Eq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Tq=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},Aq=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=xq({x:n,y:r},e),{innerRadius:s,outerRadius:a}=e;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=Eq(e),c=o,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?SS(SS({},e),{},{radius:i,angle:Tq(c,e)}):null};function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){Sq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sq(t,e,n){return(e=Pq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=Iq(t,"string");return typeof e=="symbol"?e:e+""}function Iq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,n){return yt(t)||yt(e)?n:Xr(e)?Mo(t,e,n):typeof e=="function"?e(t):n}var Cq=(t,e,n,r,i)=>{var o,s=-1,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Ot(c-u)!==Ot(f-c)){var p=[];if(Ot(f-c)===Ot(i[1]-i[0])){h=f;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var v=f+i[1]-i[0];p[0]=Math.min(c,(v+c)/2),p[1]=Math.max(c,(v+c)/2)}var m=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>m[0]&&t<=m[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(t>(y+c)/2&&t<=(b+c)/2){({index:s}=n[l]);break}}}else if(e){for(var E=0;E<a;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<a-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===a-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:s}=e[E]);break}}return s},kq=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=e;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&ne(t[o]))return nr(nr({},t),{},{[o]:t[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&ne(t[s]))return nr(nr({},t),{},{[s]:t[s]+(i||0)})}return t},qs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",MD=(t,e,n,r)=>{if(r)return t.map(a=>a.coordinate);var i,o,s=t.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(e),o||s.push(n),s},LD=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=t;if(!s)return null;var g=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(v=p==="angleAxis"&&o&&o.length>=2?Ot(o[0]-o[1])*2*v:v,f||h){var m=(f||h||[]).map((y,b)=>{var E=r?r.indexOf(y):y;return{coordinate:s(E)+v,value:y,offset:v,index:b}});return m.filter(y=>!Kn(y.coordinate))}return l&&u?u.map((y,b)=>({coordinate:s(y)+v,value:y,index:b,offset:v})):s.ticks&&!n&&c!=null?s.ticks(c).map((y,b)=>({coordinate:s(y)+v,value:y,offset:v,index:b})):s.domain().map((y,b)=>({coordinate:s(y)+v,value:r?r[y]:y,index:b,offset:v}))},IS=1e-4,Oq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-IS,o=Math.max(r[0],r[1])+IS,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}},Nq=(t,e)=>{if(!e||e.length!==2||!ne(e[0])||!ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ne(t[0])||t[0]<n)&&(i[0]=n),(!ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Rq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=Kn(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},Dq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Kn(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},jq={sign:Rq,expand:xK,none:nl,silhouette:EK,wiggle:TK,positive:Dq},Mq=(t,e,n)=>{var r=jq[n],i=bK().keys(e).value((o,s)=>+nt(o,s,0)).order(y0).offset(r);return i(t)};function VD(t){return t==null?void 0:String(t)}var CS=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var a=nt(o,e.dataKey,e.scale.domain()[s]);return yt(a)?null:e.scale(a)-i/2+r},Lq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Vq=t=>{var e=t.flat(2).filter(ne);return[Math.min(...e),Math.max(...e)]},$q=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Uq=(t,e,n)=>{if(t!=null)return $q(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=Vq(u.slice(e,n+1));return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},kS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C1=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Sm(e,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function NS(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return nr(nr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Rm(t,e){if(t)return String(t);if(typeof e=="string")return e}function Fq(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?Aq({x:t,y:e},r):null}var Bq=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return nr(nr(nr({},r),gt(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return nr(nr(nr({},r),gt(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},zq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Li=t=>t.layout.width,Vi=t=>t.layout.height,Wq=t=>t.layout.scale,$D=t=>t.layout.margin,k1=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),O1=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UD="data-recharts-item-index",FD="data-recharts-item-data-key",Dm=60;function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){Kq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kq(t,e,n){return(e=Hq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=qq(t,"string");return typeof e=="symbol"?e:e+""}function qq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gq=t=>t.brush.height,Et=V([Li,Vi,$D,Gq,k1,O1,cD,yH],(t,e,n,r,i,o,s,a)=>{var l=o.reduce((g,v)=>{var{orientation:m}=v;if(!v.mirror&&!v.hide){var y=typeof v.width=="number"?v.width:Dm;return qi(qi({},g),{},{[m]:g[m]+y})}return g},{left:n.left||0,right:n.right||0}),u=i.reduce((g,v)=>{var{orientation:m}=v;return!v.mirror&&!v.hide?qi(qi({},g),{},{[m]:Mo(g,"".concat(m))+v.height}):g},{top:n.top||0,bottom:n.bottom||0}),c=qi(qi({},u),l),f=c.bottom;c.bottom+=r,c=kq(c,s,a);var h=t-c.left-c.right,p=e-c.top-c.bottom;return qi(qi({brushBottom:f},c),{},{width:Math.max(h,0),height:Math.max(p,0)})}),Yq=V(Et,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BD=V(Li,Vi,(t,e)=>({x:0,y:0,width:t,height:e})),Qq=x.createContext(null),In=()=>x.useContext(Qq)!=null,jm=t=>t.brush,Mm=V([jm,Et,$D],(t,e,n)=>({height:t.height,x:ne(t.x)?t.x:e.left,y:ne(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ne(t.width)?t.width:e.width})),N1=()=>{var t,e=In(),n=ie(Yq),r=ie(Mm),i=(t=ie(jm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Xq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zD=()=>{var t;return(t=ie(Et))!==null&&t!==void 0?t:Xq},WD=()=>ie(Li),KD=()=>ie(Vi),ke=t=>t.layout.layoutType,R1=()=>ie(ke),Jq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HD=hr({name:"legend",initialState:Jq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=wi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Hse,setLegendSettings:qse,addLegendPayload:qD,removeLegendPayload:GD}=HD.actions,Zq=HD.reducer;function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(null,arguments)}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return(e=tG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return typeof e=="symbol"?e:e+""}function nG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rG(t){return Array.isArray(t)&&Xr(t[0])&&Xr(t[1])?t.join(" ~ "):t}var iG=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=!1}=t,p=()=>{if(o&&o.length){var R={padding:0,margin:0},C=(a?Sm(o,a):o).map((A,S)=>{if(A.type==="none")return null;var P=A.formatter||s||rG,{value:O,name:N}=A,j=O,D=N;if(P){var W=P(O,N,A,S,o);if(Array.isArray(W))[j,D]=W;else if(W!=null)j=W;else return null}var J=Ty({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:J},Xr(D)?x.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Xr(D)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},j),x.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:R},C)}return null},g=Ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Ty({margin:0},i),m=!yt(c),y=m?c:"",b=Oe("recharts-default-tooltip",l),E=Oe("recharts-tooltip-label",u);m&&f&&o!==void 0&&o!==null&&(y=f(c,o));var I=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",P0({className:b,style:g},I),x.createElement("p",{className:E,style:v},x.isValidElement(y)?y:"".concat(y)),p())},ru="recharts-tooltip-wrapper",oG={visibility:"hidden"};function sG(t){var{coordinate:e,translateX:n,translateY:r}=t;return Oe(ru,{["".concat(ru,"-right")]:ne(n)&&e&&ne(e.x)&&n>=e.x,["".concat(ru,"-left")]:ne(n)&&e&&ne(e.x)&&n<e.x,["".concat(ru,"-bottom")]:ne(r)&&e&&ne(e.y)&&r>=e.y,["".concat(ru,"-top")]:ne(r)&&e&&ne(e.y)&&r<e.y})}function jS(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=t;if(o&&ne(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?c:f;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,g=h;return p<g?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var v=f+a,m=h+u;return v>m?Math.max(c,h):Math.max(f,h)}function aG(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lG(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=t,u,c,f;return s.height>0&&s.width>0&&n?(c=jS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=jS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=aG({translateX:c,translateY:f,useTranslate3d:a})):u=oG,{cssProperties:u,cssClasses:sG({translateX:c,translateY:f,coordinate:n})}}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){I0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0(t,e,n){return(e=uG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uG(t){var e=cG(t,"string");return typeof e=="symbol"?e:e+""}function cG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dG extends x.PureComponent{constructor(){super(...arguments),I0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),I0(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:m,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:E}=lG({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),I=y?{}:nf(nf({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),R=nf(nf({},I),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},g);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:R,ref:m},o)}}var fG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Al={isSsr:fG()},YD=()=>ie(t=>t.rootProps.accessibilityLayer);function Gn(t){return Number.isFinite(t)}function ol(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(null,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){hG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=mG(t,"string");return typeof e=="symbol"?e:e+""}function mG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $S={curveBasisClosed:cK,curveBasisOpen:dK,curveBasis:uK,curveBumpX:YW,curveBumpY:QW,curveLinearClosed:fK,curveLinear:wm,curveMonotoneX:hK,curveMonotoneY:pK,curveNatural:mK,curveStep:gK,curveStepAfter:vK,curveStepBefore:yK},rf=t=>Gn(t.x)&&Gn(t.y),iu=t=>t.x,ou=t=>t.y,gG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(qc(t));return(n==="curveMonotone"||n==="curveBump")&&e?$S["".concat(n).concat(e==="vertical"?"Y":"X")]:$S[n]||wm},yG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=gG(e,i),a=o?n.filter(rf):n,l;if(Array.isArray(r)){var u=o?r.filter(f=>rf(f)):r,c=a.map((f,h)=>VS(VS({},f),{},{base:u[h]}));return i==="vertical"?l=Xd().y(ou).x1(iu).x0(f=>f.base.x):l=Xd().x(iu).y1(ou).y0(f=>f.base.y),l.defined(rf).curve(s),l(c)}return i==="vertical"&&ne(r)?l=Xd().y(ou).x1(iu).x0(r):ne(r)?l=Xd().x(iu).y1(ou).y0(r):l=SR().x(iu).y(ou),l.defined(rf).curve(s),l(a)},QD=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?yG(t):r;return x.createElement("path",C0({},Ie(t,!1),MW(t),{className:Oe("recharts-curve",e),d:o===null?void 0:o,ref:i}))},vG=["x","y","top","left","width","height","className"];function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(null,arguments)}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){_G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _G(t,e,n){return(e=bG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EG(t,e){if(t==null)return{};var n,r,i=TG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AG=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),SG=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=t,l=EG(t,vG),u=wG({x:e,y:n,top:r,left:i,width:o,height:s},l);return!ne(e)||!ne(n)||!ne(o)||!ne(s)||!ne(r)||!ne(i)?null:x.createElement("path",k0({},Ie(u,!0),{className:Oe("recharts-cross",a),d:AG(e,n,o,s,r,i)}))};function PG(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){CG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CG(t,e,n){return(e=kG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=OG(t,"string");return typeof e=="symbol"?e:e+""}function OG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jr(t,e){var n=IG({},t),r=e,i=Object.keys(e),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var XD={},JD={},ZD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(ZD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZD,n=w1,r=Em,i=Tm,o=xm;function s(u,c,f){return a(u,c,void 0,void 0,void 0,void 0,f)}function a(u,c,f,h,p,g,v){const m=v(u,c,f,h,p,g);if(m!==void 0)return m;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,g,v)}return l(u,c,g,v)}function l(u,c,f,h){if(Object.is(u,c))return!0;let p=r.getTag(u),g=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),p!==g)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const y=u.valueOf(),b=c.valueOf();return o.eq(y,b)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}f=f??new Map;const v=f.get(u),m=f.get(c);if(v!=null&&m!=null)return v===c;f.set(u,c),f.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[y,b]of u.entries())if(!c.has(y)||!a(b,c.get(y),y,u,c,f,h))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const y=Array.from(u.values()),b=Array.from(c.values());for(let E=0;E<y.length;E++){const I=y[E],R=b.findIndex(C=>a(I,C,void 0,u,c,f,h));if(R===-1)return!1;b.splice(R,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let y=0;y<u.length;y++)if(!a(u[y],c[y],y,u,c,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),f,h);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const b=[...Object.keys(u),...n.getSymbols(u)],E=[...Object.keys(c),...n.getSymbols(c)];if(b.length!==E.length)return!1;for(let I=0;I<b.length;I++){const R=b[I],C=u[R];if(!Object.hasOwn(c,R))return!1;const A=c[R];if(!a(C,A,R,u,c,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(c)}}t.isEqualWith=s})(JD);var ej={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(ej);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JD,n=ej;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(XD);var NG=XD.isEqual;const RG=Zr(NG);function DG(t){var e={},n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}var Bh=1e-4,tj=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],nj=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),BS=(t,e)=>n=>{var r=tj(t,e);return nj(r,n)},jG=(t,e)=>n=>{var r=tj(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return nj(i,n)},zS=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([e,r,n,i]=s);var u=BS(e,n),c=BS(r,i),f=jG(e,n),h=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,m=v,y=0;y<8;++y){var b=u(m)-v,E=f(m);if(Math.abs(b-v)<Bh||E<Bh)return c(m);m=h(m-b/E)}return c(m)};return p.isStepper=!1,p},MG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-a)<Bh&&Math.abs(f)<Bh?[a,0]:[h,f]};return o.isStepper=!0,o.dt=i,o},LG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zS(t);case"spring":return MG();default:if(t.split("(")[0]==="cubic-bezier")return zS(t)}return typeof t=="function"?t:null};function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){VG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VG(t,e,n){return(e=$G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=UG(t,"string");return typeof e=="symbol"?e:e+""}function UG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),BG=(t,e,n)=>t.map(r=>"".concat(FG(r)," ").concat(e,"ms ").concat(n)).join(","),zG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),yc=(t,e)=>Object.keys(e).reduce((n,r)=>KS(KS({},n),{},{[r]:t(r,e[r])}),{});function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return(e=KG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zh=(t,e,n)=>t+(e-t)*n,O0=t=>{var{from:e,to:n}=t;return e!==n},rj=(t,e,n)=>{var r=yc((i,o)=>{if(O0(o)){var[s,a]=t(o.from,o.to,o.velocity);return Ft(Ft({},o),{},{from:s,velocity:a})}return o},e);return n<1?yc((i,o)=>O0(o)?Ft(Ft({},o),{},{velocity:zh(o.velocity,r[i].velocity,n),from:zh(o.from,r[i].from,n)}):o,e):rj(t,r,n-1)};function qG(t,e,n,r,i,o){var s,a=r.reduce((h,p)=>Ft(Ft({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>yc((h,p)=>p.from,a),u=()=>!Object.values(a).filter(O0).length,c=null,f=h=>{s||(s=h);var p=h-s,g=p/n.dt;a=rj(n,a,g),i(Ft(Ft(Ft({},t),e),l())),s=h,u()||(c=o.setTimeout(f))};return()=>(c=o.setTimeout(f),()=>{c()})}function GG(t,e,n,r,i,o,s){var a=null,l=i.reduce((f,h)=>Ft(Ft({},f),{},{[h]:[t[h],e[h]]}),{}),u,c=f=>{u||(u=f);var h=(f-u)/r,p=yc((v,m)=>zh(...m,n(h)),l);if(o(Ft(Ft(Ft({},t),e),p)),h<1)a=s.setTimeout(c);else{var g=yc((v,m)=>zh(...m,n(1)),l);o(Ft(Ft(Ft({},t),e),g))}};return()=>(a=s.setTimeout(c),()=>{a()})}const YG=(t,e,n,r,i,o)=>{var s=zG(t,e);return n.isStepper===!0?qG(t,e,n,s,i,o):GG(t,e,n,r,s,i,o)};class QG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var XG=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(null,arguments)}function JG(t,e){if(t==null)return{};var n,r,i=ZG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){ds(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ds(t,e,n){return(e=eY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return typeof e=="symbol"?e:e+""}function tY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(){return DG(new QG)}class D1 extends x.PureComponent{constructor(e,n){super(e,n),ds(this,"mounted",!1),ds(this,"manager",null),ds(this,"stopJSAnimation",null),ds(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:a,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:s});return}if(o){if(typeof a=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(u);return}if(!(RG(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=c||o?a:e.to;if(this.state&&l){var h={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(h)}this.runAnimation(Gi(Gi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l}=e,u=YG(n,r,LG(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,s,c,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:a,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,f=BG(Object.keys(c),r,s);this.manager.start([a,n,Gi(Gi({},c),{},{transition:f}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:a,from:l,to:u,canBegin:c,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=e,v=JG(e,XG),m=x.Children.count(n),y=this.state.style;if(typeof n=="function")return n(y);if(!a||m===0||i<=0)return n;var b=E=>{var{style:I={},className:R}=E.props,C=x.cloneElement(E,Gi(Gi({},v),{},{style:Gi(Gi({},I),y),className:R}));return C};return m===1?b(x.Children.only(n)):x.createElement("div",null,x.Children.map(n,E=>b(E)))}}ds(D1,"displayName","Animate");ds(D1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var rY=x.createContext(null);function Ls(t){var e,n,r=x.useContext(rY);return x.createElement(D1,N0({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:nY()}))}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(null,arguments)}var GS=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,h=4;f<h;f++)c[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+a*c[0],",").concat(e)),u+="L ".concat(t+n-a*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-a*c[2],",").concat(e+r)),u+="L ".concat(t+a*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+a*p,",").concat(e,`
            L `).concat(t+n-a*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-a*p,",").concat(e+r,`
            L `).concat(t+a*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},iY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ij=t=>{var e=jr(t,iY),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var m=Oe("recharts-rectangle",c);return v?x.createElement(Ls,{canBegin:r>0,from:{width:a,height:l,x:o,y:s},to:{width:a,height:l,x:o,y:s},duration:h,animationEasing:f,isActive:v},y=>{var{width:b,height:E,x:I,y:R}=y;return x.createElement(Ls,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:f},x.createElement("path",Wh({},Ie(e,!0),{className:m,d:GS(I,R,b,E,u),ref:n})))}):x.createElement("path",Wh({},Ie(e,!0),{className:m,d:GS(o,s,a,l,u)}))};function oj(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=gt(e,n,r,i),a=gt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(null,arguments)}var oY=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},of=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=t,u=a*(s?1:-1)+r,c=Math.asin(a/u)/Fh,f=l?i:i+o*c,h=gt(e,n,u,f),p=gt(e,n,r,f),g=l?i-o*c:i,v=gt(e,n,u*Math.cos(c*Fh),g);return{center:h,circleTangency:p,lineTangency:v,theta:c}},sj=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,a=oY(o,s),l=o+a,u=gt(e,n,i,o),c=gt(e,n,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=gt(e,n,r,o),p=gt(e,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},sY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Ot(u-l),{circleTangency:f,lineTangency:h,theta:p}=of({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:g,lineTangency:v,theta:m}=of({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),y=a?Math.abs(l-u):Math.abs(l-u)-p-m;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sj({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:I,theta:R}=of({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:C,lineTangency:A,theta:S}=of({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),P=a?Math.abs(l-u):Math.abs(l-u)-R-S;if(P<0&&o===0)return"".concat(b,"L").concat(e,",").concat(n,"Z");b+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(e,",").concat(n,"Z");return b},aY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aj=t=>{var e=jr(t,aY),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(o<i||u===c)return null;var h=Oe("recharts-sector",f),p=o-i,g=mn(s,p,0,!0),v;return g>0&&Math.abs(u-c)<360?v=sY({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):v=sj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),x.createElement("path",R0({},Ie(e,!0),{className:h,d:v}))};function lY(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:f}=e,h=gt(a,l,u,f),p=gt(a,l,c,f);r=h.x,i=h.y,o=p.x,s=p.y}else return oj(e);return[{x:r,y:i},{x:o,y:s}]}var lj={},uj={},cj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x1;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(cj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cj;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(uj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E1,n=uj;function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}t.range=r})(lj);var uY=lj.range;const dj=Zr(uY);function So(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j1(t){let e,n,r;t.length!==2?(e=So,n=(a,l)=>So(t(a),l),r=(a,l)=>t(a)-l):(e=t===So||t===cY?t:dY,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function dY(){return 0}function fj(t){return t===null?NaN:+t}function*fY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hY=j1(So),Qc=hY.right;j1(fj).center;class YS extends Map{constructor(e,n=gY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QS(this,e))}has(e){return super.has(QS(this,e))}set(e,n){return super.set(pY(this,e),n)}delete(e){return super.delete(mY(this,e))}}function QS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yY(t=So){if(t===So)return hj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vY=Math.sqrt(50),wY=Math.sqrt(10),_Y=Math.sqrt(2);function Kh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=vY?10:o>=wY?5:o>=_Y?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Kh(t,e,n*2):[a,l,u]}function D0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Kh(e,t,n):Kh(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function j0(t,e,n){return e=+e,t=+t,n=+n,Kh(t,e,n)[2]}function M0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?j0(e,t,n):j0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hj:yY(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));pj(t,e,p,g,i)}const o=t[e];let s=n,a=r;for(su(t,n,e),i(t[r],o)>0&&su(t,n,r);s<a;){for(su(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?su(t,n,a):(++a,su(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function su(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bY(t,e,n){if(t=Float64Array.from(fY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JS(t);if(e>=1)return XS(t);var r,i=(r-1)*e,o=Math.floor(i),s=XS(pj(t,o).subarray(0,o+1)),a=JS(t.subarray(o+1));return s+(a-s)*(i-o)}}function xY(t,e,n=fj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function EY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L0=Symbol("implicit");function M1(){var t=new YS,e=[],n=[],r=L0;function i(o){let s=t.get(o);if(s===void 0){if(r!==L0)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new YS;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return M1(e,n).unknown(r)},pr.apply(i,arguments),i}function L1(){var t=M1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,v=p?r:i;o=(v-g)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),g+=(v-g-o*(h-l))*c,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var m=EY(h).map(function(y){return g+o*y});return n(p?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return L1(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},pr.apply(f(),arguments)}function mj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mj(e())},t}function TY(){return mj(L1.apply(null,arguments).paddingInner(1))}function V1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xc(){}var vc=.7,Hh=1/vc,La="\\s*([+-]?\\d+)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AY=/^#([0-9a-f]{3,8})$/,SY=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),PY=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),IY=new RegExp(`^rgba\\(${La},${La},${La},${wc}\\)$`),CY=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${wc}\\)$`),kY=new RegExp(`^hsl\\(${wc},${Yr},${Yr}\\)$`),OY=new RegExp(`^hsla\\(${wc},${Yr},${Yr},${wc}\\)$`),ZS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V1(Xc,_c,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eP,formatHex:eP,formatHex8:NY,formatHsl:RY,formatRgb:tP,toString:tP});function eP(){return this.rgb().formatHex()}function NY(){return this.rgb().formatHex8()}function RY(){return yj(this).formatHsl()}function tP(){return this.rgb().formatRgb()}function _c(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=AY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nP(e):n===3?new Tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=SY.exec(t))?new Tn(e[1],e[2],e[3],1):(e=PY.exec(t))?new Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IY.exec(t))?sf(e[1],e[2],e[3],e[4]):(e=CY.exec(t))?sf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kY.exec(t))?oP(e[1],e[2]/100,e[3]/100,1):(e=OY.exec(t))?oP(e[1],e[2]/100,e[3]/100,e[4]):ZS.hasOwnProperty(t)?nP(ZS[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function nP(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function sf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tn(t,e,n,r)}function DY(t){return t instanceof Xc||(t=_c(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function V0(t,e,n,r){return arguments.length===1?DY(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}V1(Tn,V0,gj(Xc,{brighter(t){return t=t==null?Hh:Math.pow(Hh,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vc:Math.pow(vc,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(_s(this.r),_s(this.g),_s(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rP,formatHex:rP,formatHex8:jY,formatRgb:iP,toString:iP}));function rP(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}`}function jY(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}${fs((isNaN(this.opacity)?1:this.opacity)*255)}`}function iP(){const t=qh(this.opacity);return`${t===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${t===1?")":`, ${t})`}`}function qh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _s(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fs(t){return t=_s(t),(t<16?"0":"")+t.toString(16)}function oP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,r)}function yj(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof Xc||(t=_c(t)),!t)return new Er;if(t instanceof Er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Er(s,a,l,t.opacity)}function MY(t,e,n,r){return arguments.length===1?yj(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}V1(Er,MY,gj(Xc,{brighter(t){return t=t==null?Hh:Math.pow(Hh,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vc:Math.pow(vc,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tn(Ay(t>=240?t-240:t+120,i,r),Ay(t,i,r),Ay(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Er(sP(this.h),af(this.s),af(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qh(this.opacity);return`${t===1?"hsl(":"hsla("}${sP(this.h)}, ${af(this.s)*100}%, ${af(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sP(t){return t=(t||0)%360,t<0?t+360:t}function af(t){return Math.max(0,Math.min(1,t||0))}function Ay(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $1=t=>()=>t;function LY(t,e){return function(n){return t+n*e}}function VY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $Y(t){return(t=+t)==1?vj:function(e,n){return n-e?VY(e,n,t):$1(isNaN(e)?n:e)}}function vj(t,e){var n=e-t;return n?LY(t,n):$1(isNaN(t)?e:t)}const aP=function t(e){var n=$Y(e);function r(i,o){var s=n((i=V0(i)).r,(o=V0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=vj(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function UY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function FY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Sl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function zY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sy=new RegExp($0.source,"g");function KY(t){return function(){return t}}function HY(t){return function(e){return t(e)+""}}function qY(t,e){var n=$0.lastIndex=Sy.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=$0.exec(t))&&(i=Sy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Gh(r,i)})),n=Sy.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?HY(l[0].x):KY(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Sl(t,e){var n=typeof e,r;return e==null||n==="boolean"?$1(e):(n==="number"?Gh:n==="string"?(r=_c(e))?(e=r,aP):qY:e instanceof _c?aP:e instanceof Date?zY:FY(e)?UY:Array.isArray(e)?BY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WY:Gh)(t,e)}function U1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function GY(t,e){e===void 0&&(e=t,t=Sl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function YY(t){return function(){return t}}function Yh(t){return+t}var lP=[0,1];function fn(t){return t}function U0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YY(isNaN(e)?NaN:.5)}function QY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function XY(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=U0(i,r),o=n(s,o)):(r=U0(r,i),o=n(o,s)),function(a){return o(r(a))}}function JY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=U0(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Qc(t,a,1,r)-1;return o[l](i[l](a))}}function Jc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lm(){var t=lP,e=lP,n=Sl,r,i,o,s=fn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==fn&&(s=QY(t[0],t[h-1])),a=h>2?JY:XY,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Gh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Yh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=U1,c()},f.clamp=function(h){return arguments.length?(s=h?!0:fn,c()):s!==fn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function F1(){return Lm()(fn,fn)}function ZY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sl(t){return t=Qh(Math.abs(t)),t?t[1]:NaN}function eQ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function tQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(t){if(!(e=nQ.exec(t)))throw new Error("invalid format: "+t);var e;return new B1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bc.prototype=B1.prototype;function B1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}B1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wj;function iQ(t,e){var n=Qh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qh(t,Math.max(0,e+o-1))[0]}function uP(t,e){var n=Qh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uP(t*100,e),r:uP,s:iQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dP(t){return t}var fP=Array.prototype.map,hP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oQ(t){var e=t.grouping===void 0||t.thousands===void 0?dP:eQ(fP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?dP:tQ(fP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=bc(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,m=f.zero,y=f.width,b=f.comma,E=f.precision,I=f.trim,R=f.type;R==="n"?(b=!0,R="g"):cP[R]||(E===void 0&&(E=12),I=!0,R="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",A=v==="$"?r:/[%p]/.test(R)?s:"",S=cP[R],P=/[defgprs%]/.test(R);E=E===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(N){var j=C,D=A,W,J,te;if(R==="c")D=S(N)+D,N="";else{N=+N;var U=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),E),I&&(N=rQ(N)),U&&+N==0&&g!=="+"&&(U=!1),j=(U?g==="("?g:a:g==="-"||g==="("?"":g)+j,D=(R==="s"?hP[8+wj/3]:"")+D+(U&&g==="("?")":""),P){for(W=-1,J=N.length;++W<J;)if(te=N.charCodeAt(W),48>te||te>57){D=(te===46?i+N.slice(W+1):N.slice(W))+D,N=N.slice(0,W);break}}}b&&!m&&(N=e(N,1/0));var L=j.length+N.length+D.length,B=L<y?new Array(y-L+1).join(h):"";switch(b&&m&&(N=e(B+N,B.length?y-D.length:1/0),B=""),p){case"<":N=j+N+D+B;break;case"=":N=j+B+N+D;break;case"^":N=B.slice(0,L=B.length>>1)+j+N+D+B.slice(L);break;default:N=B+j+N+D;break}return o(N)}return O.toString=function(){return f+""},O}function c(f,h){var p=u((f=bc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(sl(h)/3)))*3,v=Math.pow(10,-g),m=hP[8+g/3];return function(y){return p(v*y)+m}}return{format:u,formatPrefix:c}}var lf,z1,_j;sQ({thousands:",",grouping:[3],currency:["$",""]});function sQ(t){return lf=oQ(t),z1=lf.format,_j=lf.formatPrefix,lf}function aQ(t){return Math.max(0,-sl(Math.abs(t)))}function lQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(e)/3)))*3-sl(Math.abs(t)))}function uQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sl(e)-sl(t))+1}function bj(t,e,n,r){var i=M0(t,e,n),o;switch(r=bc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=lQ(i,s))&&(r.precision=o),_j(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return z1(r)}function Ho(t){var e=t.domain;return t.ticks=function(n){var r=e();return D0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=j0(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function xj(){var t=F1();return t.copy=function(){return Jc(t,xj())},pr.apply(t,arguments),Ho(t)}function Ej(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Yh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ej(t).unknown(e)},t=arguments.length?Array.from(t,Yh):[0,1],Ho(n)}function Tj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pP(t){return Math.log(t)}function mP(t){return Math.exp(t)}function cQ(t){return-Math.log(-t)}function dQ(t){return-Math.exp(-t)}function fQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hQ(t){return t===10?fQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gP(t){return(e,n)=>-t(-e,n)}function W1(t){const e=t(pP,mP),n=e.domain;let r=10,i,o;function s(){return i=pQ(r),o=hQ(r),n()[0]<0?(i=gP(i),o=gP(o),t(cQ,dQ)):t(pP,mP),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,v;const m=a==null?10:+a;let y=[];if(!(r%1)&&p-h<m){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(v=h<0?g/o(-h):g*o(h),!(v<u)){if(v>c)break;y.push(v)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/o(-h):g*o(h),!(v<u)){if(v>c)break;y.push(v)}y.length*2<m&&(y=D0(u,c,m))}else y=D0(h,p,Math.min(p-h,m)).map(o);return f?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bc(l)).precision==null&&(l.trim=!0),l=z1(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(Tj(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function Aj(){const t=W1(Lm()).domain([1,10]);return t.copy=()=>Jc(t,Aj()).base(t.base()),pr.apply(t,arguments),t}function yP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K1(t){var e=1,n=t(yP(e),vP(e));return n.constant=function(r){return arguments.length?t(yP(e=+r),vP(e)):e},Ho(n)}function Sj(){var t=K1(Lm());return t.copy=function(){return Jc(t,Sj()).constant(t.constant())},pr.apply(t,arguments)}function wP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gQ(t){return t<0?-t*t:t*t}function H1(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(mQ,gQ):t(wP(n),wP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ho(e)}function q1(){var t=H1(Lm());return t.copy=function(){return Jc(t,q1()).exponent(t.exponent())},pr.apply(t,arguments),t}function yQ(){return q1.apply(null,arguments).exponent(.5)}function _P(t){return Math.sign(t)*t*t}function vQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Pj(){var t=F1(),e=[0,1],n=!1,r;function i(o){var s=vQ(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(_P(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Yh)).map(_P)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Pj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Ho(i)}function Ij(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=xY(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qc(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(So),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Ij().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function Cj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Qc(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Cj().domain([t,e]).range(i).unknown(o)},pr.apply(Ho(s),arguments)}function kj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kj().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const Py=new Date,Iy=new Date;function Tt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Tt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Py.setTime(+o),Iy.setTime(+s),t(Py),t(Iy),Math.floor(n(Py,Iy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Xh=Tt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xh);Xh.range;const pi=1e3,or=pi*60,mi=or*60,Ni=mi*24,G1=Ni*7,bP=Ni*30,Cy=Ni*365,hs=Tt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCSeconds());hs.range;const Y1=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pi)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());Y1.range;const Q1=Tt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());Q1.range;const X1=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pi-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getHours());X1.range;const J1=Tt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCHours());J1.range;const Zc=Tt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Ni,t=>t.getDate()-1);Zc.range;const Vm=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>t.getUTCDate()-1);Vm.range;const Oj=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>Math.floor(t/Ni));Oj.range;function Gs(t){return Tt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/G1)}const $m=Gs(0),Jh=Gs(1),wQ=Gs(2),_Q=Gs(3),al=Gs(4),bQ=Gs(5),xQ=Gs(6);$m.range;Jh.range;wQ.range;_Q.range;al.range;bQ.range;xQ.range;function Ys(t){return Tt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/G1)}const Um=Ys(0),Zh=Ys(1),EQ=Ys(2),TQ=Ys(3),ll=Ys(4),AQ=Ys(5),SQ=Ys(6);Um.range;Zh.range;EQ.range;TQ.range;ll.range;AQ.range;SQ.range;const Z1=Tt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Z1.range;const eb=Tt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eb.range;const Ri=Tt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ri.range;const Di=Tt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Di.range;function Nj(t,e,n,r,i,o){const s=[[hs,1,pi],[hs,5,5*pi],[hs,15,15*pi],[hs,30,30*pi],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,mi],[i,3,3*mi],[i,6,6*mi],[i,12,12*mi],[r,1,Ni],[r,2,2*Ni],[n,1,G1],[e,1,bP],[e,3,3*bP],[t,1,Cy]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=j1(([,,m])=>m).right(s,h);if(p===s.length)return t.every(M0(u/Cy,c/Cy,f));if(p===0)return Xh.every(Math.max(M0(u,c,f),1));const[g,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(v)}return[a,l]}const[PQ,IQ]=Nj(Di,eb,Um,Oj,J1,Q1),[CQ,kQ]=Nj(Ri,Z1,$m,Zc,X1,Y1);function ky(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Oy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function au(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function OQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=lu(i),c=uu(i),f=lu(o),h=uu(o),p=lu(s),g=uu(s),v=lu(a),m=uu(a),y=lu(l),b=uu(l),E={a:U,A:L,b:B,B:Y,c:null,d:PP,e:PP,f:eX,g:cX,G:fX,H:XQ,I:JQ,j:ZQ,L:Rj,m:tX,M:nX,p:se,q,Q:kP,s:OP,S:rX,u:iX,U:oX,V:sX,w:aX,W:lX,x:null,X:null,y:uX,Y:dX,Z:hX,"%":CP},I={a:fe,A:an,b:Je,B:mr,c:null,d:IP,e:IP,f:yX,g:PX,G:CX,H:pX,I:mX,j:gX,L:jj,m:vX,M:wX,p:gr,q:tg,Q:kP,s:OP,S:_X,u:bX,U:xX,V:EX,w:TX,W:AX,x:null,X:null,y:SX,Y:IX,Z:kX,"%":CP},R={a:O,A:N,b:j,B:D,c:W,d:AP,e:AP,f:qQ,g:TP,G:EP,H:SP,I:SP,j:zQ,L:HQ,m:BQ,M:WQ,p:P,q:FQ,Q:YQ,s:QQ,S:KQ,u:MQ,U:LQ,V:VQ,w:jQ,W:$Q,x:J,X:te,y:TP,Y:EP,Z:UQ,"%":GQ};E.x=C(n,E),E.X=C(r,E),E.c=C(e,E),I.x=C(n,I),I.X=C(r,I),I.c=C(e,I);function C(re,de){return function(he){var K=[],At=-1,Te=0,Mt=re.length,Kt,ni,ld;for(he instanceof Date||(he=new Date(+he));++At<Mt;)re.charCodeAt(At)===37&&(K.push(re.slice(Te,At)),(ni=xP[Kt=re.charAt(++At)])!=null?Kt=re.charAt(++At):ni=Kt==="e"?" ":"0",(ld=de[Kt])&&(Kt=ld(he,ni)),K.push(Kt),Te=At+1);return K.push(re.slice(Te,At)),K.join("")}}function A(re,de){return function(he){var K=au(1900,void 0,1),At=S(K,re,he+="",0),Te,Mt;if(At!=he.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Te=Oy(au(K.y,0,1)),Mt=Te.getUTCDay(),Te=Mt>4||Mt===0?Zh.ceil(Te):Zh(Te),Te=Vm.offset(Te,(K.V-1)*7),K.y=Te.getUTCFullYear(),K.m=Te.getUTCMonth(),K.d=Te.getUTCDate()+(K.w+6)%7):(Te=ky(au(K.y,0,1)),Mt=Te.getDay(),Te=Mt>4||Mt===0?Jh.ceil(Te):Jh(Te),Te=Zc.offset(Te,(K.V-1)*7),K.y=Te.getFullYear(),K.m=Te.getMonth(),K.d=Te.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Mt="Z"in K?Oy(au(K.y,0,1)).getUTCDay():ky(au(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Mt+5)%7:K.w+K.U*7-(Mt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Oy(K)):ky(K)}}function S(re,de,he,K){for(var At=0,Te=de.length,Mt=he.length,Kt,ni;At<Te;){if(K>=Mt)return-1;if(Kt=de.charCodeAt(At++),Kt===37){if(Kt=de.charAt(At++),ni=R[Kt in xP?de.charAt(At++):Kt],!ni||(K=ni(re,he,K))<0)return-1}else if(Kt!=he.charCodeAt(K++))return-1}return K}function P(re,de,he){var K=u.exec(de.slice(he));return K?(re.p=c.get(K[0].toLowerCase()),he+K[0].length):-1}function O(re,de,he){var K=p.exec(de.slice(he));return K?(re.w=g.get(K[0].toLowerCase()),he+K[0].length):-1}function N(re,de,he){var K=f.exec(de.slice(he));return K?(re.w=h.get(K[0].toLowerCase()),he+K[0].length):-1}function j(re,de,he){var K=y.exec(de.slice(he));return K?(re.m=b.get(K[0].toLowerCase()),he+K[0].length):-1}function D(re,de,he){var K=v.exec(de.slice(he));return K?(re.m=m.get(K[0].toLowerCase()),he+K[0].length):-1}function W(re,de,he){return S(re,e,de,he)}function J(re,de,he){return S(re,n,de,he)}function te(re,de,he){return S(re,r,de,he)}function U(re){return s[re.getDay()]}function L(re){return o[re.getDay()]}function B(re){return l[re.getMonth()]}function Y(re){return a[re.getMonth()]}function se(re){return i[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function fe(re){return s[re.getUTCDay()]}function an(re){return o[re.getUTCDay()]}function Je(re){return l[re.getUTCMonth()]}function mr(re){return a[re.getUTCMonth()]}function gr(re){return i[+(re.getUTCHours()>=12)]}function tg(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var de=C(re+="",E);return de.toString=function(){return re},de},parse:function(re){var de=A(re+="",!1);return de.toString=function(){return re},de},utcFormat:function(re){var de=C(re+="",I);return de.toString=function(){return re},de},utcParse:function(re){var de=A(re+="",!0);return de.toString=function(){return re},de}}}var xP={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,NQ=/^%/,RQ=/[\\^$*+?|[\]().{}]/g;function Ee(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function DQ(t){return t.replace(RQ,"\\$&")}function lu(t){return new RegExp("^(?:"+t.map(DQ).join("|")+")","i")}function uu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function jQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function LQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EP(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function UQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FQ(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function BQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function GQ(t,e,n){var r=NQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function YQ(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PP(t,e){return Ee(t.getDate(),e,2)}function XQ(t,e){return Ee(t.getHours(),e,2)}function JQ(t,e){return Ee(t.getHours()%12||12,e,2)}function ZQ(t,e){return Ee(1+Zc.count(Ri(t),t),e,3)}function Rj(t,e){return Ee(t.getMilliseconds(),e,3)}function eX(t,e){return Rj(t,e)+"000"}function tX(t,e){return Ee(t.getMonth()+1,e,2)}function nX(t,e){return Ee(t.getMinutes(),e,2)}function rX(t,e){return Ee(t.getSeconds(),e,2)}function iX(t){var e=t.getDay();return e===0?7:e}function oX(t,e){return Ee($m.count(Ri(t)-1,t),e,2)}function Dj(t){var e=t.getDay();return e>=4||e===0?al(t):al.ceil(t)}function sX(t,e){return t=Dj(t),Ee(al.count(Ri(t),t)+(Ri(t).getDay()===4),e,2)}function aX(t){return t.getDay()}function lX(t,e){return Ee(Jh.count(Ri(t)-1,t),e,2)}function uX(t,e){return Ee(t.getFullYear()%100,e,2)}function cX(t,e){return t=Dj(t),Ee(t.getFullYear()%100,e,2)}function dX(t,e){return Ee(t.getFullYear()%1e4,e,4)}function fX(t,e){var n=t.getDay();return t=n>=4||n===0?al(t):al.ceil(t),Ee(t.getFullYear()%1e4,e,4)}function hX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ee(e/60|0,"0",2)+Ee(e%60,"0",2)}function IP(t,e){return Ee(t.getUTCDate(),e,2)}function pX(t,e){return Ee(t.getUTCHours(),e,2)}function mX(t,e){return Ee(t.getUTCHours()%12||12,e,2)}function gX(t,e){return Ee(1+Vm.count(Di(t),t),e,3)}function jj(t,e){return Ee(t.getUTCMilliseconds(),e,3)}function yX(t,e){return jj(t,e)+"000"}function vX(t,e){return Ee(t.getUTCMonth()+1,e,2)}function wX(t,e){return Ee(t.getUTCMinutes(),e,2)}function _X(t,e){return Ee(t.getUTCSeconds(),e,2)}function bX(t){var e=t.getUTCDay();return e===0?7:e}function xX(t,e){return Ee(Um.count(Di(t)-1,t),e,2)}function Mj(t){var e=t.getUTCDay();return e>=4||e===0?ll(t):ll.ceil(t)}function EX(t,e){return t=Mj(t),Ee(ll.count(Di(t),t)+(Di(t).getUTCDay()===4),e,2)}function TX(t){return t.getUTCDay()}function AX(t,e){return Ee(Zh.count(Di(t)-1,t),e,2)}function SX(t,e){return Ee(t.getUTCFullYear()%100,e,2)}function PX(t,e){return t=Mj(t),Ee(t.getUTCFullYear()%100,e,2)}function IX(t,e){return Ee(t.getUTCFullYear()%1e4,e,4)}function CX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ll(t):ll.ceil(t),Ee(t.getUTCFullYear()%1e4,e,4)}function kX(){return"+0000"}function CP(){return"%"}function kP(t){return+t}function OP(t){return Math.floor(+t/1e3)}var ia,Lj,Vj;OX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OX(t){return ia=OQ(t),Lj=ia.format,ia.parse,Vj=ia.utcFormat,ia.utcParse,ia}function NX(t){return new Date(t)}function RX(t){return t instanceof Date?+t:+new Date(+t)}function tb(t,e,n,r,i,o,s,a,l,u){var c=F1(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),b=u("%b %d"),E=u("%B"),I=u("%Y");function R(C){return(l(C)<C?p:a(C)<C?g:s(C)<C?v:o(C)<C?m:r(C)<C?i(C)<C?y:b:n(C)<C?E:I)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,RX)):h().map(NX)},c.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},c.tickFormat=function(C,A){return A==null?R:u(A)},c.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(Tj(A,C)):c},c.copy=function(){return Jc(c,tb(t,e,n,r,i,o,s,a,l,u))},c}function DX(){return pr.apply(tb(CQ,kQ,Ri,Z1,$m,Zc,X1,Y1,hs,Lj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jX(){return pr.apply(tb(PQ,IQ,Di,eb,Um,Vm,J1,Q1,hs,Vj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fm(){var t=0,e=1,n,r,i,o,s=fn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(Sl),u.rangeRound=c(U1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $j(){var t=Ho(Fm()(fn));return t.copy=function(){return qo(t,$j())},$i.apply(t,arguments)}function Uj(){var t=W1(Fm()).domain([1,10]);return t.copy=function(){return qo(t,Uj()).base(t.base())},$i.apply(t,arguments)}function Fj(){var t=K1(Fm());return t.copy=function(){return qo(t,Fj()).constant(t.constant())},$i.apply(t,arguments)}function nb(){var t=H1(Fm());return t.copy=function(){return qo(t,nb()).exponent(t.exponent())},$i.apply(t,arguments)}function MX(){return nb.apply(null,arguments).exponent(.5)}function Bj(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(So),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>bY(t,o/r))},n.copy=function(){return Bj(e).domain(t)},$i.apply(n,arguments)}function Bm(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=fn,c,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?a:l),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(m){var y,b,E;return arguments.length?([y,b,E]=m,u=GY(v,[y,b,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(Sl),p.rangeRound=g(U1),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return c=v,i=v(t),o=v(e),s=v(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function zj(){var t=Ho(Bm()(fn));return t.copy=function(){return qo(t,zj())},$i.apply(t,arguments)}function Wj(){var t=W1(Bm()).domain([.1,1,10]);return t.copy=function(){return qo(t,Wj()).base(t.base())},$i.apply(t,arguments)}function Kj(){var t=K1(Bm());return t.copy=function(){return qo(t,Kj()).constant(t.constant())},$i.apply(t,arguments)}function rb(){var t=H1(Bm());return t.copy=function(){return qo(t,rb()).exponent(t.exponent())},$i.apply(t,arguments)}function LX(){return rb.apply(null,arguments).exponent(.5)}const bu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:L1,scaleDiverging:zj,scaleDivergingLog:Wj,scaleDivergingPow:rb,scaleDivergingSqrt:LX,scaleDivergingSymlog:Kj,scaleIdentity:Ej,scaleImplicit:L0,scaleLinear:xj,scaleLog:Aj,scaleOrdinal:M1,scalePoint:TY,scalePow:q1,scaleQuantile:Ij,scaleQuantize:Cj,scaleRadial:Pj,scaleSequential:$j,scaleSequentialLog:Uj,scaleSequentialPow:nb,scaleSequentialQuantile:Bj,scaleSequentialSqrt:MX,scaleSequentialSymlog:Fj,scaleSqrt:yQ,scaleSymlog:Sj,scaleThreshold:kj,scaleTime:DX,scaleUtc:jX,tickFormat:bj},Symbol.toStringTag,{value:"Module"}));var Qs=t=>t.chartData,ib=V([Qs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Hj=(t,e,n,r)=>r?ib(t):Qs(t);function ul(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Gn(e)&&Gn(n))return!0}return!1}function NP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function VX(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Gn(n))i=n;else if(typeof n=="function")return;if(Gn(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(ul(s))return s}}function $X(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ul(r))return NP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,a;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ne(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&kS.test(i)){var l=kS.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(a=Math.max(...e));else if(ne(o))a=o;else if(typeof o=="function")try{e!=null&&(a=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&OS.test(o)){var c=OS.exec(o);if(c==null||e==null)a=void 0;else{var f=+c[1];a=e[1]+f}}else a=e==null?void 0:e[1];var h=[s,a];if(ul(h))return e==null?h:NP(h,e,n)}}}var Pl=1e9,UX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sb,We=!0,dr="[DecimalError] ",bs=dr+"Invalid argument: ",ob=dr+"Exponent out of range: ",Il=Math.floor,os=Math.pow,FX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,Pt=1e7,Fe=7,qj=9007199254740991,ep=Il(qj/Fe),ee={};ee.absoluteValue=ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ee.comparedTo=ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Fe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ee.dividedBy=ee.div=function(t){return _i(this,new this.constructor(t))};ee.dividedToIntegerBy=ee.idiv=function(t){var e=this,n=e.constructor;return De(_i(e,new n(t),0,1),n.precision)};ee.equals=ee.eq=function(t){return!this.cmp(t)};ee.exponent=function(){return vt(this)};ee.greaterThan=ee.gt=function(t){return this.cmp(t)>0};ee.greaterThanOrEqualTo=ee.gte=function(t){return this.cmp(t)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(t){return this.cmp(t)<0};ee.lessThanOrEqualTo=ee.lte=function(t){return this.cmp(t)<1};ee.logarithm=ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ln))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Ln)?new r(0):(We=!1,e=_i(xc(n,o),xc(t,o),o),We=!0,De(e,i))};ee.minus=ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qj(e,t):Gj(e,(t.s=-t.s,t))};ee.modulo=ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(We=!1,e=_i(n,t,0,1).times(t),We=!0,n.minus(e)):De(new r(n),i)};ee.naturalExponential=ee.exp=function(){return Yj(this)};ee.naturalLogarithm=ee.ln=function(){return xc(this)};ee.negated=ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ee.plus=ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gj(e,t):Qj(e,(t.s=-t.s,t))};ee.precision=ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bs+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Fe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ee.squareRoot=ee.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(dr+"NaN")}for(t=vt(a),We=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Fr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Il((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(_i(a,o,s+2)).times(.5),Fr(o.d).slice(0,s)===(e=Fr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return We=!0,De(r,n)};ee.times=ee.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+e,o[i--]=a%Pt|0,e=a/Pt|0;o[i]=(o[i]+e)%Pt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,We?De(t,f.precision):t};ee.toDecimalPlaces=ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,Pl),e===void 0?e=r.rounding:Jr(e,0,8),De(n,t+vt(n)+1,e))};ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vs(r,!0):(Jr(t,0,Pl),e===void 0?e=i.rounding:Jr(e,0,8),r=De(new i(r),t+1,e),n=Vs(r,!0,t+1)),n};ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Vs(i):(Jr(t,0,Pl),e===void 0?e=o.rounding:Jr(e,0,8),r=De(new o(i),t+vt(i)+1,e),n=Vs(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ee.toInteger=ee.toint=function(){var t=this,e=t.constructor;return De(new e(t),vt(t)+1,e.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ln);if(a=new l(a),!a.s){if(t.s<1)throw Error(dr+"Infinity");return a}if(a.eq(Ln))return a;if(r=l.precision,t.eq(Ln))return De(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=qj){for(i=new l(Ln),e=Math.ceil(r/Fe+4),We=!1;n%2&&(i=i.times(a),DP(i.d,e)),n=Il(n/2),n!==0;)a=a.times(a),DP(a.d,e);return We=!0,t.s<0?new l(Ln).div(i):De(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,We=!1,i=t.times(xc(a,r+u)),We=!0,i=Yj(i),i.s=o,i};ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=vt(i),r=Vs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Jr(t,1,Pl),e===void 0?e=o.rounding:Jr(e,0,8),i=De(new o(i),t,e),n=vt(i),r=Vs(i,t<=n||n<=o.toExpNeg,t)),r};ee.toSignificantDigits=ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,Pl),e===void 0?e=r.rounding:Jr(e,0,8)),De(new r(n),t,e)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return Vs(t,e<=n.toExpNeg||e>=n.toExpPos)};function Gj(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),We?De(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Fe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Pt|0,l[o]%=Pt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,We?De(e,f):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bs+t)}function Fr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Fe-r.length,n&&(o+=Ji(n)),o+=r;s=t[e],r=s+"",n=Fe-r.length,n&&(o+=Ji(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var _i=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Pt|0,s=o/Pt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,p,g,v,m,y,b,E,I,R,C,A,S,P=r.constructor,O=r.s==i.s?1:-1,N=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,A=j.length,R=N.length,p=new P(O),g=p.d=[],u=0;j[u]==(N[u]||0);)++u;if(j[u]>(N[u]||0)&&--l,o==null?b=o=P.precision:s?b=o+(vt(r)-vt(i))+1:b=o,b<0)return new P(0);if(b=b/Fe+2|0,u=0,A==1)for(c=0,j=j[0],b++;(u<R||c)&&b--;u++)E=c*Pt+(N[u]||0),g[u]=E/j|0,c=E%j|0;else{for(c=Pt/(j[0]+1)|0,c>1&&(j=t(j,c),N=t(N,c),A=j.length,R=N.length),I=A,v=N.slice(0,A),m=v.length;m<A;)v[m++]=0;S=j.slice(),S.unshift(0),C=j[0],j[1]>=Pt/2&&++C;do c=0,a=e(j,v,A,m),a<0?(y=v[0],A!=m&&(y=y*Pt+(v[1]||0)),c=y/C|0,c>1?(c>=Pt&&(c=Pt-1),f=t(j,c),h=f.length,m=v.length,a=e(f,v,h,m),a==1&&(c--,n(f,A<h?S:j,h))):(c==0&&(a=c=1),f=j.slice()),h=f.length,h<m&&f.unshift(0),n(v,f,m),a==-1&&(m=v.length,a=e(j,v,A,m),a<1&&(c++,n(v,A<m?S:j,m))),m=v.length):a===0&&(c++,v=[0]),g[u++]=c,a&&v[0]?v[m++]=N[I]||0:(v=[N[I]],m=1);while((I++<R||v[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,De(p,s?o+vt(p)+1:o)}}();function Yj(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(vt(t)>16)throw Error(ob+vt(t));if(!t.s)return new c(Ln);for(e==null?(We=!1,a=f):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(os(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Ln),c.precision=a;;){if(i=De(i.times(t),a),n=n.times(++l),s=o.plus(_i(i,n,a)),Fr(s.d).slice(0,a)===Fr(o.d).slice(0,a)){for(;u--;)o=De(o.times(o),a);return c.precision=f,e==null?(We=!0,De(o,f)):o}o=s}}function vt(t){for(var e=t.e*Fe,n=t.d[0];n>=10;n/=10)e++;return e}function Ny(t,e,n){if(e>t.LN10.sd())throw We=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function Ji(t){for(var e="";t--;)e+="0";return e}function xc(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,p=t,g=p.d,v=p.constructor,m=v.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Ln))return new v(0);if(e==null?(We=!1,u=m):u=e,p.eq(10))return e==null&&(We=!0),Ny(v,u);if(u+=h,v.precision=u,n=Fr(g),r=n.charAt(0),o=vt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Fr(p.d),r=n.charAt(0),f++;o=vt(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=Ny(v,u+2,m).times(o+""),p=xc(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=m,e==null?(We=!0,De(p,m)):p;for(a=s=p=_i(p.minus(Ln),p.plus(Ln),u),c=De(p.times(p),u),i=3;;){if(s=De(s.times(c),u),l=a.plus(_i(s,new v(i),u)),Fr(l.d).slice(0,u)===Fr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Ny(v,u+2,m).times(o+""))),a=_i(a,new v(f),u),v.precision=m,e==null?(We=!0,De(a,m)):a;a=l,i+=2}}function RP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Il(n/Fe),t.d=[],r=(n+1)%Fe,n<0&&(r+=Fe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Fe;r<i;)t.d.push(+e.slice(r,r+=Fe));e=e.slice(r),r=Fe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),We&&(t.e>ep||t.e<-ep))throw Error(ob+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Fe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Fe),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Fe,i=r-Fe+s}if(n!==void 0&&(o=os(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/os(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=vt(t),f.length=1,e=e-o-1,f[0]=os(10,(Fe-e%Fe)%Fe),t.e=Il(-e/Fe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=os(10,Fe-r),f[c]=i>0?(u/os(10,s-i)%os(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Pt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Pt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(We&&(t.e>ep||t.e<-ep))throw Error(ob+vt(t));return t}function Qj(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),We?De(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/Fe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Pt-1;--l[o],l[i]+=Pt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,We?De(e,p):e):new h(0)}function Vs(t,e,n){var r,i=vt(t),o=Fr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ji(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ji(-i-1)+o,n&&(r=n-s)>0&&(o+=Ji(r))):i>=s?(o+=Ji(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ji(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ji(r))),t.s<0?"-"+o:o}function DP(t,e){if(t.length>e)return t.length=e,!0}function Xj(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return RP(s,o.toString())}else if(typeof o!="string")throw Error(bs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,FX.test(o))RP(s,o);else throw Error(bs+o)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xj,i.config=i.set=BX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function BX(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Il(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bs+n+": "+r);return this}var sb=Xj(UX);Ln=new sb(1);const Pe=sb;var zX=t=>t,Jj={"@@functional/placeholder":!0},Zj=t=>t===Jj,jP=t=>function e(){return arguments.length===0||arguments.length===1&&Zj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eM=(t,e)=>t===1?e:jP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==Jj).length;return o>=t?e(...r):eM(t-o,jP(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>Zj(c)?a.shift():c);return e(...u,...a)}))}),zm=t=>eM(t.length,t),F0=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},WX=zm((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),KX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},B0=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tM=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,a)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function nM(t){var e;return t===0?e=1:e=Math.floor(new Pe(t).abs().log(10).toNumber())+1,e}function rM(t,e,n){for(var r=new Pe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}zm((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});zm((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});zm((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var iM=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},oM=(t,e,n)=>{if(t.lte(0))return new Pe(0);var r=nM(t.toNumber()),i=new Pe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Pe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?new Pe(l.toNumber()):new Pe(Math.ceil(l.toNumber()))},HX=(t,e,n)=>{var r=new Pe(1),i=new Pe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pe(10).pow(nM(t)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pe(Math.floor(t)))}else t===0?i=new Pe(Math.floor((e-1)/2)):n||(i=new Pe(Math.floor(t)));var s=Math.floor((e-1)/2),a=KX(WX(l=>i.add(new Pe(l-s).mul(r)).toNumber()),F0);return a(0,e)},sM=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var s=oM(new Pe(n).sub(e).div(r-1),i,o),a;e<=0&&n>=0?a=new Pe(0):(a=new Pe(e).add(n).div(2),a=a.sub(new Pe(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new Pe(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?sM(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new Pe(l).mul(s)),tickMax:a.add(new Pe(u).mul(s))})};function qX(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=iM([e,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...F0(0,r-1).map(()=>1/0)]:[...F0(0,r-1).map(()=>-1/0),a];return e>n?B0(l):l}if(s===a)return HX(s,r,i);var{step:u,tickMin:c,tickMax:f}=sM(s,a,o,i,0),h=rM(c,f.add(new Pe(.1).mul(u)),u);return e>n?B0(h):h}function GX(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=iM([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(e,2),l=oM(new Pe(s).sub(o).div(a-1),i,0),u=[...rM(new Pe(o),new Pe(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?B0(u):u}var YX=tM(qX),QX=tM(GX),aM=t=>t.rootProps.maxBarSize,XX=t=>t.rootProps.barGap,lM=t=>t.rootProps.barCategoryGap,JX=t=>t.rootProps.barSize,ed=t=>t.rootProps.stackOffset,ab=t=>t.options.chartName,lb=t=>t.rootProps.syncId,uM=t=>t.rootProps.syncMethod,ub=t=>t.options.eventEmitter,ai={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Rn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Wm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ZX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ai.angleAxisId,includeHidden:!1,name:void 0,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:void 0,ticks:void 0,type:ai.type,unit:void 0},eJ={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rn.scale,tick:Rn.tick,tickCount:Rn.tickCount,ticks:void 0,type:Rn.type,unit:void 0},tJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nJ={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rn.scale,tick:Rn.tick,tickCount:Rn.tickCount,ticks:void 0,type:"category",unit:void 0},cb=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?tJ:ZX,db=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?nJ:eJ,Km=t=>t.polarOptions,fb=V([Li,Vi,Et],jD),cM=V([Km,fb],(t,e)=>{if(t!=null)return mn(t.innerRadius,e,0)}),dM=V([Km,fb],(t,e)=>{if(t!=null)return mn(t.outerRadius,e,e*.8)}),rJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},fM=V([Km],rJ);V([cb,fM],Wm);var hM=V([fb,cM,dM],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([db,hM],Wm);var iJ=V([ke,Km,cM,dM,Li,Vi],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=e;return{cx:mn(s,i,i/2),cy:mn(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),ut=(t,e)=>e,td=(t,e,n)=>n;function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ui=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??kn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dm},Go=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??On},lJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hb=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??lJ},ct=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Go(t,n);case"zAxis":return hb(t,n);case"angleAxis":return cb(t,n);case"radiusAxis":return db(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uJ=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Go(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nd=(t,e,n)=>{switch(e){case"xAxis":return Ui(t,n);case"yAxis":return Go(t,n);case"angleAxis":return cb(t,n);case"radiusAxis":return db(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pM=t=>t.graphicalItems.countOfBars>0;function pb(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var mb=t=>t.graphicalItems.cartesianItems,cJ=V([ut,td],pb),gb=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),rd=V([mb,ct,cJ],gb),mM=t=>t.filter(e=>e.stackId===void 0),dJ=V([rd],mM),yb=t=>t.map(e=>e.data).filter(Boolean).flat(1),fJ=V([rd],yb),vb=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Hm=V([fJ,Hj],vb),wb=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:nt(i,r)}))):t.map(r=>({value:r})),qm=V([Hm,ct,rd],wb);function gM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Xs(t){return t.filter(e=>Xr(e)||e instanceof Date).map(Number).filter(e=>Kn(e)===!1)}function hJ(t,e,n){return!n||typeof e!="number"||Kn(e)?[]:n.length?Xs(n.flatMap(r=>{var i=nt(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Gn(o)||!Gn(s)))return[e-o,e+s]})):[]}var yM=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(u=>u.dataKey);return[s,{stackedData:Mq(t,l,n),graphicalItems:a}]}))},W0=V([Hm,rd,ed],yM),vM=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=Uq(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},pJ=V([W0,Qs,ut],vM),wM=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var s,a,l=(s=o.errorBars)===null||s===void 0?void 0:s.filter(c=>gM(r,c)),u=nt(i,(a=e.dataKey)!==null&&a!==void 0?a:o.dataKey);return{value:u,errorDomain:hJ(i,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:nt(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),mJ=V(Hm,ct,dJ,ut,wM);function gJ(t){var{value:e}=t;if(Xr(e)||e instanceof Date)return e}var yJ=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Xs(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vJ=(t,e,n)=>{var r=t.map(gJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&vR(r))?dj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_b=t=>{var e;if(t==null||!("domain"in t))return z0;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Xs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:z0},bb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},_M=t=>t.referenceElements.dots,Cl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),wJ=V([_M,ut,td],Cl),bM=t=>t.referenceElements.areas,_J=V([bM,ut,td],Cl),xM=t=>t.referenceElements.lines,bJ=V([xM,ut,td],Cl),EM=(t,e)=>{var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xJ=V(wJ,ut,EM),TM=(t,e)=>{var n=Xs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EJ=V([_J,ut],TM),AM=(t,e)=>{var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TJ=V(bJ,ut,AM),AJ=V(xJ,TJ,EJ,(t,e,n)=>bb(t,n,e)),SM=V([ct],_b),xb=(t,e,n,r,i)=>{var o=VX(e,t.allowDataOverflow);return o??$X(e,bb(n,i,yJ(r)),t.allowDataOverflow)},SJ=V([ct,SM,pJ,mJ,AJ],xb),PJ=[0,1],Eb=(t,e,n,r,i,o,s)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:a,type:l}=t,u=qs(e,o);return u&&a==null?dj(0,n.length):l==="category"?vJ(r,t,u):i==="expand"?PJ:s}},Tb=V([ct,ke,Hm,qm,ed,ut,SJ],Eb),PM=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(qc(o));return a in bu?a:"point"}}},kl=V([ct,ke,pM,ab,ut],PM);function IJ(t){if(t!=null){if(t in bu)return bu[t]();var e="scale".concat(qc(t));if(e in bu)return bu[e]()}}function Ab(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=IJ(e);if(i!=null){var o=i.domain(n).range(r);return Oq(o),o}}}var Sb=(t,e,n)=>{var r=_b(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(t))return YX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ul(t))return QX(t,e.tickCount,e.allowDecimals)}},Pb=V([Tb,nd,kl],Sb),Ib=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ul(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return e},CJ=V([ct,Tb,Pb,ut],Ib),kJ=V(qm,ct,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xs(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),IM=V(kJ,ke,lM,Et,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Gn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=mn(n,t*o),a=t*o/2;return a-s-(a-s)/o*s}return 0}),OJ=(t,e)=>{var n=Ui(t,e);return n==null||typeof n.padding!="string"?0:IM(t,"xAxis",e,n.padding)},NJ=(t,e)=>{var n=Go(t,e);return n==null||typeof n.padding!="string"?0:IM(t,"yAxis",e,n.padding)},RJ=V(Ui,OJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),DJ=V(Go,NJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),jJ=V([Et,RJ,Mm,jm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),MJ=V([Et,ke,DJ,Mm,jm,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),id=(t,e,n,r)=>{var i;switch(e){case"xAxis":return jJ(t,n,r);case"yAxis":return MJ(t,n,r);case"zAxis":return(i=hb(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return fM(t);case"radiusAxis":return hM(t,n);default:return}},CM=V([ct,id],Wm),Ol=V([ct,kl,CJ,CM],Ab);V(rd,ut,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>gM(e,n)));function kM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Gm=(t,e)=>e,Ym=(t,e,n)=>n,LJ=V(k1,Gm,Ym,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kM)),VJ=V(O1,Gm,Ym,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kM)),OM=(t,e)=>({width:t.width,height:e.height}),$J=(t,e)=>{var n=typeof e.width=="number"?e.width:Dm;return{width:n,height:t.height}},NM=V(Et,Ui,OM),UJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},FJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},BJ=V(Vi,Et,LJ,Gm,Ym,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=OM(e,a);s==null&&(s=UJ(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),zJ=V(Li,Et,VJ,Gm,Ym,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=$J(e,a);s==null&&(s=FJ(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),WJ=(t,e)=>{var n=Et(t),r=Ui(t,e);if(r!=null){var i=BJ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},KJ=(t,e)=>{var n=Et(t),r=Go(t,e);if(r!=null){var i=zJ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},RM=V(Et,Go,(t,e)=>{var n=typeof e.width=="number"?e.width:Dm;return{width:n,height:t.height}}),LP=(t,e,n)=>{switch(e){case"xAxis":return NM(t,n).width;case"yAxis":return RM(t,n).height;default:return}},DM=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=qs(t,r),l=e.map(u=>u.value);if(s&&a&&o==="category"&&i&&vR(l))return l}},Cb=V([ke,qm,ct,ut],DM),jM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=qs(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(a=>a.value)}},kb=V([ke,qm,nd,ut],jM),VP=V([ke,uJ,kl,Ol,Cb,kb,id,Pb,ut],(t,e,n,r,i,o,s,a,l)=>{if(e==null)return null;var u=qs(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}),HJ=(t,e,n,r,i,o,s,a,l)=>{if(!(e==null||r==null)){var u=qs(t,l),{type:c,ticks:f,tickCount:h}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&o!=null&&o.length>=2?Ot(o[0]-o[1])*2*g:g;var v=f||i;if(v){var m=v.map((y,b)=>{var E=s?s.indexOf(y):y;return{index:b,coordinate:r(E)+g,value:y,offset:g}});return m.filter(y=>!Kn(y.coordinate))}return u&&a?a.map((y,b)=>({coordinate:r(y)+g,value:y,index:b,offset:g})):r.ticks?r.ticks(h).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,b)=>({coordinate:r(y)+g,value:s?s[y]:y,index:b,offset:g}))}},MM=V([ke,nd,kl,Ol,Pb,id,Cb,kb,ut],HJ),qJ=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=qs(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ot(r[0]-r[1])*2*u:u,a&&o?o.map((c,f)=>({coordinate:n(c)+u,value:c,index:f,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,f)=>({coordinate:n(c)+u,value:i?i[c]:c,index:f,offset:u}))}},cl=V([ke,nd,Ol,id,Cb,kb,ut],qJ),Lo=V(ct,Ol,(t,e)=>{if(!(t==null||e==null))return tp(tp({},t),{},{scale:e})}),GJ=V([ct,kl,Tb,CM],Ab);V((t,e,n)=>hb(t,n),GJ,(t,e)=>{if(!(t==null||e==null))return tp(tp({},t),{},{scale:e})});var YJ=V([ke,k1,O1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LM=t=>t.options.defaultTooltipEventType,VM=t=>t.options.validateTooltipEventTypes;function $M(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Ob(t,e){var n=LM(t),r=VM(t);return $M(e,n,r)}function QJ(t){return ie(e=>Ob(e,t))}var UM=(t,e)=>{var n,r=Number(e);if(!(Kn(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},XJ=t=>t.tooltip.settings,so={active:!1,index:null,dataKey:void 0,coordinate:void 0},JJ={itemInteraction:{click:so,hover:so},axisInteraction:{click:so,hover:so},keyboardInteraction:so,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FM=hr({name:"tooltip",initialState:JJ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=wi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ZJ,removeTooltipEntrySettings:eZ,setTooltipSettingsState:tZ,setActiveMouseOverItemIndex:BM,mouseLeaveItem:nZ,mouseLeaveChart:zM,setActiveClickItemIndex:rZ,setMouseOverAxisIndex:WM,setMouseClickAxisIndex:iZ,setSyncInteraction:K0,setKeyboardInteraction:H0}=FM.actions,oZ=FM.reducer;function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){sZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sZ(t,e,n){return(e=aZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=lZ(t,"string");return typeof e=="symbol"?e:e+""}function lZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uZ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cZ(t){return t.index!=null}var KM=(t,e,n,r)=>{if(e==null)return so;var i=uZ(t,e,n);if(i==null)return so;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(cZ(i)){if(o)return uf(uf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return uf(uf({},so),{},{coordinate:i.coordinate})},Nb=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Gn(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},HM=(t,e,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},qM=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},od=t=>t.options.tooltipPayloadSearcher,Nl=t=>t.tooltip;function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){dZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e,n){return(e=fZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t){var e=hZ(t,"string");return typeof e=="symbol"?e:e+""}function hZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pZ(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function mZ(t,e){return t??e}var GM=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((h,p)=>{var g,{dataDefinedOnItem:v,settings:m}=p,y=mZ(v,a),b=pZ(y,u,c),E=(g=m==null?void 0:m.dataKey)!==null&&g!==void 0?g:r==null?void 0:r.dataKey,I=m==null?void 0:m.nameKey,R;if(r!=null&&r.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?R=RW(b,r.dataKey,i):R=o(b,e,l,I),Array.isArray(R))R.forEach(A=>{var S=FP(FP({},m),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(NS({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:nt(A.payload,A.dataKey),name:A.name}))});else{var C;h.push(NS({tooltipEntrySettings:m,dataKey:E,payload:R,value:nt(R,E),name:(C=nt(R,I))!==null&&C!==void 0?C:m==null?void 0:m.name}))}return h},f)}},jt=t=>{var e=ke(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rl=t=>t.tooltip.settings.axisId,Wt=t=>{var e=jt(t),n=Rl(t);return nd(t,e,n)},Rb=V([Wt,ke,pM,ab,jt],PM),gZ=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),yZ=V([jt,Rl],pb),Qm=V([gZ,Wt,yZ],gb),vZ=V([Qm],yb),Js=V([vZ,Qs],vb),Db=V([Js,Wt,Qm],wb),wZ=V([Wt],_b),_Z=V([Js,Qm,ed],yM),bZ=V([_Z,Qs,jt],vM),xZ=V([Qm],mM),EZ=V([Js,Wt,xZ,jt],wM),TZ=V([_M,jt,Rl],Cl),AZ=V([TZ,jt],EM),SZ=V([bM,jt,Rl],Cl),PZ=V([SZ,jt],TM),IZ=V([xM,jt,Rl],Cl),CZ=V([IZ,jt],AM),kZ=V([AZ,CZ,PZ],bb),OZ=V([Wt,wZ,bZ,EZ,kZ],xb),YM=V([Wt,ke,Js,Db,ed,jt,OZ],Eb),NZ=V([YM,Wt,Rb],Sb),RZ=V([Wt,YM,NZ,jt],Ib),QM=t=>{var e=jt(t),n=Rl(t),r=!1;return id(t,e,n,r)},XM=V([Wt,QM],Wm),JM=V([Wt,Rb,RZ,XM],Ab),DZ=V([ke,Db,Wt,jt],DM),jZ=V([ke,Db,Wt,jt],jM),MZ=(t,e,n,r,i,o,s,a)=>{if(e){var{type:l}=e,u=qs(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ot(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:o?o[h]:h,index:p,offset:f}))}}},Fi=V([ke,Wt,Rb,JM,QM,DZ,jZ,jt],MZ),jb=V([LM,VM,XJ],(t,e,n)=>$M(n.shared,t,e)),ZM=t=>t.tooltip.settings.trigger,Mb=t=>t.tooltip.settings.defaultIndex,Xm=V([Nl,jb,ZM,Mb],KM),$s=V([Xm,Js],Nb),eL=V([Fi,$s],UM),tL=V([Xm],t=>{if(t)return t.dataKey}),nL=V([Nl,jb,ZM,Mb],qM),LZ=V([Li,Vi,ke,Et,Fi,Mb,nL,od],HM),VZ=V([Xm,LZ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),$Z=V([Xm],t=>t.active),UZ=V([nL,$s,Qs,Wt,eL,od,jb],GM);V([UZ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){FZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FZ(t,e,n){return(e=BZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BZ(t){var e=zZ(t,"string");return typeof e=="symbol"?e:e+""}function zZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WZ=()=>ie(Wt),KZ=()=>{var t=WZ(),e=ie(Fi),n=ie(JM);return C1(zP(zP({},t),{},{scale:n}),e)},HZ=()=>ie(ab),Lb=(t,e)=>e,rL=(t,e,n)=>n,Vb=(t,e,n,r)=>r,qZ=V(Fi,t=>Sm(t,e=>e.coordinate)),$b=V([Nl,Lb,rL,Vb],KM),iL=V([$b,Js],Nb),GZ=(t,e,n)=>{if(e!=null){var r=Nl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},oL=V([Nl,Lb,rL,Vb],qM),np=V([Li,Vi,ke,Et,Fi,Vb,oL,od],HM),YZ=V([$b,np],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),sL=V(Fi,iL,UM),QZ=V([oL,iL,Qs,Wt,sL,od,Lb],GM),XZ=V([$b],t=>({isActive:t.active,activeIndex:t.index})),JZ=(t,e,n,r,i,o,s,a)=>{if(!(!t||!e||!r||!i||!o)){var l=Fq(t.chartX,t.chartY,e,n,a);if(l){var u=zq(l,e),c=Cq(u,s,o,r,i),f=Bq(e,o,c,l);return{activeIndex:String(c),activeCoordinate:f}}}};function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(null,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eee(t){var e=tee(t,"string");return typeof e=="symbol"?e:e+""}function tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nee(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=t,c=e,f=n,h=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,g;if(u==="ScatterChart")p=c,g=SG;else if(u==="BarChart")p=PG(s,c,i,o),g=ij;else if(s==="radial"){var{cx:v,cy:m,radius:y,startAngle:b,endAngle:E}=oj(c);p={cx:v,cy:m,startAngle:b,endAngle:E,innerRadius:y,outerRadius:y},g=aj}else p={points:lY(s,c,i)},g=QD;var I=typeof a=="object"&&"className"in a?a.className:void 0,R=cf(cf(cf(cf({stroke:"#ccc",pointerEvents:"none"},i),p),Ie(a,!1)),{},{payload:f,payloadIndex:h,className:Oe("recharts-tooltip-cursor",I)});return x.isValidElement(a)?x.cloneElement(a,R):x.createElement(g,R)}function ree(t){var e=KZ(),n=zD(),r=R1(),i=HZ();return x.createElement(nee,q0({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var aL=x.createContext(null),iee=()=>x.useContext(aL),lL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var m=this._events[v],y=arguments.length,b,E;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,h),!0;case 5:return m.fn.call(m.context,c,f,h,p),!0;case 6:return m.fn.call(m.context,c,f,h,p,g),!0}for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];m.fn.apply(m.context,b)}else{var I=m.length,R;for(E=0;E<I;E++)switch(m[E].once&&this.removeListener(u,m[E].fn,void 0,!0),y){case 1:m[E].fn.call(m[E].context);break;case 2:m[E].fn.call(m[E].context,c);break;case 3:m[E].fn.call(m[E].context,c,f);break;case 4:m[E].fn.call(m[E].context,c,f,h);break;default:if(!b)for(R=1,b=new Array(y-1);R<y;R++)b[R-1]=arguments[R];m[E].fn.apply(m[E].context,b)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var v=0,m=[],y=g.length;v<y;v++)(g[v].fn!==c||h&&!g[v].once||f&&g[v].context!==f)&&m.push(g[v]);m.length?this._events[p]=m.length===1?m[0]:m:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(lL);var oee=lL.exports;const see=Zr(oee);var Ec=new see,G0="recharts.syncEvent.tooltip",KP="recharts.syncEvent.brush";function uL(t,e){if(e){var n=Number.parseInt(e,10);if(!Kn(n))return t==null?void 0:t[n]}}var aee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cL=hr({name:"options",initialState:aee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lee=cL.reducer,{createEventEmitter:uee}=cL.actions;function cee(t){return t.tooltip.syncInteraction}var dee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dL=hr({name:"chartData",initialState:dee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:HP,setDataStartEndIndexes:fee,setComputedData:Gse}=dL.actions,hee=dL.reducer,fL=()=>{};function pee(){var t=ie(lb),e=ie(ub),n=st(),r=ie(uM),i=ie(Fi),o=R1(),s=N1(),a=ie(l=>l.rootProps.className);x.useEffect(()=>{if(t==null)return fL;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){n(c);return}if(i!=null){var h;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},g=r(i,p);h=i[g]}else r==="value"&&(h=i.find(C=>String(C.value)===c.payload.label));var{coordinate:v}=c.payload;if(h==null||c.payload.active===!1||v==null||s==null){n(K0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:m,y}=v,b=Math.min(m,s.x+s.width),E=Math.min(y,s.y+s.height),I={x:o==="horizontal"?h.coordinate:b,y:o==="horizontal"?E:h.coordinate},R=K0({active:c.payload.active,coordinate:I,dataKey:c.payload.dataKey,index:String(h.index),label:c.payload.label});n(R)}}};return Ec.on(G0,l),()=>{Ec.off(G0,l)}},[a,n,e,t,r,i,o,s])}function mee(){var t=ie(lb),e=ie(ub),n=st();x.useEffect(()=>{if(t==null)return fL;var r=(i,o,s)=>{e!==s&&t===i&&n(fee(o))};return Ec.on(KP,r),()=>{Ec.off(KP,r)}},[n,e,t])}function gee(){var t=st();x.useEffect(()=>{t(uee())},[t]),pee(),mee()}function yee(t,e,n,r,i,o){var s=ie(h=>GZ(h,t,e)),a=ie(ub),l=ie(lb),u=ie(uM),c=ie(cee),f=c==null?void 0:c.active;x.useEffect(()=>{if(!f&&l!=null&&a!=null){var h=K0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Ec.emit(G0,l,h,a)}},[f,n,s,i,r,a,l,u,o])}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bee(t){return t.dataKey}function xee(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(iG,e)}var YP=[],Eee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Al.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ry(t){var e=jr(t,Eee),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:m,trigger:y,defaultIndex:b,portal:E,axisId:I}=e,R=st(),C=typeof b=="number"?String(b):b;x.useEffect(()=>{R(tZ({shared:m,trigger:y,axisId:I,active:n,defaultIndex:C}))},[R,m,y,I,n,C]);var A=N1(),S=YD(),P=QJ(m),{activeIndex:O,isActive:N}=ie(Je=>XZ(Je,P,y,C)),j=ie(Je=>QZ(Je,P,y,C)),D=ie(Je=>sL(Je,P,y,C)),W=ie(Je=>YZ(Je,P,y,C)),J=j,te=iee(),U=n??N,[L,B]=wH([J,U]),Y=P==="axis"?D:void 0;yee(P,y,W,Y,O,U);var se=E??te;if(se==null)return null;var q=J??YP;U||(q=YP),a&&q.length&&(q=LK(J.filter(Je=>Je.value!=null&&(Je.hide!==!0||e.includeHidden)),c,bee));var fe=q.length>0,an=x.createElement(dG,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:U,coordinate:W,hasPayload:fe,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:A,wrapperStyle:g,lastBoundingBox:L,innerRef:B,hasPortalFromProps:!!E},xee(s,GP(GP({},e),{},{payload:q,label:Y,active:U,coordinate:W,accessibilityLayer:S})));return x.createElement(x.Fragment,null,eO.createPortal(an,se),U&&x.createElement(ree,{cursor:v,tooltipEventType:P,coordinate:W,payload:J,index:O}))}var hL={},pL={},mL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},f=()=>{u&&c(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),s=void 0,a=null},m=()=>{c()},y=function(...b){if(i!=null&&i.aborted)return;s=this,a=b;const E=h==null;p(),l&&E&&c()};return y.schedule=p,y.cancel=v,y.flush=m,i==null||i.addEventListener("abort",v,{once:!0}),y}t.debounce=e})(mL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,f=null;const h=e.debounce(function(...v){c=r.apply(this,v),f=null},i,{edges:u}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,v),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}t.debounce=n})(pL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pL;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:a})}t.throttle=n})(hL);var Tee=hL.throttle;const Aee=Zr(Tee);var Uu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jy=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:f,className:h,onResize:p,style:g={}}=t,v=x.useRef(null),m=x.useRef();m.current=p,x.useImperativeHandle(e,()=>v.current);var[y,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),E=x.useCallback((R,C)=>{b(A=>{var S=Math.round(R),P=Math.round(C);return A.containerWidth===S&&A.containerHeight===P?A:{containerWidth:S,containerHeight:P}})},[]);x.useEffect(()=>{var R=P=>{var O,{width:N,height:j}=P[0].contentRect;E(N,j),(O=m.current)===null||O===void 0||O.call(m,N,j)};c>0&&(R=Aee(R,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(R),{width:A,height:S}=v.current.getBoundingClientRect();return E(A,S),C.observe(v.current),()=>{C.disconnect()}},[E,c]);var I=x.useMemo(()=>{var{containerWidth:R,containerHeight:C}=y;if(R<0||C<0)return null;Uu(cs(i)||cs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Uu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var A=cs(i)?R:i,S=cs(o)?C:o;return n&&n>0&&(A?S=A/n:S&&(A=S*n),l&&S>l&&(S=l)),Uu(A>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,S,i,o,s,a,n),x.Children.map(u,P=>x.cloneElement(P,{width:A,height:S,style:Dy({width:A,height:S},P.props.style)}))},[n,u,o,l,a,s,y,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:Oe("recharts-responsive-container",h),style:Dy(Dy({},g),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:v},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),sd=t=>null;sd.displayName="Cell";function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oa={widthCache:{},cacheCount:0},Nee=2e3,Ree={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JP="recharts_measurement_span";function Dee(t){var e=Y0({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Fu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Al.isSsr)return{width:0,height:0};var r=Dee(n),i=JSON.stringify({text:e,copyStyle:r});if(oa.widthCache[i])return oa.widthCache[i];try{var o=document.getElementById(JP);o||(o=document.createElement("span"),o.setAttribute("id",JP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Y0(Y0({},Ree),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return oa.widthCache[i]=l,++oa.cacheCount>Nee&&(oa.cacheCount=0,oa.widthCache={}),l}catch{return{width:0,height:0}}},ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lee=Object.keys(gL),Ta="NaN";function Vee(t,e){return t*gL[e]}class wn{static parse(e){var n,[,r,i]=(n=Mee.exec(e))!==null&&n!==void 0?n:[];return new wn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Kn(e)&&(this.unit=""),n!==""&&!jee.test(n)&&(this.num=NaN,this.unit=""),Lee.includes(n)&&(this.num=Vee(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wn(NaN,""):new wn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wn(NaN,""):new wn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wn(NaN,""):new wn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wn(NaN,""):new wn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kn(this.num)}}function yL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=ZP.exec(e))!==null&&n!==void 0?n:[],s=wn.parse(r??""),a=wn.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return Ta;e=e.replace(ZP,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,h]=(u=eI.exec(e))!==null&&u!==void 0?u:[],p=wn.parse(c??""),g=wn.parse(h??""),v=f==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Ta;e=e.replace(eI,v.toString())}return e}var tI=/\(([^()]*)\)/;function $ee(t){for(var e=t,n;(n=tI.exec(e))!=null;){var[,r]=n;e=e.replace(tI,yL(r))}return e}function Uee(t){var e=t.replace(/\s+/g,"");return e=$ee(e),e=yL(e),e}function Fee(t){try{return Uee(t)}catch{return Ta}}function My(t){var e=Fee(t.slice(5,-1));return e===Ta?"":e}var Bee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zee=["dx","dy","angle","className","breakAll"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(null,arguments)}function nI(t,e){if(t==null)return{};var n,r,i=Wee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,wL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];yt(e)||(n?i=e.toString().split(""):i=e.toString().split(vL));var o=i.map(a=>({word:a,width:Fu(a,r).width})),s=n?0:Fu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Kee=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=t,u=ne(o),c=s,f=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((j,D)=>{var{word:W,width:J}=D,te=j[j.length-1];if(te&&(r==null||i||te.width+J+n<Number(r)))te.words.push(W),te.width+=J+n;else{var U={words:[W],width:J};j.push(U)}return j},[])},h=f(e),p=O=>O.reduce((N,j)=>N.width>j.width?N:j);if(!u||i)return h;var g=h.length>o||p(h).width>Number(r);if(!g)return h;for(var v="",m=O=>{var N=c.slice(0,O),j=wL({breakAll:l,style:a,children:N+v}).wordsWithComputedWidth,D=f(j),W=D.length>o||p(D).width>Number(r);return[W,D]},y=0,b=c.length-1,E=0,I;y<=b&&E<=c.length-1;){var R=Math.floor((y+b)/2),C=R-1,[A,S]=m(C),[P]=m(R);if(!A&&!P&&(y=R+1),A&&P&&(b=R-1),!A&&P){I=S;break}E++}return I||h},rI=t=>{var e=yt(t)?[]:t.toString().split(vL);return[{words:e}]},Hee=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Al.isSsr){var a,l,u=wL({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;a=c,l=f}else return rI(r);return Kee({breakAll:o,children:r,maxLines:s,style:i},a,l,e,n)}return rI(r)},iI="#808080",Jm=x.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=iI}=t,c=nI(t,Bee),f=x.useMemo(()=>Hee({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:h,dy:p,angle:g,className:v,breakAll:m}=c,y=nI(c,zee);if(!Xr(n)||!Xr(r))return null;var b=n+(ne(h)?h:0),E=r+(ne(p)?p:0),I;switch(l){case"start":I=My("calc(".concat(o,")"));break;case"middle":I=My("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:I=My("calc(".concat(f.length-1," * -").concat(i,")"));break}var R=[];if(s){var C=f[0].width,{width:A}=c;R.push("scale(".concat(ne(A)?A/C:1,")"))}return g&&R.push("rotate(".concat(g,", ").concat(b,", ").concat(E,")")),R.length&&(y.transform=R.join(" ")),x.createElement("text",Q0({},Ie(y,!0),{ref:e,x:b,y:E,className:Oe("recharts-text",v),textAnchor:a,fill:u.includes("url")?iI:u}),f.map((S,P)=>{var O=S.words.join(m?"":" ");return x.createElement("tspan",{x:b,dy:P===0?I:i,key:"".concat(O,"-").concat(P)},O)}))});Jm.displayName="Text";var qee=["offset"],Gee=["labelRef"];function oI(t,e){if(t==null)return{};var n,r,i=Yee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},li.apply(null,arguments)}var Zee=t=>{var{value:e,formatter:n}=t,r=yt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Ub=t=>t!=null&&typeof t=="function",ete=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),360);return n*r},tte=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:s}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=i,g=(u+c)/2,v=ete(f,h),m=v>=0?1:-1,y,b;r==="insideStart"?(y=f+m*o,b=p):r==="insideEnd"?(y=h-m*o,b=!p):r==="end"&&(y=h+m*o,b=p),b=v<=0?b:!b;var E=gt(a,l,g,y),I=gt(a,l,g,y+(b?1:-1)*359),R="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(I.x,",").concat(I.y),C=yt(t.id)?tl("recharts-radial-line-"):t.id;return x.createElement("text",li({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:C,d:R})),x.createElement("textPath",{xlinkHref:"#".concat(C)},e))},nte=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:f,y:h}=gt(i,o,a+n,c);return{x:f,y:h,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:g,y:v}=gt(i,o,p,c);return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},rte=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:a,height:l}=e,u=l>=0?1:-1,c=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=a>=0?1:-1,g=p*r,v=p>0?"end":"start",m=p>0?"start":"end";if(i==="top"){var y={x:o+a/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f};return dt(dt({},y),n?{height:Math.max(s-n.y,0),width:a}:{})}if(i==="bottom"){var b={x:o+a/2,y:s+l+c,textAnchor:"middle",verticalAnchor:h};return dt(dt({},b),n?{height:Math.max(n.y+n.height-(s+l),0),width:a}:{})}if(i==="left"){var E={x:o-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return dt(dt({},E),n?{width:Math.max(E.x-n.x,0),height:l}:{})}if(i==="right"){var I={x:o+a+g,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return dt(dt({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:l}:{})}var R=n?{width:a,height:l}:{};return i==="insideLeft"?dt({x:o+g,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},R):i==="insideRight"?dt({x:o+a-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},R):i==="insideTop"?dt({x:o+a/2,y:s+c,textAnchor:"middle",verticalAnchor:h},R):i==="insideBottom"?dt({x:o+a/2,y:s+l-c,textAnchor:"middle",verticalAnchor:f},R):i==="insideTopLeft"?dt({x:o+g,y:s+c,textAnchor:m,verticalAnchor:h},R):i==="insideTopRight"?dt({x:o+a-g,y:s+c,textAnchor:v,verticalAnchor:h},R):i==="insideBottomLeft"?dt({x:o+g,y:s+l-c,textAnchor:m,verticalAnchor:f},R):i==="insideBottomRight"?dt({x:o+a-g,y:s+l-c,textAnchor:v,verticalAnchor:f},R):i&&typeof i=="object"&&(ne(i.x)||cs(i.x))&&(ne(i.y)||cs(i.y))?dt({x:o+mn(i.x,a),y:s+mn(i.y,l),textAnchor:"end",verticalAnchor:"end"},R):dt({x:o+a/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},R)},ite=t=>"cx"in t&&ne(t.cx);function Dn(t){var{offset:e=5}=t,n=oI(t,qee),r=dt({offset:e},n),{viewBox:i,position:o,value:s,children:a,content:l,className:u="",textBreakAll:c,labelRef:f}=r,h=N1(),p=i||h;if(!p||yt(s)&&yt(a)&&!x.isValidElement(l)&&typeof l!="function")return null;if(x.isValidElement(l)){var g=oI(r,Gee);return x.cloneElement(l,g)}var v;if(typeof l=="function"){if(v=x.createElement(l,r),x.isValidElement(v))return v}else v=Zee(r);var m=ite(p),y=Ie(r,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tte(r,v,y);var b=m?nte(r):rte(r,p);return x.createElement(Jm,li({ref:f,className:Oe("recharts-label",u)},y,b,{breakAll:c}),v)}Dn.displayName="Label";var _L=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:a,innerRadius:l,outerRadius:u,x:c,y:f,top:h,left:p,width:g,height:v,clockWise:m,labelViewBox:y}=t;if(y)return y;if(ne(g)&&ne(v)){if(ne(c)&&ne(f))return{x:c,y:f,width:g,height:v};if(ne(h)&&ne(p))return{x:h,y:p,width:g,height:v}}if(ne(c)&&ne(f))return{x:c,y:f,width:0,height:0};if(ne(e)&&ne(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||a||s||0,clockWise:m};if(t.viewBox)return t.viewBox},ote=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Dn,li({key:"label-implicit"},r)):Xr(t)?x.createElement(Dn,li({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Dn?x.cloneElement(t,dt({key:"label-implicit"},r)):x.createElement(Dn,li({key:"label-implicit",content:t},r)):Ub(t)?x.createElement(Dn,li({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Dn,li({},t,{key:"label-implicit"},r)):null},ste=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=_L(e),a=Gc(i,Dn).map((u,c)=>x.cloneElement(u,{viewBox:n||s,key:"label-".concat(c)}));if(!r)return a;var l=ote(e.label,n||s,o);return[l,...a]};Dn.parseViewBox=_L;Dn.renderCallByParent=ste;var bL={},xL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(xL);var EL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(EL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL,n=EL,r=bm;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(bL);var ate=bL.last;const lte=Zr(ate);var ute=["valueAccessor"],cte=["data","dataKey","clockWise","id","textBreakAll"];function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(null,arguments)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uI(t,e){if(t==null)return{};var n,r,i=pte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mte=t=>Array.isArray(t.value)?lte(t.value):t.value;function xs(t){var{valueAccessor:e=mte}=t,n=uI(t,ute),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:a}=n,l=uI(n,cte);return!r||!r.length?null:x.createElement(gn,{className:"recharts-label-list"},r.map((u,c)=>{var f=yt(i)?e(u,c):nt(u&&u.payload,i),h=yt(s)?{}:{id:"".concat(s,"-").concat(c)};return x.createElement(Dn,rp({},Ie(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:a,viewBox:Dn.parseViewBox(yt(o)?u:lI(lI({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}xs.displayName="LabelList";function gte(t,e){return t?t===!0?x.createElement(xs,{key:"labelList-implicit",data:e}):x.isValidElement(t)||Ub(t)?x.createElement(xs,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(xs,rp({data:e},t,{key:"labelList-implicit"})):null:null}function yte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Gc(r,xs).map((s,a)=>x.cloneElement(s,{data:e,key:"labelList-".concat(a)}));if(!n)return i;var o=gte(t.label,e);return[o,...i]}xs.renderCallByParent=yte;var TL=t=>t.graphicalItems.polarItems,vte=V([ut,td],pb),Fb=V([TL,ct,vte],gb),wte=V([Fb],yb),Bb=V([wte,ib],vb),_te=V([Bb,ct,Fb],wb),bte=V([Bb,ct,Fb],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=nt(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),cI=()=>{},xte=V([ct,SM,cI,bte,cI],xb),AL=V([ct,ke,Bb,_te,ed,ut,xte],Eb),Ete=V([AL,ct,kl],Sb);V([ct,AL,Ete,ut],Ib);var Tte={radiusAxis:{},angleAxis:{}},Ate=hr({name:"polarAxis",initialState:Tte,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),Ste=Ate.reducer;function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zb=(t,e)=>e,kte=[],Wb=(t,e,n)=>(n==null?void 0:n.length)===0?kte:n,SL=V([ib,zb,Wb],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>fI(fI({},e.presentationProps),o.props))),i!=null)return i}),Ote=V([SL,zb,Wb],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var o,s=nt(r,e.nameKey,e.name),a;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:Rm(s,e.dataKey),color:a,payload:r,type:e.legendType}})}),Nte=V([TL,zb],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Rte=V([SL,Nte,Wb,Et],(t,e,n,r)=>{if(!(e==null||t==null))return Ene({offset:r,pieSettings:e,displayedData:t,cells:n})}),Dte={countOfBars:0,cartesianItems:[],polarItems:[]},PL=hr({name:"graphicalItems",initialState:Dte,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=wi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=wi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=wi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:jte,removeBar:Mte,addCartesianGraphicalItem:Lte,replaceCartesianGraphicalItem:Vte,removeCartesianGraphicalItem:$te,addPolarGraphicalItem:Ute,removePolarGraphicalItem:Fte}=PL.actions,Bte=PL.reducer;function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t){var e=st(),n=x.useRef(null);return x.useEffect(()=>{var r=pI(pI({},t),{},{stackId:VD(t.stackId)});n.current===null?e(Lte(r)):n.current!==r&&e(Vte({prev:n.current,next:r})),n.current=r},[e,t]),x.useEffect(()=>()=>{n.current&&(e($te(n.current)),n.current=null)},[e]),null}function qte(t){var e=st();return x.useEffect(()=>(e(Ute(t)),()=>{e(Fte(t))}),[e,t]),null}var IL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(IL);var Gte=IL.isPlainObject;const Yte=Zr(Gte);function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(null,arguments)}var mI=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Qte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xte=t=>{var e=jr(t,Qte),n=x.useRef(),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&i(m)}catch{}},[]);var{x:o,y:s,upperWidth:a,lowerWidth:l,height:u,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||u!==+u||a===0&&l===0||u===0)return null;var v=Oe("recharts-trapezoid",c);return g?x.createElement(Ls,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:a,lowerWidth:l,height:u,x:o,y:s},duration:h,animationEasing:f,isActive:g},m=>{var{upperWidth:y,lowerWidth:b,height:E,x:I,y:R}=m;return x.createElement(Ls,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},x.createElement("path",ip({},Ie(e,!0),{className:v,d:mI(I,R,y,b,E),ref:n})))}):x.createElement("g",null,x.createElement("path",ip({},Ie(e,!0),{className:v,d:mI(o,s,a,l,u)})))},Jte=["option","shapeType","propTransformer","activeClassName","isActive"];function Zte(t,e){if(t==null)return{};var n,r,i=ene(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ene(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e,n){return(e=nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ine(t,e){return op(op({},e),t)}function one(t,e){return t==="symbols"}function yI(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(ij,n);case"trapezoid":return x.createElement(Xte,n);case"sector":return x.createElement(aj,n);case"symbols":if(one(e))return x.createElement(VR,n);break;default:return null}}function sne(t){return x.isValidElement(t)?t.props:t}function CL(t){var{option:e,shapeType:n,propTransformer:r=ine,activeClassName:i="recharts-active-shape",isActive:o}=t,s=Zte(t,Jte),a;if(x.isValidElement(e))a=x.cloneElement(e,op(op({},s),sne(e)));else if(typeof e=="function")a=e(s);else if(Yte(e)&&typeof e!="boolean"){var l=r(e,s);a=x.createElement(yI,{shapeType:n,elementProps:l})}else{var u=s;a=x.createElement(yI,{shapeType:n,elementProps:u})}return o?x.createElement(gn,{className:i},a):a}var Kb=(t,e)=>{var n=st();return(r,i)=>o=>{t==null||t(r,i,o),n(BM({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Hb=t=>{var e=st();return(n,r)=>i=>{t==null||t(n,r,i),e(nZ())}},qb=(t,e)=>{var n=st();return(r,i)=>o=>{t==null||t(r,i,o),n(rZ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function kL(t){var{fn:e,args:n}=t,r=st(),i=In();return x.useEffect(()=>{if(!i){var o=e(n);return r(ZJ(o)),()=>{r(eZ(o))}}},[e,n,r,i]),null}var OL=()=>{};function ane(t){var{legendPayload:e}=t,n=st(),r=In();return x.useEffect(()=>r?OL:(n(qD(e)),()=>{n(GD(e))}),[n,r,e]),null}function lne(t){var{legendPayload:e}=t,n=st(),r=ie(ke);return x.useEffect(()=>r!=="centric"&&r!=="radial"?OL:(n(qD(e)),()=>{n(GD(e))}),[n,r,e]),null}function NL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(tl(e)),r=x.useRef(t);return r.current!==t&&(n.current=tl(e),r.current=t),n.current}var une=["onMouseEnter","onClick","onMouseLeave"];function cne(t,e){if(t==null)return{};var n,r,i=dne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zm(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(null,arguments)}function pne(t){var e=x.useMemo(()=>Ie(t,!1),[t]),n=x.useMemo(()=>Gc(t.children,sd),[t.children]),r=x.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=ie(o=>Ote(o,r,n));return x.createElement(lne,{legendPayload:i})}function mne(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:a,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r==null?void 0:r.map(c=>c.tooltipPayload),positions:r==null?void 0:r.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:Rm(a,e),hide:l,type:u,color:s,unit:""}}}var gne=(t,e)=>t>e?"start":t<e?"end":"middle",yne=(t,e,n)=>typeof e=="function"?e(t):mn(e,n,n*.8),vne=(t,e,n)=>{var{top:r,left:i,width:o,height:s}=e,a=jD(o,s),l=i+mn(t.cx,o,o/2),u=r+mn(t.cy,s,s/2),c=mn(t.innerRadius,a,0),f=yne(n,t.outerRadius,a),h=t.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},wne=(t,e)=>{var n=Ot(e-t),r=Math.min(Math.abs(e-t),360);return n*r},_ne=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Oe("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(QD,Us({},e,{type:"linear",className:n}))},bne=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=Oe("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Jm,Us({},e,{alignmentBaseline:"middle",className:i}),r)};function xne(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!e)return null;var a=Ie(n,!1),l=Ie(i,!1),u=Ie(o,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,v=gt(h.cx,h.cy,h.outerRadius+c,g),m=tt(tt(tt(tt({},a),h),{},{stroke:"none"},l),{},{index:p,textAnchor:gne(v.x,h.cx)},v),y=tt(tt(tt(tt({},a),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[gt(h.cx,h.cy,h.outerRadius,g),v],key:"line"});return x.createElement(gn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},o&&_ne(o,y),bne(i,m,nt(h,s)))});return x.createElement(gn,{className:"recharts-pie-labels"},f)}function RL(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,s=ie($s),{onMouseEnter:a,onClick:l,onMouseLeave:u}=i,c=cne(i,une),f=Kb(a,i.dataKey),h=Hb(u),p=qb(l,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((g,v)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var m=n&&String(v)===s,y=s?r:null,b=m?n:y,E=tt(tt({},g),{},{stroke:g.stroke,tabIndex:-1,[UD]:v,[FD]:i.dataKey});return x.createElement(gn,Us({tabIndex:-1,className:"recharts-pie-sector"},ym(c,g,v),{onMouseEnter:f(g,v),onMouseLeave:h(g,v),onClick:p(g,v),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(v)}),x.createElement(CL,Us({option:b,isActive:m,shapeType:"sector"},E)))}),x.createElement(xne,{sectors:e,props:i,showLabels:o}))}function Ene(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:s,startAngle:a,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=n,h=Math.abs(n.minAngle),p=wne(a,l),g=Math.abs(p),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,m=r.filter(C=>nt(C,u,0)!==0).length,y=(g>=360?m:m-1)*v,b=g-m*h-y,E=r.reduce((C,A)=>{var S=nt(A,u,0);return C+(ne(S)?S:0)},0),I;if(E>0){var R;I=r.map((C,A)=>{var S=nt(C,u,0),P=nt(C,c,A),O=vne(n,o,C),N=(ne(S)?S:0)/E,j,D=tt(tt({},C),i&&i[A]&&i[A].props);A?j=R.endAngle+Ot(p)*v*(S!==0?1:0):j=a;var W=j+Ot(p)*((S!==0?h:0)+N*b),J=(j+W)/2,te=(O.innerRadius+O.outerRadius)/2,U=[{name:P,value:S,payload:D,dataKey:u,type:f}],L=gt(O.cx,O.cy,te,J);return R=tt(tt(tt(tt({},n.presentationProps),{},{percent:N,cornerRadius:s,name:P,tooltipPayload:U,midAngle:J,middleRadius:te,tooltipPosition:L},D),O),{},{value:nt(C,u),startAngle:j,endAngle:W,payload:D,paddingAngle:Ot(p)*v}),R})}return I}function Tne(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:a,activeShape:l,inactiveShape:u,onAnimationStart:c,onAnimationEnd:f}=e,h=NL(e,"recharts-pie-"),p=n.current,[g,v]=x.useState(!0),m=x.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),y=x.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return x.createElement(Ls,{begin:o,duration:s,isActive:i,easing:a,from:{t:0},to:{t:1},onAnimationStart:y,onAnimationEnd:m,key:h},b=>{var{t:E}=b,I=[],R=r&&r[0],C=R.startAngle;return r.forEach((A,S)=>{var P=p&&p[S],O=S>0?Mo(A,"paddingAngle",0):0;if(P){var N=Xi(P.endAngle-P.startAngle,A.endAngle-A.startAngle),j=tt(tt({},A),{},{startAngle:C+O,endAngle:C+N(E)+O});I.push(j),C=j.endAngle}else{var{endAngle:D,startAngle:W}=A,J=Xi(0,D-W),te=J(E),U=tt(tt({},A),{},{startAngle:C+O,endAngle:C+te+O});I.push(U),C=U.endAngle}}),n.current=I,x.createElement(gn,null,x.createElement(RL,{sectors:I,activeShape:l,inactiveShape:u,allOtherPieProps:e,showLabels:!g}))})}function Ane(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=x.useRef(null),s=o.current;return n&&e&&e.length&&(!s||s!==e)?x.createElement(Tne,{props:t,previousSectorsRef:o}):x.createElement(RL,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Sne(t){var{hide:e,className:n,rootTabIndex:r}=t,i=Oe("recharts-pie",n);return e?null:x.createElement(gn,{tabIndex:r,className:i},x.createElement(Ane,t))}var DL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Al.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Pne(t){var e=jr(t,DL),n=x.useMemo(()=>Gc(t.children,sd),[t.children]),r=Ie(e,!1),i=x.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),o=ie(s=>Rte(s,i,n));return x.createElement(x.Fragment,null,x.createElement(kL,{fn:mne,args:tt(tt({},e),{},{sectors:o})}),x.createElement(Sne,Us({},e,{sectors:o})))}class Gb extends x.PureComponent{constructor(){super(...arguments),Zm(this,"id",tl("recharts-pie-"))}render(){return x.createElement(x.Fragment,null,x.createElement(qte,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),x.createElement(pne,this.props),x.createElement(Pne,this.props),this.props.children)}}Zm(Gb,"displayName","Pie");Zm(Gb,"defaultProps",DL);var Ine=V([Et],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Cne=V([Ine,Li,Vi],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),kne=t=>{var e=In();return ie(n=>Lo(n,"xAxis",t,e))},One=t=>{var e=In();return ie(n=>Lo(n,"yAxis",t,e))},jL=()=>ie(Cne),Nne=()=>{var t=st();return x.useEffect(()=>(t(jte()),()=>{t(Mte())})),null},Rne=["children"];function Dne(t,e){if(t==null)return{};var n,r,i=jne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wI=()=>{},ML=x.createContext({addErrorBar:wI,removeErrorBar:wI}),Mne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LL=x.createContext(Mne);function Lne(t){var{children:e}=t,n=Dne(t,Rne);return x.createElement(LL.Provider,{value:n},e)}var Vne=()=>x.useContext(LL),$ne=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:s,stackId:a,hide:l,type:u,barSize:c}=t,[f,h]=x.useState([]),p=x.useCallback(m=>{h(y=>[...y,m])},[h]),g=x.useCallback(m=>{h(y=>y.filter(b=>b!==m))},[h]),v=In();return x.createElement(ML.Provider,{value:{addErrorBar:p,removeErrorBar:g}},x.createElement(Hte,{type:u,data:s,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:f,stackId:a,hide:l,barSize:c,isPanorama:v}),e)};function Une(t){var{addErrorBar:e,removeErrorBar:n}=x.useContext(ML);return x.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var Fne=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function VL(t,e,n){return(e=Bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function Wne(t,e){if(t==null)return{};var n,r,i=Kne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hne(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:a}=t,l=Wne(t,Fne),u=Ie(l,!1),{data:c,dataPointFormatter:f,xAxisId:h,yAxisId:p,errorBarOffset:g}=Vne(),v=kne(h),m=One(p);if((v==null?void 0:v.scale)==null||(m==null?void 0:m.scale)==null||c==null||e==="x"&&v.type!=="number")return null;var y=c.map(b=>{var{x:E,y:I,value:R,errorVal:C}=f(b,r,e);if(!C)return null;var A=[],S,P;if(Array.isArray(C)?[S,P]=C:S=P=C,e==="x"){var{scale:O}=v,N=I+g,j=N+n,D=N-n,W=O(R-S),J=O(R+P);A.push({x1:J,y1:j,x2:J,y2:D}),A.push({x1:W,y1:N,x2:J,y2:N}),A.push({x1:W,y1:j,x2:W,y2:D})}else if(e==="y"){var{scale:te}=m,U=E+g,L=U-n,B=U+n,Y=te(R-S),se=te(R+P);A.push({x1:L,y1:se,x2:B,y2:se}),A.push({x1:U,y1:Y,x2:U,y2:se}),A.push({x1:L,y1:Y,x2:B,y2:Y})}var q="".concat(E+g,"px ").concat(I+g,"px");return x.createElement(gn,Tc({className:"recharts-errorBar",key:"bar-".concat(A.map(fe=>"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)))},u),A.map(fe=>{var an=i?{transformOrigin:"".concat(fe.x1-5,"px")}:void 0;return x.createElement(Ls,{from:{transform:"scaleY(0)",transformOrigin:q},to:{transform:"scaleY(1)",transformOrigin:q},begin:o,easing:a,isActive:i,duration:s,key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2),style:{transformOrigin:q}},x.createElement("line",Tc({},fe,{style:an})))}))});return x.createElement(gn,{className:"recharts-errorBars"},y)}var $L=x.createContext(void 0);function qne(t){var e=x.useContext($L);return t??e??"x"}function Gne(t){var{direction:e,children:n}=t;return x.createElement($L.Provider,{value:e},n)}var UL={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Yne(t){var e=qne(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:s}=jr(t,UL);return x.createElement(x.Fragment,null,x.createElement(Une,{dataKey:t.dataKey,direction:e}),x.createElement(Hne,Tc({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:s})))}class FL extends x.Component{render(){return x.createElement(Yne,this.props)}}VL(FL,"defaultProps",UL);VL(FL,"displayName","ErrorBar");var Qne="Invariant failed";function Xne(t,e){throw new Error(Qne)}var Jne=["x","y"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zne(t,e,n){return(e=ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return typeof e=="symbol"?e:e+""}function tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nre(t,e){if(t==null)return{};var n,r,i=rre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ire(t,e){var{x:n,y:r}=t,i=nre(t,Jne),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return cu(cu(cu(cu(cu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function BL(t){return x.createElement(CL,X0({shapeType:"rectangle",propTransformer:ire,activeClassName:"recharts-active-bar"},t))}var ore=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ne(e))return e;var o=ne(r)||yt(r);return o?e(r,i):(o||Xne(),n)}};function zL(t,e){var n,r,i=ie(u=>Ui(u,t)),o=ie(u=>Go(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kn.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function sre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=jL(),{needClipX:o,needClipY:s,needClip:a}=zL(e,n);if(!a)return null;var{x:l,y:u,width:c,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?l:l-c/2,y:s?u:u-f/2,width:o?c:c*2,height:s?f:f*2}))}var are=["onMouseEnter","onMouseLeave","onClick"],lre=["value","background","tooltipPosition"],ure=["onMouseEnter","onClick","onMouseLeave"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eg(t,e,n){return(e=cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=dre(t,"string");return typeof e=="symbol"?e:e+""}function dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J0(t,e){if(t==null)return{};var n,r,i=fre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hre=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Rm(n,e),payload:t}]};function pre(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:a}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Rm(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:a}}}function mre(t){var e=ie($s),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:a,onClick:l}=o,u=J0(o,are),c=Kb(s,r),f=Hb(a),h=qb(l,r);if(!i||n==null)return null;var p=Ie(i,!1);return x.createElement(x.Fragment,null,n.map((g,v)=>{var{value:m,background:y,tooltipPosition:b}=g,E=J0(g,lre);if(!y)return null;var I=c(g,v),R=f(g,v),C=h(g,v),A=nn(nn(nn(nn(nn({option:i,isActive:String(v)===e},E),{},{fill:"#eee"},y),p),ym(u,g,v)),{},{onMouseEnter:I,onMouseLeave:R,onClick:C,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return x.createElement(BL,Ac({key:"background-bar-".concat(v)},A))}))}function WL(t){var{data:e,props:n,showLabels:r}=t,i=Ie(n,!1),{shape:o,dataKey:s,activeBar:a}=n,l=ie($s),u=ie(tL),{onMouseEnter:c,onClick:f,onMouseLeave:h}=n,p=J0(n,ure),g=Kb(c,s),v=Hb(h),m=qb(f,s);return e?x.createElement(x.Fragment,null,e.map((y,b)=>{var E=a&&String(b)===l&&(u==null||s===u),I=E?a:o,R=nn(nn(nn({},i),y),{},{isActive:E,option:I,index:b,dataKey:s});return x.createElement(gn,Ac({className:"recharts-bar-rectangle"},ym(p,y,b),{onMouseEnter:g(y,b),onMouseLeave:v(y,b),onClick:m(y,b),key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(b)}),x.createElement(BL,R))}),r&&xs.renderCallByParent(n,e)):null}function gre(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,f=n.current,h=NL(e,"recharts-bar-"),[p,g]=x.useState(!1),v=x.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),m=x.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return x.createElement(Ls,{begin:s,duration:a,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:m,key:h},y=>{var{t:b}=y,E=b===1?r:r.map((I,R)=>{var C=f&&f[R];if(C){var A=Xi(C.x,I.x),S=Xi(C.y,I.y),P=Xi(C.width,I.width),O=Xi(C.height,I.height);return nn(nn({},I),{},{x:A(b),y:S(b),width:P(b),height:O(b)})}if(i==="horizontal"){var N=Xi(0,I.height),j=N(b);return nn(nn({},I),{},{y:I.y+I.height-j,height:j})}var D=Xi(0,I.width),W=D(b);return nn(nn({},I),{},{width:W})});return b>0&&(n.current=E),x.createElement(gn,null,x.createElement(WL,{props:e,data:E,showLabels:!p}))})}function yre(t){var{data:e,isAnimationActive:n}=t,r=x.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?x.createElement(gre,{previousRectanglesRef:r,props:t}):x.createElement(WL,{props:t,data:e,showLabels:!0})}var KL=0,vre=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:nt(t,e)}};class wre extends x.PureComponent{constructor(){super(...arguments),eg(this,"id",tl("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:a,background:l,id:u,layout:c}=this.props;if(e)return null;var f=Oe("recharts-bar",i),h=yt(u)?this.id:u;return x.createElement(gn,{className:f},a&&x.createElement("defs",null,x.createElement(sre,{clipPathId:h,xAxisId:o,yAxisId:s})),x.createElement(gn,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(h,")"):null},x.createElement(mre,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(yre,this.props)),x.createElement(Gne,{direction:c==="horizontal"?"y":"x"},this.props.children))}}var HL={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Al.isSsr,legendType:"rect",minPointSize:KL,xAxisId:0,yAxisId:0};function _re(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c}=jr(t,HL),{needClip:f}=zL(e,n),h=R1(),p=In(),g=x.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:VD(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),v=Gc(t.children,sd),m=ie(E=>Gre(E,e,n,p,g,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=m==null?void 0:m[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,x.createElement(Lne,{xAxisId:e,yAxisId:n,data:m,dataPointFormatter:vre,errorBarOffset:y},x.createElement(wre,Ac({},t,{layout:h,needClip:f,data:m,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function bre(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:a,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:p}=t,g=e==="horizontal"?a:s,v=c?g.scale.domain():null,m=Lq({numericAxis:g});return f.map((y,b)=>{var E,I,R,C,A,S;c?E=Nq(c[b],v):(E=nt(y,n),Array.isArray(E)||(E=[m,E]));var P=ore(r,KL)(E[1],b);if(e==="horizontal"){var O,[N,j]=[a.scale(E[0]),a.scale(E[1])];I=CS({axis:s,ticks:l,bandSize:o,offset:i.offset,entry:y,index:b}),R=(O=j??N)!==null&&O!==void 0?O:void 0,C=i.size;var D=N-j;if(A=Kn(D)?0:D,S={x:I,y:h.top,width:C,height:h.height},Math.abs(P)>0&&Math.abs(A)<Math.abs(P)){var W=Ot(A||P)*(Math.abs(P)-Math.abs(A));R-=W,A+=W}}else{var[J,te]=[s.scale(E[0]),s.scale(E[1])];if(I=J,R=CS({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:y,index:b}),C=te-J,A=i.size,S={x:h.left,y:R,width:h.width,height:A},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var U=Ot(C||P)*(Math.abs(P)-Math.abs(C));C+=U}}var L=nn(nn({},y),{},{x:I,y:R,width:C,height:A,value:c?E:E[1],payload:y,background:S,tooltipPosition:{x:I+C/2,y:R+A/2}},p&&p[b]&&p[b].props);return L})}class sp extends x.PureComponent{render(){return x.createElement($ne,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},x.createElement(Nne,null),x.createElement(ane,{legendPayload:hre(this.props)}),x.createElement(kL,{fn:pre,args:this.props}),x.createElement(_re,this.props))}}eg(sp,"displayName","Bar");eg(sp,"defaultProps",HL);function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Are=(t,e)=>e,Sre=(t,e,n)=>n,Pre=(t,e,n,r)=>r,Yb=(t,e,n,r,i)=>i,Ire=(t,e,n,r,i)=>i.maxBarSize,Cre=(t,e,n,r,i,o)=>o,EI=(t,e,n)=>{var r=n??t;if(!yt(r))return mn(r,e,0)},kre=V([ke,mb,Are,Sre,Pre],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Ore=(t,e,n,r)=>{var i=ke(t);return i==="horizontal"?W0(t,"yAxis",n,r):W0(t,"xAxis",e,r)},Nre=(t,e,n)=>{var r=ke(t);return r==="horizontal"?LP(t,"xAxis",e):LP(t,"yAxis",n)};function Rre(t){return t.stackId!=null&&t.dataKey!=null}var Dre=(t,e,n)=>{var r={},i=t.filter(Rre),o=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),a=Object.entries(s).map(u=>{var[c,f]=u,h=f.map(g=>g.dataKey),p=EI(e,n,f[0].barSize);return{stackId:c,dataKeys:h,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=EI(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...a,...l]},jre=V([kre,JX,Nre],Dre),Mre=(t,e,n,r,i)=>{var o,s,a=ke(t),l=aM(t),{maxBarSize:u}=i,c=yt(u)?l:u,f,h;return a==="horizontal"?(f=Lo(t,"xAxis",e,r),h=cl(t,"xAxis",e,r)):(f=Lo(t,"yAxis",n,r),h=cl(t,"yAxis",n,r)),(o=(s=C1(f,h,!0))!==null&&s!==void 0?s:c)!==null&&o!==void 0?o:0},qL=(t,e,n,r)=>{var i=ke(t),o,s;return i==="horizontal"?(o=Lo(t,"xAxis",e,r),s=cl(t,"xAxis",e,r)):(o=Lo(t,"yAxis",n,r),s=cl(t,"yAxis",n,r)),C1(o,s)};function Lre(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=mn(t,n,0,!0),a,l=[];if(Gn(r[0].barSize)){var u=!1,c=n/o,f=r.reduce((y,b)=>y+(b.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&c>0&&(u=!0,c*=.9,f=o*c);var h=(n-f)/2>>0,p={offset:h-s,size:0};a=r.reduce((y,b)=>{var E,I={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},R=[...y,I];return p=R[R.length-1].position,R},l)}else{var g=mn(e,n,0,!0);n-2*g-(o-1)*s<=0&&(s=0);var v=(n-2*g-(o-1)*s)/o;v>1&&(v>>=0);var m=Gn(i)?Math.min(v,i):v;a=r.reduce((y,b,E)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(v+s)*E+(v-m)/2,size:m}}],l)}return a}}var Vre=(t,e,n,r,i,o,s)=>{var a=yt(s)?e:s,l=Lre(n,r,i!==o?i:o,t,a);return i!==o&&l!=null&&(l=l.map(u=>df(df({},u),{},{position:df(df({},u.position),{},{offset:u.position.offset-i/2})}))),l},$re=V([jre,aM,XX,lM,Mre,qL,Ire],Vre),Ure=(t,e,n,r)=>Lo(t,"xAxis",e,r),Fre=(t,e,n,r)=>Lo(t,"yAxis",n,r),Bre=(t,e,n,r)=>cl(t,"xAxis",e,r),zre=(t,e,n,r)=>cl(t,"yAxis",n,r),Wre=V([$re,Yb],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Kre=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(s=>s.key===e.dataKey);return o}}}}},Hre=V([mb,Yb],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),qre=V([Ore,Yb],Kre),Gre=V([Et,Ure,Fre,Bre,zre,Wre,ke,Hj,qL,qre,Hre,Cre],(t,e,n,r,i,o,s,a,l,u,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=a;if(!(c==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:v}=c,m;if(v!=null&&v.length>0?m=v:m=h==null?void 0:h.slice(p,g+1),m!=null)return bre({layout:s,barSettings:c,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:m,offset:t,cells:f})}}),GL=t=>{var{chartData:e}=t,n=st(),r=In();return x.useEffect(()=>r?()=>{}:(n(HP(e)),()=>{n(HP(void 0))}),[e,n,r]),null},TI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yre=hr({name:"brush",initialState:TI,reducers:{setBrushSettings(t,e){return e.payload==null?TI:e.payload}}}),Qre=Yre.reducer;function Xre(t,e,n){return(e=Jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qb{static create(e){return new Qb(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Xre(Qb,"EPS",1e-4);function eie(t){return(t%180+180)%180}var tie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=eie(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},nie={dots:[],areas:[],lines:[]},rie=hr({name:"referenceElements",initialState:nie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=wi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=wi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=wi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),iie=rie.reducer,oie=x.createContext(void 0),sie=t=>{var{children:e}=t,[n]=x.useState("".concat(tl("recharts"),"-clip")),r=jL();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return x.createElement(oie.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:o,height:a,width:s}))),e)};function Ly(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function YL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function aie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tie(r,n)}function lie(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:a}=t;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function ap(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function uie(t,e){return YL(t,e+1)}function cie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=e,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:YL(r,u)};var v=l,m,y=()=>(m===void 0&&(m=n(g,v)),m),b=g.coordinate,E=l===0||ap(t,b,y,c,a);E||(l=0,c=s,u+=1),E&&(c=b+t*(y()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function die(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=e,{end:l}=e,u=function(h){var p=o[h],g,v=()=>(g===void 0&&(g=n(p,h)),g);if(h===s-1){var m=t*(p.coordinate+t*v()/2-l);o[h]=p=Jt(Jt({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate})}else o[h]=p=Jt(Jt({},p),{},{tickCoord:p.coordinate});var y=ap(t,p.tickCoord,v,a,l);y&&(l=p.tickCoord-t*(v()/2+i),o[h]=Jt(Jt({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function mie(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=e;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=Jt(Jt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=ap(t,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=Jt(Jt({},c),{},{isShow:!0}))}for(var g=o?a-1:a,v=function(b){var E=s[b],I,R=()=>(I===void 0&&(I=n(E,b)),I);if(b===0){var C=t*(E.coordinate-t*R()/2-l);s[b]=E=Jt(Jt({},E),{},{tickCoord:C<0?E.coordinate-C*t:E.coordinate})}else s[b]=E=Jt(Jt({},E),{},{tickCoord:E.coordinate});var A=ap(t,E.tickCoord,R,l,u);A&&(l=E.tickCoord+t*(R()/2+i),s[b]=Jt(Jt({},E),{},{isShow:!0}))},m=0;m<g;m++)v(m);return s}function Xb(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:f}=t;if(!i||!i.length||!r)return[];if(ne(l)||Al.isSsr){var h;return(h=uie(i,ne(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=a==="top"||a==="bottom"?"width":"height",v=c&&g==="width"?Fu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=(E,I)=>{var R=typeof u=="function"?u(E.value,I):E.value;return g==="width"?aie(Fu(R,{fontSize:e,letterSpacing:n}),v,f):Fu(R,{fontSize:e,letterSpacing:n})[g]},y=i.length>=2?Ot(i[1].coordinate-i[0].coordinate):1,b=lie(o,y,g);return l==="equidistantPreserveStart"?cie(y,b,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=mie(y,b,m,i,s,l==="preserveStartEnd"):p=pie(y,b,m,i,s),p.filter(E=>E.isShow))}var gie=["viewBox"],yie=["viewBox"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PI(t,e){if(t==null)return{};var n,r,i=vie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jb(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Yo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=PI(e,gie),o=this.props,{viewBox:s}=o,a=PI(o,yie);return!Ly(r,s)||!Ly(i,a)||!Ly(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:a,mirror:l,tickMargin:u}=this.props,c,f,h,p,g,v,m=l?-1:1,y=e.tickSize||a,b=ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=f=e.coordinate,p=r+ +!l*o,h=p-m*y,v=h-m*u,g=b;break;case"left":h=p=e.coordinate,f=n+ +!l*i,c=f-m*y,g=c-m*u,v=b;break;case"right":h=p=e.coordinate,f=n+ +l*i,c=f+m*y,g=c+m*u,v=b;break;default:c=f=e.coordinate,p=r+ +l*o,h=p+m*y,v=h+m*u,g=b;break}return{line:{x1:c,y1:h,x2:f,y2:p},tick:{x:g,y:v}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a}=this.props,l=wt(wt(wt({},Ie(this.props,!1)),Ie(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);l=wt(wt({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!s||o==="right"&&s);l=wt(wt({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return x.createElement("line",Aa({},l,{className:Oe("recharts-cartesian-axis-line",Mo(a,"className"))}))}static renderTickItem(e,n,r){var i,o=Oe(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,wt(wt({},n),{},{className:o}));else if(typeof e=="function")i=e(wt(wt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Oe(s,e.className)),i=x.createElement(Jm,Aa({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:a,unit:l}=this.props,u=Xb(wt(wt({},this.props),{},{ticks:r}),e,n),c=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=Ie(this.props,!1),p=Ie(s,!1),g=wt(wt({},h),{},{fill:"none"},Ie(i,!1)),v=u.map((m,y)=>{var{line:b,tick:E}=this.getTickLineCoord(m),I=wt(wt(wt(wt({textAnchor:c,verticalAnchor:f},h),{},{stroke:"none",fill:o},p),E),{},{index:y,payload:m,visibleTicksCount:u.length,tickFormatter:a});return x.createElement(gn,Aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(m.value,"-").concat(m.coordinate,"-").concat(m.tickCoord)},ym(this.props,m,y)),i&&x.createElement("line",Aa({},g,b,{className:Oe("recharts-cartesian-axis-tick-line",Mo(i,"className"))})),s&&Yo.renderTickItem(s,I,"".concat(typeof a=="function"?a(m.value,y):m.value).concat(l||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:x.createElement(gn,{className:Oe("recharts-cartesian-axis",i),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Dn.renderCallByParent(this.props))}}Jb(Yo,"displayName","CartesianAxis");Jb(Yo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bie=["x1","y1","x2","y2","key"],xie=["offset"],Eie=["xAxisId","yAxisId"],Tie=["xAxisId","yAxisId"];function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(null,arguments)}function lp(t,e){if(t==null)return{};var n,r,i=Iie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=t;return x.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QL(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=e,l=lp(e,bie),u=Ie(l,!1),c=lp(u,xie);n=x.createElement("line",ps({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function kie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=lp(t,Eie),s=i.map((a,l)=>{var u=rn(rn({},o),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return QL(r,u)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Oie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=lp(t,Tie),s=i.map((a,l)=>{var u=rn(rn({},o),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return QL(r,u)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Nie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=a.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],g=p?i+s-f:u[h+1]-f;if(g<=0)return null;var v=h%e.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Rie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=!u[h+1],g=p?i+s-f:u[h+1]-f;if(g<=0)return null;var v=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:g,height:a,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Die=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return MD(Xb(rn(rn(rn({},Yo.defaultProps),n),{},{ticks:LD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},jie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return MD(Xb(rn(rn(rn({},Yo.defaultProps),n),{},{ticks:LD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Mie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Z0(t){var e=WD(),n=KD(),r=zD(),i=rn(rn({},jr(t,Mie)),{},{x:ne(t.x)?t.x:r.left,y:ne(t.y)?t.y:r.top,width:ne(t.width)?t.width:r.width,height:ne(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,g=In(),v=ie(P=>VP(P,"xAxis",o,g)),m=ie(P=>VP(P,"yAxis",s,g));if(!ne(u)||u<=0||!ne(c)||c<=0||!ne(a)||a!==+a||!ne(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||Die,b=i.horizontalCoordinatesGenerator||jie,{horizontalPoints:E,verticalPoints:I}=i;if((!E||!E.length)&&typeof b=="function"){var R=h&&h.length,C=b({yAxis:m?rn(rn({},m),{},{ticks:R?h:m.ticks}):void 0,width:e,height:n,offset:r},R?!0:f);Uu(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}if((!I||!I.length)&&typeof y=="function"){var A=p&&p.length,S=y({xAxis:v?rn(rn({},v),{},{ticks:A?p:v.ticks}):void 0,width:e,height:n,offset:r},A?!0:f);Uu(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(I=S)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Cie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Nie,ps({},i,{horizontalPoints:E})),x.createElement(Rie,ps({},i,{verticalPoints:I})),x.createElement(kie,ps({},i,{offset:r,horizontalPoints:E,xAxis:v,yAxis:m})),x.createElement(Oie,ps({},i,{offset:r,verticalPoints:I,xAxis:v,yAxis:m})))}Z0.displayName="CartesianGrid";function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return(e=Vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uie={xAxis:{},yAxis:{},zAxis:{}},XL=hr({name:"cartesianAxis",initialState:Uie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=kI(kI({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Fie,removeXAxis:Bie,addYAxis:zie,removeYAxis:Wie,addZAxis:Yse,removeZAxis:Qse,updateYAxisWidth:Kie}=XL.actions,Hie=XL.reducer,qie=["children"],Gie=["dangerouslySetInnerHTML","ticks"];function JL(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Qie(t,"string");return typeof e=="symbol"?e:e+""}function Qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(null,arguments)}function ZL(t,e){if(t==null)return{};var n,r,i=Xie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jie(t){var e=st(),n=x.useMemo(()=>{var o=ZL(t,qie);return o},[t]),r=ie(o=>Ui(o,n.id)),i=n===r;return x.useEffect(()=>(e(Fie(n)),()=>{e(Bie(n))}),[n,e]),i?t.children:null}var Zie=t=>{var{xAxisId:e,className:n}=t,r=ie(BD),i=In(),o="xAxis",s=ie(f=>Ol(f,o,e,i)),a=ie(f=>MM(f,o,e,i)),l=ie(f=>NM(f,e)),u=ie(f=>WJ(f,e));if(l==null||u==null)return null;var c=ZL(t,Gie);return x.createElement(Yo,ew({},c,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Oe("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},eoe=t=>{var e,n,r,i,o;return x.createElement(Jie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},x.createElement(Zie,t))};class up extends x.Component{render(){return x.createElement(eoe,this.props)}}JL(up,"displayName","XAxis");JL(up,"defaultProps",{allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,height:kn.height,hide:!1,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tickCount:kn.tickCount,type:kn.type,xAxisId:0});var toe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},noe=["dangerouslySetInnerHTML","ticks"];function e4(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(null,arguments)}function ooe(t,e){if(t==null)return{};var n,r,i=soe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aoe(t){var e=st();return x.useEffect(()=>(e(zie(t)),()=>{e(Wie(t))}),[t,e]),null}var loe=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=x.useRef(null),a=x.useRef(null),l=ie(BD),u=In(),c=st(),f="yAxis",h=ie(y=>Ol(y,f,n,u)),p=ie(y=>RM(y,n)),g=ie(y=>KJ(y,n)),v=ie(y=>MM(y,f,n,u));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!p||Ub(o)||x.isValidElement(o))){var b=s.current,E=b==null||(y=b.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:R}=b.props,C=toe({ticks:E,label:a.current,labelGapWithTick:5,tickSize:I,tickMargin:R});Math.round(p.width)!==Math.round(C)&&c(Kie({id:n,width:C}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||g==null)return null;var m=ooe(t,noe);return x.createElement(Yo,tw({},m,{ref:s,labelRef:a,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:Oe("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:v}))},uoe=t=>{var e,n,r,i,o;return x.createElement(x.Fragment,null,x.createElement(aoe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),x.createElement(loe,t))},coe={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,width:On.width,yAxisId:0};class cp extends x.Component{render(){return x.createElement(uoe,this.props)}}e4(cp,"displayName","YAxis");e4(cp,"defaultProps",coe);var doe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=x;function foe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hoe=typeof Object.is=="function"?Object.is:foe,poe=ad.useSyncExternalStore,moe=ad.useRef,goe=ad.useEffect,yoe=ad.useMemo,voe=ad.useDebugValue;doe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=moe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=yoe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,hoe(c,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(c=p,g):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=poe(t,o[0],o[1]);return goe(function(){s.hasValue=!0,s.value=a},[a]),voe(a),a};function woe(t){t()}function _oe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){woe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var OI={notify(){},get:()=>[]};function boe(t,e){let n,r=OI,i=0,o=!1;function s(v){c();const m=r.subscribe(v);let y=!1;return()=>{y||(y=!0,m(),f())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=t.subscribe(l),r=_oe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=OI)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var xoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eoe=xoe(),Toe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aoe=Toe(),Soe=()=>Eoe||Aoe?x.useLayoutEffect:x.useEffect,Poe=Soe(),Vy=Symbol.for("react-redux-context"),$y=typeof globalThis<"u"?globalThis:{};function Ioe(){if(!x.createContext)return{};const t=$y[Vy]??($y[Vy]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Coe=Ioe();function koe(t){const{children:e,context:n,serverState:r,store:i}=t,o=x.useMemo(()=>{const l=boe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);Poe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Coe;return x.createElement(a.Provider,{value:o},e)}var Ooe=koe,Noe=(t,e)=>e,Zb=V([Noe,ke,iJ,jt,XM,Fi,qZ,Et],JZ),ex=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},t4=cr("mouseClick"),n4=Yc();n4.startListening({actionCreator:t4,effect:(t,e)=>{var n=t.payload,r=Zb(e.getState(),ex(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(iZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var nw=cr("mouseMove"),r4=Yc();r4.startListening({actionCreator:nw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Ob(r,r.tooltip.settings.shared),o=Zb(r,ex(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(zM()))}});function Roe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var NI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},i4=hr({name:"rootProps",initialState:NI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:NI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Doe=i4.reducer,{updateOptions:joe}=i4.actions,o4=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Moe}=o4.actions,Loe=o4.reducer,s4=cr("keyDown"),a4=cr("focus"),tx=Yc();tx.startListening({actionCreator:s4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(Nb(i,Js(n))),a=Fi(n);if(o==="Enter"){var l=np(n,"axis","hover",String(i.index));e.dispatch(H0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=YJ(n),c=u==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,h=s+f*c;if(!(a==null||h>=a.length||h<0)){var p=np(n,"axis","hover",String(h));e.dispatch(H0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});tx.startListening({actionCreator:a4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=np(n,"axis","hover",String(o));e.dispatch(H0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Zn=cr("externalEvent"),l4=Yc();l4.startListening({actionCreator:Zn,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:VZ(n),activeDataKey:tL(n),activeIndex:$s(n),activeLabel:eL(n),activeTooltipIndex:$s(n),isTooltipActive:$Z(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Voe=V([Nl],t=>t.tooltipItemPayloads),$oe=V([Voe,od,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),u4=cr("touchMove"),c4=Yc();c4.startListening({actionCreator:u4,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Ob(r,r.tooltip.settings.shared);if(i==="axis"){var o=Zb(r,ex({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(UD),c=(s=l.getAttribute(FD))!==null&&s!==void 0?s:void 0,f=$oe(e.getState(),u,c);e.dispatch(BM({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}});var Uoe=fD({brush:Qre,cartesianAxis:Hie,chartData:hee,graphicalItems:Bte,layout:gq,legend:Zq,options:lee,polarAxis:Ste,polarOptions:Loe,referenceElements:iie,rootProps:Doe,tooltip:oZ}),Foe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return FH({reducer:Uoe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([n4.middleware,r4.middleware,tx.middleware,l4.middleware,c4.middleware]),devTools:{serialize:{replacer:Roe},name:"recharts-".concat(n)}})};function d4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=In(),o=x.useRef(null);if(i)return n;o.current==null&&(o.current=Foe(e,r));var s=b1;return x.createElement(Ooe,{context:s,store:o.current},n)}function f4(t){var{layout:e,width:n,height:r,margin:i}=t,o=st(),s=In();return x.useEffect(()=>{s||(o(hq(e)),o(pq({width:n,height:r})),o(fq(i)))},[o,s,e,n,r,i]),null}function h4(t){var e=st();return x.useEffect(()=>{e(joe(t))},[e,t]),null}var Boe=["children"];function zoe(t,e){if(t==null)return{};var n,r,i=Woe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(null,arguments)}var Koe={width:"100%",height:"100%"},Hoe=x.forwardRef((t,e)=>{var n=WD(),r=KD(),i=YD();if(!ol(n)||!ol(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,x.createElement(_R,dp({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:Koe,ref:e}),o)}),qoe=t=>{var{children:e}=t,n=ie(Mm);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return x.createElement(_R,{width:r,height:i,x:s,y:o},e)},RI=x.forwardRef((t,e)=>{var{children:n}=t,r=zoe(t,Boe),i=In();return i?x.createElement(qoe,null,n):x.createElement(Hoe,dp({ref:e},r),n)});function Goe(){var t=st(),[e,n]=x.useState(null),r=ie(Wq);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Gn(o)&&o!==r&&t(mq(o))}},[e,t,r]),n}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return(e=Xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zoe=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:m,width:y}=t,b=st(),[E,I]=x.useState(null),[R,C]=x.useState(null);gee();var A=Goe(),S=x.useCallback(q=>{A(q),typeof e=="function"&&e(q),I(q),C(q)},[A,e,I,C]),P=x.useCallback(q=>{b(t4(q)),b(Zn({handler:o,reactEvent:q}))},[b,o]),O=x.useCallback(q=>{b(nw(q)),b(Zn({handler:u,reactEvent:q}))},[b,u]),N=x.useCallback(q=>{b(zM()),b(Zn({handler:c,reactEvent:q}))},[b,c]),j=x.useCallback(q=>{b(nw(q)),b(Zn({handler:f,reactEvent:q}))},[b,f]),D=x.useCallback(()=>{b(a4())},[b]),W=x.useCallback(q=>{b(s4(q.key))},[b]),J=x.useCallback(q=>{b(Zn({handler:s,reactEvent:q}))},[b,s]),te=x.useCallback(q=>{b(Zn({handler:a,reactEvent:q}))},[b,a]),U=x.useCallback(q=>{b(Zn({handler:l,reactEvent:q}))},[b,l]),L=x.useCallback(q=>{b(Zn({handler:h,reactEvent:q}))},[b,h]),B=x.useCallback(q=>{b(Zn({handler:v,reactEvent:q}))},[b,v]),Y=x.useCallback(q=>{b(u4(q)),b(Zn({handler:g,reactEvent:q}))},[b,g]),se=x.useCallback(q=>{b(Zn({handler:p,reactEvent:q}))},[b,p]);return x.createElement(aL.Provider,{value:E},x.createElement(KW.Provider,{value:R},x.createElement("div",{className:Oe("recharts-wrapper",r),style:Yoe({position:"relative",cursor:"default",width:y,height:i},m),onClick:P,onContextMenu:J,onDoubleClick:te,onFocus:D,onKeyDown:W,onMouseDown:U,onMouseEnter:O,onMouseLeave:N,onMouseMove:j,onMouseUp:L,onTouchEnd:se,onTouchMove:Y,onTouchStart:B,ref:S},n)))}),ese=["children","className","width","height","style","compact","title","desc"];function tse(t,e){if(t==null)return{};var n,r,i=nse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p4=x.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=t,c=tse(t,ese),f=Ie(c,!1);return a?x.createElement(RI,{otherAttributes:f,title:l,desc:u},n):x.createElement(Zoe,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(RI,{otherAttributes:f,title:l,desc:u,ref:e},x.createElement(sie,null,n)))}),rse=["width","height"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function ise(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sse={top:5,right:5,bottom:5,left:5},ase={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sse,reverseStackOrder:!1,syncMethod:"index"},lse=x.forwardRef(function(e,n){var r,i=jr(e.categoricalChartProps,ase),{width:o,height:s}=i,a=ise(i,rse);if(!ol(o)||!ol(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(d4,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(GL,{chartData:h.data}),x.createElement(f4,{width:o,height:s,layout:i.layout,margin:i.margin}),x.createElement(h4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(p4,rw({},a,{width:o,height:s,ref:n})))}),use=["axis","item"],jI=x.forwardRef((t,e)=>x.createElement(lse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:use,tooltipPayloadSearcher:uL,categoricalChartProps:t,ref:e}));function cse(t){var e=st();return x.useEffect(()=>{e(Moe(t))},[e,t]),null}var dse=["width","height","layout"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function fse(t,e){if(t==null)return{};var n,r,i=hse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pse={top:5,right:5,bottom:5,left:5},mse={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pse,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},gse=x.forwardRef(function(e,n){var r,i=jr(e.categoricalChartProps,mse),{width:o,height:s,layout:a}=i,l=fse(i,dse);if(!ol(o)||!ol(s))return null;var{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(d4,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(GL,{chartData:i.data}),x.createElement(f4,{width:o,height:s,layout:a,margin:i.margin}),x.createElement(h4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(cse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(p4,iw({width:o,height:s},l,{ref:n})))}),yse=["item"],vse={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wse=x.forwardRef((t,e)=>{var n=jr(t,vse);return x.createElement(gse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yse,tooltipPayloadSearcher:uL,categoricalChartProps:n,ref:e})});const _se=({countryCode:t,className:e="w-6 h-4"})=>{const n=`https://flagcdn.com/w40/${t.toLowerCase()}.png`;return _.jsx("img",{src:n,alt:`Bandeira ${t}`,className:`${e} object-cover rounded-sm`,onError:r=>{const i=r.target;i.style.display="none";const o=i.parentElement;o&&(o.innerHTML="")}})},bse=({videos:t})=>{const[e,n]=x.useState("all"),[r,i]=x.useState("7d"),[o,s]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState(new Date().toISOString().split("T")[0]),[v,m]=x.useState(!1),[y,b]=x.useState(!1),[E,I]=x.useState(!1),R=()=>{const U=new Date;let L=new Date,B=new Date;switch(r){case"24h":L.setHours(U.getHours()-24);break;case"2d":L.setDate(U.getDate()-2);break;case"7d":L.setDate(U.getDate()-7);break;case"30d":L.setDate(U.getDate()-30);break;case"custom":return L=new Date(`${o}T00:00:00`),B=new Date(`${a}T23:59:59`),{startDate:L,endDate:B}}return{startDate:L,endDate:U}},C=async()=>{m(!0);const{startDate:U,endDate:L}=R();try{let B=kt(Ge(ye,"analytics"),Re("timestamp",">=",_e.fromDate(U)),Re("timestamp","<=",_e.fromDate(L)),hi("timestamp","desc"));e!=="all"&&(B=kt(Ge(ye,"analytics"),Re("videoId","==",e),Re("timestamp",">=",_e.fromDate(U)),Re("timestamp","<=",_e.fromDate(L)),hi("timestamp","desc")));const se=(await Ja(B)).docs.map(q=>({id:q.id,...q.data(),timestamp:q.data().timestamp.toDate()}));c(se)}catch(B){console.error("Erro ao carregar analytics:",B)}m(!1)},A=async()=>{b(!0);try{const U=new Date(`${p}T00:00:00`),L=new Date(`${p}T23:59:59`);let B=kt(Ge(ye,"analytics"),Re("timestamp",">=",_e.fromDate(U)),Re("timestamp","<=",_e.fromDate(L)),hi("timestamp","desc"));e!=="all"&&(B=kt(Ge(ye,"analytics"),Re("videoId","==",e),Re("timestamp",">=",_e.fromDate(U)),Re("timestamp","<=",_e.fromDate(L)),hi("timestamp","desc")));const se=(await Ja(B)).docs.map(q=>({id:q.id,...q.data(),timestamp:q.data().timestamp.toDate()}));h(se)}catch(U){console.error("Erro ao carregar dia:",U)}b(!1)};x.useEffect(()=>{C()},[e,r,o,a]),x.useEffect(()=>{A()},[p,e]);const S=u.reduce((U,L)=>{const B=U.find(Y=>Y.countryCode===L.countryCode);return B?B.clicks++:U.push({country:L.country,countryCode:L.countryCode,clicks:1}),U},[]).sort((U,L)=>L.clicks-U.clicks),P=u.reduce((U,L)=>{const B=U.find(Y=>Y.name===L.device);return B?B.value++:U.push({name:L.device,value:1,color:L.device==="Mobile"?"#ef4444":L.device==="Desktop"?"#3b82f6":"#10b981"}),U},[]),O=[],{startDate:N,endDate:j}=R();if(r==="24h")for(let U=23;U>=0;U--){const L=new Date;L.setHours(L.getHours()-U);const B=L.getHours().toString().padStart(2,"0")+":00",Y=u.filter(se=>{const q=new Date(se.timestamp);return q.getHours()===L.getHours()&&q.getDate()===L.getDate()}).length;O.push({hour:B,clicks:Y})}else{const U=Math.ceil((j.getTime()-N.getTime())/864e5);for(let L=U-1;L>=0;L--){const B=new Date;B.setDate(B.getDate()-L);const Y=B.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),se=u.filter(q=>new Date(q.timestamp).toDateString()===B.toDateString()).length;O.push({hour:Y,clicks:se})}}const D=[];for(let U=0;U<24;U++){const L=U.toString().padStart(2,"0")+":00",B=f.filter(Y=>new Date(Y.timestamp).getHours()===U).length;D.push({hour:L,clicks:B})}const W=E?S:S.slice(0,10),J=()=>{const U=[["Posio","Pas","Cdigo do Pas","Cliques"],...S.map((se,q)=>[q+1,se.country,se.countryCode,se.clicks])].map(se=>se.join(",")).join(`
`),L=new Blob([U],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),Y=URL.createObjectURL(L);B.setAttribute("href",Y),B.setAttribute("download",`analytics_paises_${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},te=()=>{const U=[["Hora","Cliques"],...D.map(se=>[se.hour,se.clicks])].map(se=>se.join(",")).join(`
`),L=new Blob([U],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),Y=URL.createObjectURL(L);B.setAttribute("href",Y),B.setAttribute("download",`analytics_horas_${p}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(rW,{className:"mr-3 text-red-500"}),"Analytics"]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[_.jsxs("select",{value:e,onChange:U=>n(U.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{value:"all",children:"Todos os vdeos"}),t.map(U=>_.jsx("option",{value:U.id,children:U.title},U.id))]}),_.jsxs("select",{value:r,onChange:U=>i(U.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{value:"24h",children:"ltimas 24 horas"}),_.jsx("option",{value:"2d",children:"ltimos 2 dias"}),_.jsx("option",{value:"7d",children:"ltimos 7 dias"}),_.jsx("option",{value:"30d",children:"ltimos 30 dias"}),_.jsx("option",{value:"custom",children:"Personalizado"})]})]})]}),r==="custom"&&_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(QA,{className:"text-gray-400",size:20}),_.jsx("label",{className:"text-gray-400",children:"De:"}),_.jsx("input",{type:"date",value:o,onChange:U=>s(U.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("label",{className:"text-gray-400",children:"At:"}),_.jsx("input",{type:"date",value:a,onChange:U=>l(U.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),_.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[_.jsx(dR,{className:"mr-2 text-red-500",size:20}),"Cliques por Hora - Dia Especfico"]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(QA,{className:"text-gray-400",size:16}),_.jsx("input",{type:"date",value:p,onChange:U=>g(U.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),_.jsxs("button",{onClick:te,className:"flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[_.jsx(c0,{size:16,className:"mr-2"}),"CSV"]})]})]}),y?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"h-64 mb-4",children:_.jsx(jy,{width:"100%",height:"100%",children:_.jsxs(jI,{data:D,children:[_.jsx(Z0,{strokeDasharray:"3 3",stroke:"#374151"}),_.jsx(up,{dataKey:"hour",stroke:"#9CA3AF"}),_.jsx(cp,{stroke:"#9CA3AF"}),_.jsx(Ry,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"}}),_.jsx(sp,{dataKey:"clicks",fill:"#ef4444",radius:[4,4,0,0]})]})})}),_.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Total de cliques no dia ",new Date(p).toLocaleDateString("pt-BR"),": ",f.length]})]})]}),v?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[_.jsx(mW,{className:"mr-2 text-red-500",size:20}),"Cliques ",r==="24h"?"por Hora":"por Dia"]}),_.jsx("div",{className:"h-64",children:_.jsx(jy,{width:"100%",height:"100%",children:_.jsxs(jI,{data:O,children:[_.jsx(Z0,{strokeDasharray:"3 3",stroke:"#374151"}),_.jsx(up,{dataKey:"hour",stroke:"#9CA3AF"}),_.jsx(cp,{stroke:"#9CA3AF"}),_.jsx(Ry,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"}}),_.jsx(sp,{dataKey:"clicks",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),_.jsxs("div",{className:"p-6 rounded-xl border border-gray-800",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[_.jsx(dW,{className:"mr-2 text-red-500",size:20}),"Dispositivos"]}),_.jsx("div",{className:"h-64",children:_.jsx(jy,{width:"100%",height:"100%",children:_.jsxs(wse,{children:[_.jsx(Gb,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:P.map((U,L)=>_.jsx(sd,{fill:U.color},`cell-${L}`))}),_.jsx(Ry,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#FFFFFF"}})]})})}),_.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:P.map((U,L)=>_.jsxs("div",{className:"flex items-center",children:[_.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:U.color}}),_.jsxs("span",{className:"text-gray-200 text-sm",children:[U.name," (",U.value,")"]})]},L))})]}),_.jsxs("div",{className:"lg:col-span-2 p-6 rounded-xl border border-gray-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[_.jsx(aW,{className:"mr-2 text-red-500",size:20}),"Pases (",S.length," total)"]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:J,className:"flex items-center px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[_.jsx(c0,{size:16,className:"mr-1"}),"CSV"]}),S.length>10&&_.jsx("button",{onClick:()=>I(!E),className:"flex items-center px-3 py-1 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors text-sm",children:E?_.jsxs(_.Fragment,{children:[_.jsx(oW,{size:16,className:"mr-1"}),"Mostrar menos"]}):_.jsxs(_.Fragment,{children:[_.jsx(iW,{size:16,className:"mr-1"}),"Ver todos"]})})]})]}),_.jsxs("div",{className:"overflow-x-auto",children:[_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-gray-800",children:[_.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"#"}),_.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Pas"}),_.jsx("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:"Cliques"})]})}),_.jsx("tbody",{children:W.map((U,L)=>_.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800",children:[_.jsx("td",{className:"py-3 px-4 text-gray-300",children:L+1}),_.jsx("td",{className:"py-3 px-4",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(_se,{countryCode:U.countryCode}),_.jsx("span",{className:"text-white",children:U.country})]})}),_.jsx("td",{className:"py-3 px-4 text-right",children:_.jsx("span",{className:"bg-red-900 text-red-300 px-2 py-1 rounded-full text-sm font-medium",children:U.clicks})})]},U.countryCode))})]}),S.length===0&&_.jsx("div",{className:"text-center py-8 text-gray-400",children:"Nenhum dado encontrado para o perodo selecionado."})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:u.length}),_.jsx("div",{className:"text-gray-400 text-sm",children:"Total de Cliques"})]}),_.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:S.length}),_.jsx("div",{className:"text-gray-400 text-sm",children:"Pases nicos"})]}),_.jsxs("div",{className:"p-4 rounded-lg border border-gray-800",children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:P.length}),_.jsx("div",{className:"text-gray-400 text-sm",children:"Tipos de Dispositivo"})]})]})]})},xse=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState([]),[a,l]=x.useState(!1);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;l(!0);const v=kt(Ge(ye,"chatMessages"),Re("videoId","==",e),hi("timestamp","desc")),m=Mn(v,E=>{const I=E.docs.map(R=>{var C;return{id:R.id,...R.data(),timestamp:(C=R.data().timestamp)==null?void 0:C.toDate()}});i(I),l(!1)}),y=kt(Ge(ye,"chatModeration"),Re("videoId","==",e)),b=Mn(y,E=>{const I=E.docs.map(R=>{var C,A;return{id:R.id,...R.data(),mutedUntil:(C=R.data().mutedUntil)==null?void 0:C.toDate(),createdAt:(A=R.data().createdAt)==null?void 0:A.toDate()}});s(I)});return()=>{m(),b()}},[e]);const u=async v=>{if(confirm("Tem certeza que deseja deletar esta mensagem?"))try{await el(pn(ye,"chatMessages",v))}catch(m){console.error("Erro ao deletar mensagem:",m),alert("Erro ao deletar mensagem")}},c=async(v,m)=>{try{const y=m?new Date(Date.now()+m*6e4):null,b=pn(ye,"chatModeration",`${e}_${v}`);await G2(b,{videoId:e,username:v,mutedUntil:y,permanentlyMuted:!m,createdAt:new Date}),alert(`Usurio ${v} foi silenciado ${m?`por ${m} minutos`:"permanentemente"}`)}catch(y){console.error("Erro ao silenciar usurio:",y),alert("Erro ao silenciar usurio")}},f=async v=>{try{const m=pn(ye,"chatModeration",`${e}_${v}`);await el(m),alert(`Usurio ${v} foi dessilenciado`)}catch(m){console.error("Erro ao dessilenciar:",m),alert("Erro ao dessilenciar usurio")}},h=v=>{const m=o.find(y=>y.username===v);return m?!!(m.permanentlyMuted||m.mutedUntil&&m.mutedUntil>new Date):!1},p=v=>{const m=o.find(y=>y.username===v);return m?m.permanentlyMuted?"Silenciado permanentemente":m.mutedUntil&&m.mutedUntil>new Date?`Silenciado por ${Math.ceil((m.mutedUntil.getTime()-Date.now())/6e4)} min`:null:null},g=t.find(v=>v.id===e);return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(hR,{className:"mr-3 text-red-500"}),"Moderao de Chat"]})}),_.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),_.jsx("select",{value:e,onChange:v=>n(v.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(v=>_.jsx("option",{value:v.id,children:v.title},v.id))})]}),e&&_.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:[g==null?void 0:g.title," - Mensagens em tempo real"]}),a?_.jsx("div",{className:"flex justify-center items-center py-8",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):r.length===0?_.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nenhuma mensagem no chat ainda"}):_.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.map(v=>{var b;const m=h(v.username),y=p(v.username);return _.jsx("div",{className:`p-3 rounded-lg border ${m?"bg-red-900/20 border-red-800":"bg-gray-800 border-gray-700"}`,children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[_.jsx("span",{className:"text-white font-semibold text-sm",children:v.username}),y&&_.jsx("span",{className:"text-xs bg-red-900 text-red-300 px-2 py-0.5 rounded",children:y}),_.jsx("span",{className:"text-xs text-gray-500",children:(b=v.timestamp)==null?void 0:b.toLocaleString()})]}),_.jsx("div",{className:"text-gray-300 text-sm",children:v.message})]}),_.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[_.jsx("button",{onClick:()=>u(v.id),className:"p-1.5 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Deletar mensagem",children:_.jsx(im,{size:14})}),m?_.jsxs("button",{onClick:()=>f(v.username),className:"flex items-center px-2 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs transition-colors",children:[_.jsx(yW,{size:14,className:"mr-1"}),"Dessilenciar"]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>c(v.username,5),className:"p-1.5 bg-yellow-600 hover:bg-yellow-700 text-white rounded transition-colors",title:"Silenciar por 5 minutos",children:_.jsx(dR,{size:14})}),_.jsx("button",{onClick:()=>c(v.username),className:"p-1.5 bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",title:"Silenciar permanentemente",children:_.jsx(vW,{size:14})})]})]})]})},v.id)})})]})]})},Ese=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState(!1),[a,l]=x.useState({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"}),[u,c]=x.useState(null);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;const m=kt(Ge(ye,"featureButtons"),Re("videoId","==",e));return Mn(m,b=>{const E=b.docs.map(I=>{var R,C;return{id:I.id,...I.data(),createdAt:(R=I.data().createdAt)==null?void 0:R.toDate(),updatedAt:(C=I.data().updatedAt)==null?void 0:C.toDate()}});i(E)})},[e]);const f=async m=>{m.preventDefault();try{u?await Za(pn(ye,"featureButtons",u),{text:a.text,link:a.link,isActive:a.isActive,backgroundColor:a.backgroundColor,textColor:a.textColor,updatedAt:new Date}):await Tl(Ge(ye,"featureButtons"),{videoId:e,text:a.text,link:a.link,isActive:a.isActive,backgroundColor:a.backgroundColor,textColor:a.textColor,createdAt:new Date,updatedAt:new Date}),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"}),s(!1),c(null)}catch(y){console.error("Erro ao salvar boto:",y),alert("Erro ao salvar boto")}},h=m=>{l({text:m.text,link:m.link,isActive:m.isActive,backgroundColor:m.backgroundColor,textColor:m.textColor}),c(m.id),s(!0)},p=async m=>{if(confirm("Tem certeza que deseja deletar este boto?"))try{await el(pn(ye,"featureButtons",m))}catch(y){console.error("Erro ao deletar:",y),alert("Erro ao deletar boto")}},g=async(m,y)=>{try{await Za(pn(ye,"featureButtons",m),{isActive:!y,updatedAt:new Date})}catch(b){console.error("Erro ao atualizar status:",b)}},v=t.find(m=>m.id===e);return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(pR,{className:"mr-3 text-red-500"}),"Gerenciar Feature Buttons"]}),!o&&_.jsx("button",{onClick:()=>{s(!0),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Novo Feature Button"})]}),_.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),_.jsx("select",{value:e,onChange:m=>n(m.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(m=>_.jsx("option",{value:m.id,children:m.title},m.id))})]}),o&&_.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white",children:[u?"Editar":"Novo"," Feature Button"]}),_.jsx("button",{onClick:()=>{s(!1),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"text-gray-400 hover:text-white",children:_.jsx(o1,{size:20})})]}),_.jsxs("form",{onSubmit:f,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto *"}),_.jsx("input",{type:"text",value:a.text,onChange:m=>l(y=>({...y,text:m.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Ex: Pulsa para hacer tu inscripcin",required:!0,maxLength:100})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Link do Boto *"}),_.jsx("input",{type:"url",value:a.link,onChange:m=>l(y=>({...y,link:m.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://exemplo.com",required:!0})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Cor de Fundo"}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("input",{type:"color",value:a.backgroundColor,onChange:m=>l(y=>({...y,backgroundColor:m.target.value})),className:"w-12 h-10 rounded cursor-pointer"}),_.jsx("input",{type:"text",value:a.backgroundColor,onChange:m=>l(y=>({...y,backgroundColor:m.target.value})),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"#4ade80"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Cor do Texto"}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("input",{type:"color",value:a.textColor,onChange:m=>l(y=>({...y,textColor:m.target.value})),className:"w-12 h-10 rounded cursor-pointer"}),_.jsx("input",{type:"text",value:a.textColor,onChange:m=>l(y=>({...y,textColor:m.target.value})),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"#000000"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Preview"}),_.jsx("button",{type:"button",className:"w-full py-3 px-6 rounded-lg text-center font-semibold",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text||"Preview do boto"})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:m=>l(y=>({...y,isActive:m.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-red-500"}),_.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Boto ativo (visvel na pgina do vdeo)"})]}),_.jsxs("div",{className:"flex justify-end space-x-3",children:[_.jsx("button",{type:"button",onClick:()=>{s(!1),c(null),l({text:"",link:"",isActive:!0,backgroundColor:"#4ade80",textColor:"#000000"})},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[_.jsx(i1,{size:16,className:"mr-2"}),u?"Atualizar":"Criar"]})]})]})]}),_.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[_.jsx("div",{className:"p-4 border-b border-gray-800",children:_.jsxs("h3",{className:"text-lg font-semibold text-white",children:[v==null?void 0:v.title," - Feature Buttons"]})}),_.jsx("div",{className:"divide-y divide-gray-800",children:r.length===0?_.jsx("div",{className:"p-8 text-center text-gray-400",children:"Nenhum feature button para este vdeo"}):r.map(m=>_.jsx("div",{className:"p-4 hover:bg-gray-800 transition-colors",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"flex items-center space-x-2 mb-2",children:_.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${m.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:m.isActive?"Ativo":"Inativo"})}),_.jsx("div",{className:"inline-block py-2 px-4 rounded-lg font-semibold mb-2",style:{backgroundColor:m.backgroundColor,color:m.textColor},children:m.text}),_.jsx("p",{className:"text-sm text-gray-400 break-all",children:m.link})]}),_.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[_.jsx("button",{onClick:()=>g(m.id,m.isActive),className:`px-3 py-1 text-sm rounded transition-colors ${m.isActive?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:m.isActive?"Desativar":"Ativar"}),_.jsx("button",{onClick:()=>h(m),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Editar"}),_.jsx("button",{onClick:()=>p(m.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:_.jsx(im,{size:16})})]})]})},m.id))})]})]})},Tse=({videos:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState([]),[o,s]=x.useState(!1),[a,l]=x.useState({message:"",link:"",isActive:!0}),[u,c]=x.useState(null);x.useEffect(()=>{t.length>0&&!e&&n(t[0].id)},[t]),x.useEffect(()=>{if(!e)return;const m=kt(Ge(ye,"pinnedMessages"),Re("videoId","==",e));return Mn(m,b=>{const E=b.docs.map(I=>{var R,C;return{id:I.id,...I.data(),createdAt:(R=I.data().createdAt)==null?void 0:R.toDate(),updatedAt:(C=I.data().updatedAt)==null?void 0:C.toDate()}});i(E)})},[e]);const f=async m=>{m.preventDefault();try{u?await Za(pn(ye,"pinnedMessages",u),{message:a.message,link:a.link||null,isActive:a.isActive,updatedAt:new Date}):await Tl(Ge(ye,"pinnedMessages"),{videoId:e,message:a.message,link:a.link||null,isActive:a.isActive,createdAt:new Date,updatedAt:new Date}),l({message:"",link:"",isActive:!0}),s(!1),c(null)}catch(y){console.error("Erro ao salvar mensagem fixada:",y),alert("Erro ao salvar mensagem fixada")}},h=m=>{l({message:m.message,link:m.link||"",isActive:m.isActive}),c(m.id),s(!0)},p=async m=>{if(confirm("Tem certeza que deseja deletar esta mensagem fixada?"))try{await el(pn(ye,"pinnedMessages",m))}catch(y){console.error("Erro ao deletar:",y),alert("Erro ao deletar mensagem fixada")}},g=async(m,y)=>{try{await Za(pn(ye,"pinnedMessages",m),{isActive:!y,updatedAt:new Date})}catch(b){console.error("Erro ao atualizar status:",b)}},v=t.find(m=>m.id===e);return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[_.jsx(d0,{className:"mr-3 text-red-500"}),"Gerenciar Mensagens Fixadas"]}),!o&&_.jsx("button",{onClick:()=>{s(!0),c(null),l({message:"",link:"",isActive:!0})},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Nova Mensagem Fixada"})]}),_.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione o vdeo"}),_.jsx("select",{value:e,onChange:m=>n(m.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(m=>_.jsx("option",{value:m.id,children:m.title},m.id))})]}),o&&_.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-white",children:[u?"Editar":"Nova"," Mensagem Fixada"]}),_.jsx("button",{onClick:()=>{s(!1),c(null),l({message:"",link:"",isActive:!0})},className:"text-gray-400 hover:text-white",children:_.jsx(o1,{size:20})})]}),_.jsxs("form",{onSubmit:f,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Mensagem *"}),_.jsx("textarea",{value:a.message,onChange:m=>l(y=>({...y,message:m.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,required:!0,maxLength:500})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Link (opcional)"}),_.jsx("input",{type:"url",value:a.link,onChange:m=>l(y=>({...y,link:m.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://exemplo.com"})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:m=>l(y=>({...y,isActive:m.target.checked})),className:"mr-3 h-4 w-4 text-red-600 bg-gray-800 border-gray-700 rounded focus:ring-red-500"}),_.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Mensagem ativa (visvel no chat)"})]}),_.jsxs("div",{className:"flex justify-end space-x-3",children:[_.jsx("button",{type:"button",onClick:()=>{s(!1),c(null),l({message:"",link:"",isActive:!0})},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[_.jsx(i1,{size:16,className:"mr-2"}),u?"Atualizar":"Criar"]})]})]})]}),_.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[_.jsx("div",{className:"p-4 border-b border-gray-800",children:_.jsxs("h3",{className:"text-lg font-semibold text-white",children:[v==null?void 0:v.title," - Mensagens Fixadas"]})}),_.jsx("div",{className:"divide-y divide-gray-800",children:r.length===0?_.jsx("div",{className:"p-8 text-center text-gray-400",children:"Nenhuma mensagem fixada para este vdeo"}):r.map(m=>_.jsx("div",{className:"p-4 hover:bg-gray-800 transition-colors",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(d0,{size:16,className:"text-gray-400"}),_.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${m.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:m.isActive?"Ativa":"Inativa"})]}),_.jsx("p",{className:"text-white mb-1",children:m.message}),m.link&&_.jsx("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 text-sm hover:underline",children:m.link})]}),_.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[_.jsx("button",{onClick:()=>g(m.id,m.isActive),className:`px-3 py-1 text-sm rounded transition-colors ${m.isActive?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:m.isActive?"Desativar":"Ativar"}),_.jsx("button",{onClick:()=>h(m),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Editar"}),_.jsx("button",{onClick:()=>p(m.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:_.jsx(im,{size:16})})]})]})},m.id))})]})]})},Ase=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!1),[i,o]=x.useState(null),[s,a]=x.useState(!0),[l,u]=x.useState("videos");x.useEffect(()=>{const p=kt(Ge(ye,"videos"),hi("createdAt","desc"));return Mn(p,v=>{const m=v.docs.map(y=>{var b,E;return{id:y.id,...y.data(),createdAt:(b=y.data().createdAt)==null?void 0:b.toDate(),updatedAt:(E=y.data().updatedAt)==null?void 0:E.toDate()}});e(m),a(!1)})},[]);const c=async(p,g)=>{try{const v=kt(Ge(ye,"chatMessages"),Re("videoId","==",p),hi("timestamp","asc")),y=(await Ja(v)).docs.map(C=>{var A;return{id:C.id,...C.data(),timestamp:(A=C.data().timestamp)==null?void 0:A.toDate()}});if(y.length===0){alert("No h mensagens de chat para este vdeo.");return}const b=["Username,Message,Timestamp",...y.map(C=>{var A;return`"${C.username}","${C.message.replace(/"/g,'""')}","${((A=C.timestamp)==null?void 0:A.toLocaleString())||""}"`})].join(`
`),E=new Blob([b],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),R=URL.createObjectURL(E);I.setAttribute("href",R),I.setAttribute("download",`chat_${g.replace(/[^a-zA-Z0-9]/g,"_")}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch(v){console.error("Erro ao baixar chat:",v),alert("Erro ao baixar o chat. Tente novamente.")}},f=p=>{o(p),r(!0)},h=()=>{r(!1),o(null)};return s?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h2",{className:"text-3xl font-bold text-white",children:"Painel Administrativo"}),l==="videos"&&_.jsxs("button",{onClick:()=>r(!0),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg flex items-center transition duration-200",children:[_.jsx(pR,{className:"mr-2",size:20}),"Novo Vdeo"]})]}),_.jsx("div",{className:"mb-8",children:_.jsx("div",{className:"border-b border-gray-800",children:_.jsxs("nav",{className:"-mb-px flex space-x-8",children:[_.jsx("button",{onClick:()=>u("videos"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="videos"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Vdeos"}),_.jsx("button",{onClick:()=>u("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="analytics"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Analytics"}),_.jsx("button",{onClick:()=>u("moderation"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="moderation"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Moderao de Chat"}),_.jsx("button",{onClick:()=>u("buttons"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="buttons"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Feature Buttons"}),_.jsx("button",{onClick:()=>u("pinned"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="pinned"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-white hover:border-gray-300"}`,children:"Mensagens Fixadas"})]})})}),n&&_.jsx(PW,{video:i,onClose:h,allVideos:t}),l==="videos"&&_.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden border border-gray-800",children:_.jsxs("div",{className:"overflow-x-auto",children:[_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{className:"bg-gray-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Ttulo"}),_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Logo"}),_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Slug"}),_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Criado em"}),_.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:t.map(p=>{var g;return _.jsxs("tr",{className:"hover:bg-gray-800 transition duration-200",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("div",{className:"text-white font-medium",children:p.title})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.logoUrl?_.jsx("img",{src:p.logoUrl,alt:"Logo",className:"h-8 max-w-16 object-contain bg-gray-700 rounded p-1"}):_.jsx("span",{className:"text-gray-500 text-sm",children:"Sem logo"})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsxs("div",{className:"text-gray-400 font-mono",children:["/",p.slug]})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.isActive?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:p.isActive?"Ativo":"Inativo"})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-400",children:(g=p.createdAt)==null?void 0:g.toLocaleDateString()}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("button",{onClick:()=>f(p),className:"text-blue-400 hover:text-blue-300 p-1 rounded transition-colors",title:"Editar",children:_.jsx(pW,{size:18})}),_.jsx("button",{onClick:()=>c(p.id,p.title),className:"text-yellow-400 hover:text-yellow-300 p-1 rounded transition-colors",title:"Baixar Chat CSV",children:_.jsx(c0,{size:18})}),_.jsx("a",{href:`/${p.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 p-1 rounded transition-colors",title:"Ver Pgina",children:_.jsx(fR,{size:18})})]})})]},p.id)})})]}),t.length===0&&_.jsx("div",{className:"text-center py-12 text-gray-400",children:"Nenhum vdeo cadastrado ainda."})]})}),l==="analytics"&&_.jsx(bse,{videos:t}),l==="moderation"&&_.jsx(xse,{videos:t}),l==="buttons"&&_.jsx(Ese,{videos:t}),l==="pinned"&&_.jsx(Tse,{videos:t})]})},Sse={containerBg:"#1a1a1a",headerBg:"#202020",bodyBg:"#1a1a1a",footerBg:"#303030",pinnedBg:"#131313",pinnedBorder:"#2b2b2b",avatarBg:"#2a2a2a",avatarBorder:"#3a3a3a",nameColor:"#9ca3af",nameModeradorColor:"#FFE100",messageColor:"#ffffff",inputPillBg:"#ffffff",inputPlaceholder:"#6b7280",inputText:"#0f0f0f",sendBtnBg:"#ffffff",sendBtnBorder:"#d9d9d9",sendIcon:"#000000",showBorders:!1,borderColor:"#2b2b2b",borderRadiusPx:16},Uy=["#40BAC4","#A78BFA","#F59E0B","#10B981","#EF4444","#3B82F6","#F472B6","#22D3EE","#84CC16","#FB923C"];function Pse(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Math.abs(e)}function Ise(t){if(!t)return Uy[0];const e=Pse(t.trim().toLowerCase())%Uy.length;return Uy[e]}function Cse(t){const e=(t||"").trim();return e?e[0].toUpperCase():"?"}const m4=sV.memo(({messages:t,pinnedMessage:e,isMuted:n,muteMessage:r,newMessage:i,onChangeMessage:o,onSubmitMessage:s,inputRef:a,messagesEndRef:l,theme:u})=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{backgroundColor:u.bodyBg},children:[e&&_.jsx("div",{className:"sticky top-0 z-10 mb-2 p-3 rounded-xl",style:{backgroundColor:u.pinnedBg,border:`1px solid ${u.pinnedBorder}`},children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx(d0,{size:16,className:"mt-0.5 shrink-0",color:u.nameColor}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("span",{className:"text-[11px] block mb-1",style:{color:u.nameColor},children:"Moderador"}),e.link?_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:e.message}),_.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm leading-snug break-words hover:underline",style:{color:u.nameModeradorColor},children:e.link})]}):_.jsx("p",{className:"text-sm leading-snug break-words",style:{color:u.messageColor},children:e.message})]})]})}),t.length===0&&_.jsx("div",{className:"text-center py-10",style:{color:u.nameColor},children:"Se el primero en comentar"}),t.map(c=>{const f=Ise(c.username||""),h=Cse(c.username||"");return _.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",style:{backgroundColor:f,border:"none"},"aria-hidden":!0,children:_.jsx("span",{className:"text-[12px] font-bold leading-none select-none",style:{color:"#FFFFFF"},children:h})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"text-[10px] leading-none mb-1",style:{color:u.nameColor},children:c.username}),_.jsx("div",{className:"text-sm font-semibold leading-snug break-words",style:{color:u.messageColor},children:c.message})]})]},c.id)}),_.jsx("div",{ref:l})]}),_.jsxs("form",{onSubmit:s,className:"px-3 py-8",style:{backgroundColor:u.footerBg,borderTop:u.showBorders?`1px solid ${u.borderColor}`:"none"},children:[n&&_.jsx("div",{className:"mb-2 text-xs text-center",style:{color:"#f87171"},children:r}),_.jsx("div",{className:"w-full",children:_.jsxs("div",{className:"w-full flex items-center rounded-full shadow-sm px-4 py-2",style:{backgroundColor:u.inputPillBg,border:`1px solid ${u.sendBtnBorder}`},children:[_.jsx("input",{ref:a,type:"text",value:i,onChange:o,placeholder:n?"No puedes enviar mensajes":"Escriba su mensaje",className:"flex-1 bg-transparent text-[15px] focus:outline-none",style:{color:u.inputText,caretColor:u.inputText},maxLength:500,disabled:n,autoComplete:"off"}),_.jsx("button",{type:"submit",disabled:!i.trim()||n,"aria-label":"Enviar",title:"Enviar",className:"ml-2 inline-flex items-center justify-center w-10 h-10 rounded-full active:scale-[0.98] transition disabled:opacity-50",style:{backgroundColor:u.sendBtnBg,border:`1px solid ${u.sendBtnBorder}`},children:_.jsx(fW,{size:18,color:u.sendIcon})})]})})]})]}));m4.displayName="ChatBody";const MI=({videoId:t,isMobile:e=!1,theme:n={}})=>{const r={...Sse,...n},[i,o]=x.useState([]),[s,a]=x.useState(null),[l,u]=x.useState(""),[c,f]=x.useState(""),[h,p]=x.useState(!0),[g,v]=x.useState(!1),[m,y]=x.useState(""),b=x.useRef(null),E=x.useRef(null);x.useEffect(()=>{const P=kt(Ge(ye,"chatMessages"),Re("videoId","==",t),hi("timestamp","asc"));return Mn(P,N=>{const j=N.docs.map(D=>{var W;return{id:D.id,...D.data(),timestamp:(W=D.data().timestamp)==null?void 0:W.toDate()}});o(j)})},[t]),x.useEffect(()=>{const P=kt(Ge(ye,"pinnedMessages"),Re("videoId","==",t),Re("isActive","==",!0));return Mn(P,N=>{var W,J,te,U;if(N.empty){a(null);return}const j=N.docs[0],D=j.data();a({id:j.id,...D,createdAt:((J=(W=D.createdAt)==null?void 0:W.toDate)==null?void 0:J.call(W))??D.createdAt??null,updatedAt:((U=(te=D.updatedAt)==null?void 0:te.toDate)==null?void 0:U.call(te))??D.updatedAt??null})})},[t]),x.useEffect(()=>{const P=localStorage.getItem("chatUsername");P&&(f(P),p(!1),I(P))},[]),x.useEffect(()=>{if(c){const P=setInterval(()=>{I(c)},1e4);return()=>clearInterval(P)}},[c,t]);const I=async P=>{var O,N;try{const j=kt(Ge(ye,"chatModeration"),Re("videoId","==",t),Re("username","==",P)),D=await Ja(j);if(D.empty){v(!1),y("");return}const W=D.docs[0].data();if(W.permanentlyMuted){v(!0),y("Voc foi silenciado permanentemente neste vdeo");return}if(W.mutedUntil){const J=W.mutedUntil instanceof Date?W.mutedUntil:((N=(O=W.mutedUntil).toDate)==null?void 0:N.call(O))??new Date(W.mutedUntil);if(J>new Date){v(!0);const te=Math.ceil((J.getTime()-Date.now())/6e4);y(`Voc est silenciado por mais ${te} minuto(s)`)}else v(!1),y("")}else v(!1),y("")}catch(j){console.error("Erro ao verificar status de mute:",j)}},R=P=>{if(P.preventDefault(),c.trim()){const O=c.trim();localStorage.setItem("chatUsername",O),p(!1),I(O),setTimeout(()=>{var N;return(N=E.current)==null?void 0:N.focus()},0)}},C=async P=>{var N,j;if(P.preventDefault(),!l.trim()||g)return;const O=l.trim();u("");try{await Tl(Ge(ye,"chatMessages"),{videoId:t,username:c,message:O,timestamp:new Date}),(N=E.current)==null||N.focus()}catch(D){console.error("Erro ao enviar mensagem:",D),u(O),(j=E.current)==null||j.focus()}},A=x.useCallback(P=>{u(P.target.value)},[]);if(h)return _.jsx("div",{className:"shadow-2xl p-6 flex items-center justify-center",style:{height:"60vh",backgroundColor:r.containerBg,border:r.showBorders?`1px solid ${r.borderColor}`:"none",borderRadius:r.borderRadiusPx,overflow:"hidden"},children:_.jsxs("div",{className:"text-center w-full max-w-sm",children:[_.jsx(hR,{className:"mx-auto h-12 w-12 mb-4",color:"#40BAC4"}),_.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:r.messageColor},children:"Chat en vivo"}),_.jsxs("form",{onSubmit:R,className:"space-y-4",children:[_.jsx("input",{type:"text",value:c,onChange:P=>f(P.target.value),placeholder:"Ingresa tu nombre",className:"w-full px-4 py-3 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500",style:{backgroundColor:"#0f0f0f",color:"#ffffff",border:`1px solid ${r.borderColor}`},maxLength:20,required:!0}),_.jsx("button",{type:"submit",className:"w-full text-white font-medium py-3 px-4 rounded-lg transition",style:{backgroundColor:"#40BAC4"},children:"Unirse al chat"})]})]})});const S=e?"min(50vh, 620px)":"min(82vh, 900px)";return _.jsxs("div",{className:"shadow-2xl flex flex-col",style:{height:S,backgroundColor:r.containerBg,border:r.showBorders?`1px solid ${r.borderColor}`:"none",borderRadius:r.borderRadiusPx,overflow:"hidden"},children:[_.jsx("div",{className:e?"p-3":"p-4",style:{backgroundColor:r.headerBg,borderBottom:r.showBorders?`1px solid ${r.borderColor}`:"none"},children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:e?"text-base font-semibold":"text-lg font-semibold",style:{color:r.messageColor},children:"Chat en vivo"}),_.jsx("button",{className:"hover:opacity-80","aria-label":"Menu",style:{color:r.nameColor},children:_.jsxs("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"currentColor",children:[_.jsx("circle",{cx:"2",cy:"2",r:"2"}),_.jsx("circle",{cx:"2",cy:"8",r:"2"}),_.jsx("circle",{cx:"2",cy:"14",r:"2"})]})})]})}),_.jsx(m4,{messages:i,pinnedMessage:s,isMuted:g,muteMessage:m,newMessage:l,onChangeMessage:A,onSubmitMessage:C,inputRef:E,messagesEndRef:b,theme:r})]})},kse="/assets/OSF-CJ7QdaXa.svg",LI=({video:t})=>_.jsx("div",{className:"bg-black border-b border-[#3a3a3a] p-4",children:_.jsx("div",{className:"flex justify-center",children:t.logoUrl?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:kse,alt:"Logo",className:"h-8 max-w-32 object-contain"}),_.jsx("p",{className:"text-3xl ml-5 mr-5 -mt-1 text-white",children:"|"}),_.jsx("img",{src:t.logoUrl,alt:"Logo",className:"h-8 max-w-32 object-contain"})]}):_.jsx("div",{className:"h-8 w-32 bg-[#3a3a3a] rounded flex items-center justify-center",children:_.jsx("span",{className:"text-gray-500 text-sm",children:"Logo"})})})}),VI=({video:t})=>t.description?_.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:_.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[t.authorPhotoUrl?_.jsx("img",{src:t.authorPhotoUrl,alt:t.authorName||"Author",className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:_.jsx(gW,{size:20,className:"text-gray-400"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-white font-semibold text-sm",children:t.authorName||"Author"}),_.jsx("div",{className:"text-gray-300 text-sm mt-2 whitespace-pre-wrap break-words",children:t.description})]})]})}):null,Ose="modulepreload",Nse=function(t){return"/"+t},$I={},UI=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Nse(l),l in $I)return;$I[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ose,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},Rse=async t=>{var e,n;try{const r=await fetch(`https://restcountries.com/v3.1/alpha/${t}`,{timeout:3e3});if(!r.ok)throw new Error("Falha na requisio");return((n=(e=(await r.json())[0])==null?void 0:e.name)==null?void 0:n.common)||t}catch(r){return console.warn("Erro ao obter nome do pas:",r),t}},Dse=async()=>{const t=localStorage.getItem("userLocation");if(t)try{const e=JSON.parse(t),n=new Date(e.timestamp);if((new Date().getTime()-n.getTime())/(1e3*60*60)<24)return{country:e.country,country_code:e.country_code,ip:e.ip}}catch(e){console.warn("Erro ao ler cache de localizao:",e)}try{const e=await fetch("https://ipinfo.io/json?token=5dd56127c02307",{timeout:5e3});if(!e.ok)throw new Error("Falha na requisio");const n=await e.json(),r=n.country||"XX",o={country:await Rse(r),country_code:r,ip:n.ip||"Unknown"};return localStorage.setItem("userLocation",JSON.stringify({...o,timestamp:new Date().toISOString()})),o}catch(e){return console.warn("Erro ao obter localizao:",e),{country:"Unknown",country_code:"XX",ip:"Unknown"}}},jse=()=>{const t=navigator.userAgent;let e="Desktop";/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)&&(/iPad/i.test(t)?e="Tablet":e="Mobile");let n="Unknown";/Windows/i.test(t)?n="Windows":/Mac/i.test(t)?n="macOS":/Linux/i.test(t)?n="Linux":/Android/i.test(t)?n="Android":/iPhone|iPad|iPod/i.test(t)&&(n="iOS");let r="Unknown";return/Chrome/i.test(t)&&!/Edge/i.test(t)?r="Chrome":/Firefox/i.test(t)?r="Firefox":/Safari/i.test(t)&&!/Chrome/i.test(t)?r="Safari":/Edge/i.test(t)?r="Edge":/Opera/i.test(t)&&(r="Opera"),{device:e,os:n,browser:r}},Mse=async t=>{const e=`tracked_${t}_${Date.now().toString().slice(0,-5)}`;if(!sessionStorage.getItem(e))try{const r=await Dse(),i=jse(),{collection:o,addDoc:s}=await UI(async()=>{const{collection:l,addDoc:u}=await Promise.resolve().then(()=>$8);return{collection:l,addDoc:u}},[]),{db:a}=await UI(async()=>{const{db:l}=await Promise.resolve().then(()=>eW);return{db:l}},void 0);await s(o(a,"analytics"),{videoId:t,timestamp:new Date,country:(r==null?void 0:r.country)||"Unknown",countryCode:(r==null?void 0:r.country_code)||"XX",device:i.device,os:i.os,browser:i.browser,ip:(r==null?void 0:r.ip)||"Unknown",userAgent:navigator.userAgent}),sessionStorage.setItem(e,"true")}catch(r){console.error("Erro ao rastrear visualizao:",r)}},Fy=t=>{const e=t.data()||{},n=r=>r!=null&&r.toDate?r.toDate():r??null;return{id:t.id,...e,createdAt:n(e.createdAt),updatedAt:n(e.updatedAt),premiereDate:n(e.premiereDate)}},Lse="America/Sao_Paulo",Vse="America/Mexico_City",$se="es-ES",FI=(t,e)=>new Intl.DateTimeFormat($se,{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:e}).format(t),Use=({slug:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(null),[o,s]=x.useState(null),[a,l]=x.useState(null),[u,c]=x.useState(0),[f,h]=x.useState(!1),[p,g]=x.useState(!0),[v,m]=x.useState(!1),[y,b]=x.useState("chat"),E=x.useRef(null),I=()=>{let W=localStorage.getItem("userIdentifier");return W||(W=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userIdentifier",W)),W};x.useEffect(()=>{const W=()=>{m(window.innerWidth<768)};return W(),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const R=W=>{const J=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,te=W==null?void 0:W.match(J);return te?te[1]:null};x.useEffect(()=>{g(!0),n(null),i(null),s(null);const W=kt(Ge(ye,"videos"),Re("slug","==",t)),J=Mn(W,async te=>{if(te.empty){n(null),g(!1);return}const U=te.docs[0],L=Fy(U);if(!L.isActive&&L.redirectUrl){window.location.href=L.redirectUrl;return}n(L),g(!1),L.id!==E.current&&(Mse(L.id),E.current=L.id)},te=>{console.error("Erro ao ouvir vdeo em tempo real:",te),g(!1)});return()=>{J()}},[t]),x.useEffect(()=>{if(!e)return;const W=kt(Ge(ye,"featureButtons"),Re("videoId","==",e.id),Re("isActive","==",!0));return Mn(W,te=>{var L,B;if(te.empty){l(null);return}const U=te.docs[0];l({id:U.id,...U.data(),createdAt:(L=U.data().createdAt)==null?void 0:L.toDate(),updatedAt:(B=U.data().updatedAt)==null?void 0:B.toDate()})})},[e]),x.useEffect(()=>{if(!e)return;const W=kt(Ge(ye,"videoLikes"),Re("videoId","==",e.id));return Mn(W,te=>{c(te.size);const U=I(),L=te.docs.find(B=>B.data().userIdentifier===U);h(!!L)})},[e]),x.useEffect(()=>{if(!e)return;let W=null,J=null;const te=L=>{const B=pn(ye,"videos",L);W=Mn(B,Y=>{Y.exists()?i(Fy(Y)):i(null)},Y=>{console.error("Erro ao ouvir vdeo anterior:",Y)})},U=L=>{const B=pn(ye,"videos",L);J=Mn(B,Y=>{Y.exists()?s(Fy(Y)):s(null)},Y=>{console.error("Erro ao ouvir prximo vdeo:",Y)})};return e.previousVideoId?te(e.previousVideoId):i(null),e.nextVideoId?U(e.nextVideoId):s(null),()=>{W&&W(),J&&J()}},[e==null?void 0:e.previousVideoId,e==null?void 0:e.nextVideoId,e==null?void 0:e.id]);const C=async()=>{if(!e)return;const W=I();try{if(f){const J=kt(Ge(ye,"videoLikes"),Re("videoId","==",e.id),Re("userIdentifier","==",W)),te=await Ja(J);te.empty||await el(pn(ye,"videoLikes",te.docs[0].id))}else await Tl(Ge(ye,"videoLikes"),{videoId:e.id,userIdentifier:W,createdAt:new Date})}catch(J){console.error("Erro ao processar like:",J)}},A=async()=>{const W=window.location.href,J=(e==null?void 0:e.displayTitle)||"Video";if(navigator.share)try{await navigator.share({title:J,url:W})}catch(te){console.error("Erro ao compartilhar:",te)}else try{await navigator.clipboard.writeText(W),alert("Link copiado para a rea de transferncia!")}catch(te){console.error("Erro ao copiar link:",te)}};if(p)return _.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});if(!e)return _.jsx("div",{className:"min-h-screen bg-black] flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Video no encontrado"}),_.jsx("p",{className:"text-gray-400",children:"El video que buscas no existe o no est disponible."})]})});const S=R(e.youtubeUrl),P=!e.isActive,O=P&&e.inactiveMode==="premiere",N=P&&e.inactiveMode==="unavailable",j=()=>N?_.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[#1a1a1a] flex items-center justify-center",children:_.jsxs("div",{className:"text-center px-4",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Video no disponible"}),_.jsx("p",{className:"text-gray-400",children:"Este contenido no est disponible en este momento"})]})}):O?_.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:e.premiereThumbnailUrl?_.jsx("img",{src:e.premiereThumbnailUrl,alt:"Thumbnail de estreia",className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full bg-[#1a1a1a] flex items-center justify-center",children:_.jsxs("div",{className:"text-center px-4",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"En breve"}),_.jsx("p",{className:"text-gray-400",children:"Este video se estrenar pronto"})]})})}):_.jsx("iframe",{src:`https://www.youtube.com/embed/${S}?autoplay=0&rel=0&modestbranding=1`,title:e.displayTitle,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),D=(W="")=>{if(!(O&&e.premiereDate))return null;const J=e.premiereDate instanceof Date?e.premiereDate:new Date(e.premiereDate),te=FI(J,Lse),U=FI(J,Vse);return _.jsx("div",{className:W,children:_.jsxs("div",{className:"space-y-1 w-[100%]",children:[_.jsxs("p",{className:"text-gray-300",children:["Estreno (Mxico): ",U]}),_.jsxs("p",{className:"text-gray-400",children:["Estreno (Brasil): ",te]})]})})};return v?_.jsxs("div",{className:"min-h-screen bg-black",children:[_.jsx(LI,{video:e}),_.jsxs("div",{className:"pb-20",children:[_.jsx("div",{className:"relative pb-[56.25%] h-0 bg-black",children:j()}),D("px-4 pt-6 pb-6 text-center"),a&&_.jsx("div",{className:"px-4 pt-3",children:_.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-4 rounded-lg text-center font-semibold transition-transform hover:scale-[1.02] duration-200",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text})}),(r||o)&&_.jsxs("div",{className:"px-4 py-3 flex gap-2",children:[r&&_.jsxs("a",{href:`/${r.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] hover:bg-[#ff7373] text-white rounded-lg transition-colors",children:[_.jsx(XA,{size:20}),_.jsx("span",{className:"text-sm",children:"Anterior"})]}),o&&_.jsxs("a",{href:`/${o.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] hover:bg-[#ff7373] text-white rounded-lg transition-colors",children:[_.jsx("span",{className:"text-sm",children:"Siguiente"}),_.jsx(JA,{size:20})]})]}),_.jsxs("div",{className:"px-4",children:[_.jsxs("div",{className:"border-b border-[#2a2a2a] flex",children:[_.jsx("button",{onClick:()=>b("chat"),className:`flex-1 py-3 text-sm font-medium transition-colors ${y==="chat"?"text-white border-b-2 border-white":"text-gray-400"}`,children:"Chat en vivo"}),_.jsx("button",{onClick:()=>b("description"),className:`flex-1 py-3 text-sm font-medium transition-colors ${y==="description"?"text-white border-b-2 border-white":"text-gray-400"}`,children:"Descripcin"})]}),_.jsx("div",{className:"mt-4",children:y==="chat"?P?_.jsx("div",{className:"text-center py-10 text-gray-400",children:"El chat est deshabilitado"}):_.jsx(MI,{videoId:e.id,isMobile:!0}):_.jsxs("div",{className:"pb-24",children:[_.jsx("h1",{className:"text-lg font-bold text-white mb-3",children:e.displayTitle}),!P&&e.description&&_.jsx(VI,{video:e}),P&&e.authorName&&_.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:_.jsxs("div",{className:"flex items-start space-x-3",children:[e.authorPhotoUrl?_.jsx("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:_.jsx("span",{className:"text-gray-400 text-sm",children:e.authorName[0]})}),_.jsx("div",{className:"flex-1",children:_.jsx("h3",{className:"text-white font-semibold text-sm",children:e.authorName})})]})})]})})]})]})]}):_.jsxs("div",{className:"min-h-screen bg-black",children:[_.jsx(LI,{video:e}),_.jsx("div",{className:"container mx-auto px-4 py-6",children:_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2",children:[_.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl border border-[#2a2a2a] mb-4",children:_.jsx("div",{className:"relative pb-[56.25%] h-0 bg-black",children:j()})}),D("mb-4 text-center"),a&&_.jsx("div",{className:"mb-4",children:_.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 rounded-lg text-center font-semibold transition-transform hover:scale-[1.02] duration-200",style:{backgroundColor:a.backgroundColor,color:a.textColor},children:a.text})}),_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("div",{className:"text-white font-semibold",children:e.displayTitle}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("button",{onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-colors ${f?"bg-red-600 border-red-600 text-white":"bg-white border-gray-300 text-black hover:bg-gray-100"}`,children:[_.jsx(lW,{size:18,fill:f?"currentColor":"none"}),_.jsx("span",{className:"text-sm font-medium",children:"Deja tu like"})]}),_.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-black rounded-full hover:bg-gray-100 transition-colors",children:[_.jsx(hW,{size:18}),_.jsx("span",{className:"text-sm font-medium",children:"Comparte este contenido"})]})]})]}),(r||o)&&_.jsxs("div",{className:"mb-4 flex gap-3",children:[r&&_.jsxs("a",{href:`/${r.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg transition-colors",children:[_.jsx(XA,{size:20}),_.jsx("span",{children:"Clase Anterior"})]}),o&&_.jsxs("a",{href:`/${o.slug}`,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg transition-colors",children:[_.jsx("span",{children:"Siguiente Clase"}),_.jsx(JA,{size:20})]})]}),!P&&e.description&&_.jsx(VI,{video:e}),P&&e.authorName&&_.jsx("div",{className:"bg-[#2a2a2a] rounded-xl p-4 border border-[#3a3a3a]",children:_.jsxs("div",{className:"flex items-start space-x-3",children:[e.authorPhotoUrl?_.jsx("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-[#3a3a3a] flex items-center justify-center",children:_.jsx("span",{className:"text-gray-400 text-sm",children:e.authorName[0]})}),_.jsx("div",{className:"flex-1",children:_.jsx("h3",{className:"text-white font-semibold text-sm",children:e.authorName})})]})})]}),_.jsx("div",{className:"lg:col-span-1",children:P?_.jsx("div",{className:"bg-[#1a1a1a] rounded-xl border border-[#2a2a2a] p-6 text-center",children:_.jsx("p",{className:"text-gray-400",children:"El chat est deshabilitado"})}):_.jsx(MI,{videoId:e.id,isMobile:!1})})]})})]})};function Fse(){const{user:t,loading:e}=r1();return e?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):_.jsx(kU,{children:_.jsxs(aU,{children:[_.jsx(Tf,{path:"/admin",element:t?_.jsx(bW,{children:_.jsx(Ase,{})}):_.jsx(wW,{})}),_.jsx(Tf,{path:"/:slug",element:_.jsx(Use,{slug:window.location.pathname.substring(1)})}),_.jsx(Tf,{path:"/",element:_.jsx(oU,{to:"/admin",replace:!0})})]})})}tO(document.getElementById("root")).render(_.jsx(x.StrictMode,{children:_.jsx(Fse,{})}));
